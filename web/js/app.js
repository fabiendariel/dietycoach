!function(t){function e(e){for(var i,a,s=e[0],c=e[1],u=e[2],h=0,d=[];h<s.length;h++)a=s[h],r[a]&&d.push(r[a][0]),r[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);for(l&&l(e);d.length;)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={"js/app":0,"js/analytics":0,"js/autocomplete":0},o=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/build/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push(["nMhI",0,1]),n()}({"+EQa":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("tjbx"),o=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.name,t.sid,n));return Object.defineProperties(i,{_signaling:{value:t},_track:{value:null,writable:!0},kind:{enumerable:!0,value:t.kind}}),t.on("updated",function(){t.error?i.emit("subscriptionFailed",t.error):(i.track&&i.track._setEnabled(t.isEnabled),i.emit(t.isEnabled?"trackEnabled":"trackDisabled"))}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"toString",value:function(){return"[RemoteTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}},{key:"_subscribed",value:function(t){!this._track&&t&&(this._track=t,this.emit("subscribed",t))}},{key:"_unsubscribe",value:function(){if(this._track){var t=this._track;this._track=null,t._unsubscribe(),this.emit("unsubscribed",t)}}},{key:"isSubscribed",get:function(){return!!this._track}},{key:"isTrackEnabled",get:function(){return this._signaling.isEnabled}},{key:"track",get:function(){return this._track}}]),e}();t.exports=o},"+SKG":function(t,e,n){(function(e){t.exports=function(t){return n&&e.Buffer.isBuffer(t)||i&&(t instanceof e.ArrayBuffer||r(t))};var n="function"==typeof e.Buffer&&"function"==typeof e.Buffer.isBuffer,i="function"==typeof e.ArrayBuffer,r=i&&"function"==typeof e.ArrayBuffer.isView?e.ArrayBuffer.isView:function(t){return t.buffer instanceof e.ArrayBuffer}}).call(this,n("yLpj"))},"+kOg":function(t,e,n){"use strict";var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=n("+qE3").EventEmitter,a=n("1RtY"),s=n("/Ylb"),c=n("ghd6").deprecateEvents,u=n("5wwa").MediaConnectionError,l=0,h=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r,o,a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),s=i.log.createLog("default",a),h=new Map;return Object.defineProperties(a,{_log:{value:s},_instanceId:{value:++l},_options:{value:i},_participants:{value:h},_signaling:{value:n},dominantSpeaker:{enumerable:!0,get:function(){return this.participants.get(n.dominantSpeakerSid)||null}},isRecording:{enumerable:!0,get:function(){return n.recording.isEnabled||!1}},localParticipant:{enumerable:!0,value:t},name:{enumerable:!0,value:n.name},participants:{enumerable:!0,value:h},sid:{enumerable:!0,value:n.sid},state:{enumerable:!0,get:function(){return n.state}}}),c("Room",a,new Map([["trackAdded","trackSubscribed"],["trackRemoved","trackUnsubscribed"]]),s),r=a,(o=n.recording).on("updated",function(){var t=o.isEnabled;r._log.info("Recording "+(t?"started":"stopped")),r.emit("recording"+(t?"Started":"Stopped"))}),function(t,e){var n=t._log;n.debug("Creating a new RemoteParticipant for each ParticipantSignaling in the RoomSignaling"),e.participants.forEach(d.bind(null,t)),n.debug("Setting up RemoteParticipant creation for all subsequent ParticipantSignalings that connect to the RoomSignaling"),e.on("participantConnected",d.bind(null,t)),e.on("dominantSpeakerChanged",function(){return t.emit("dominantSpeakerChanged",t.dominantSpeaker)}),e.on("stateChanged",function i(r,o){switch(n.info("Transitioned to state:",r),r){case"disconnected":t.participants.forEach(function(t){t._unsubscribeTracks()}),t.emit(r,t,o),e.removeListener("stateChanged",i);break;case"reconnecting":t.emit("reconnecting",new u);break;default:t.emit("reconnected")}})}(a,n),s.info("Created a new Room:",a.name),s.debug("Initial RemoteParticipants:",Array.from(a._participants.values())),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"toString",value:function(){return"[Room #"+this._instanceId+": "+this.sid+"]"}},{key:"disconnect",value:function(){return this._log.info("Disconnecting"),this._signaling.disconnect(),this}},{key:"getStats",value:function(){return this._signaling.getStats().then(function(t){return Array.from(t).map(function(t){var e=i(t,2),n=e[0],r=e[1];return new s(n,r)})})}}]),e}();function d(t,e){var n=t._log,i=new a(e,{log:n});n.info("A new RemoteParticipant connected:",i),t._participants.set(i.sid,i),t.emit("participantConnected",i);var r=[["trackSubscribed","trackAdded"],"trackDimensionsChanged","trackDisabled","trackEnabled","trackMessage","trackPublished",["trackUnsubscribed","trackRemoved"],"trackStarted","trackSubscribed","trackSubscriptionFailed","trackUnpublished","trackUnsubscribed"].map(function(e){var n="string"==typeof e?e:e[0],r="string"==typeof e?e:e[1];function o(){var e=[].slice.call(arguments);e.unshift(r),e.push(i),t.emit.apply(t,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))}return i.on(n,o),[n,o]});i.once("disconnected",function(){var e=t.dominantSpeaker;n.info("RemoteParticipant disconnected:",i),t._participants.delete(i.sid),r.forEach(function(t){i.removeListener(t[0],t[1])}),t.emit("participantDisconnected",i),i===e&&t.emit("dominantSpeakerChanged",t.dominantSpeaker)})}t.exports=h},"+qE3":function(t,e,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function l(t,e,n,i){var r,o,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=u(t))>0&&a.length>r&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return t}function h(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,t))}.bind(i);return r.listener=n,i.wrapFn=r,r}function d(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):f(r,r.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=r[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var u=c.length,l=f(c,u);for(n=0;n<u;++n)o(l[n],this,e)}return!0},s.prototype.addListener=function(t,e){return l(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return l(this,t,e,!0)},s.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,h(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,h(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,i,r,o,a;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},"/+gY":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r="undefined"!=typeof AudioContext?AudioContext:"undefined"!=typeof webkitAudioContext?webkitAudioContext:null,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=Object.assign({AudioContext:r},e),Object.defineProperties(this,{_AudioContext:{value:e.AudioContext},_audioContext:{value:null,writable:!0},_holders:{value:new Set},AudioContextFactory:{enumerable:!0,value:t}})}return i(t,[{key:"getOrCreate",value:function(t){if(!this._holders.has(t)&&(this._holders.add(t),this._AudioContext&&!this._audioContext))try{this._audioContext=new this._AudioContext}catch(t){}return this._audioContext}},{key:"release",value:function(t){this._holders.has(t)&&(this._holders.delete(t),!this._holders.size&&this._audioContext&&(this._audioContext.close(),this._audioContext=null))}}]),t}();t.exports=new o},"/Ylb":function(t,e,n){"use strict";var i=n("r2dn"),r=n("BMBc"),o=n("yTCf"),a=n("b9Z9");t.exports=function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e)throw new Error("RTCPeerConnection id must be a string");Object.defineProperties(this,{peerConnectionId:{value:e,enumerable:!0},localAudioTrackStats:{value:n.localAudioTrackStats.map(function(t){return new i(t.trackId,t)}),enumerable:!0},localVideoTrackStats:{value:n.localVideoTrackStats.map(function(t){return new r(t.trackId,t)}),enumerable:!0},remoteAudioTrackStats:{value:n.remoteAudioTrackStats.map(function(t){return new o(t.trackId,t)}),enumerable:!0},remoteVideoTrackStats:{value:n.remoteVideoTrackStats.map(function(t){return new a(t.trackId,t)}),enumerable:!0}})}},"/c9E":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("+z1p"),r=n("EVdn"),o=function(){function t(t){var e=this;this.$input=r(t),this.$wrapper=this.$input.closest(".form-field-check"),this.$input.on("change hc:change",function(){return e._toggle()}),this._toggle()}return t.prototype._toggle=function(){this.$input.prop("checked")?this.$wrapper.addClass("checked"):this.$wrapper.removeClass("checked")},t}(),a=function(){function t(t){var e=this,n=r('<div class="password-wrapper">');this.$input=r(t),this.$toggler=r('<span class="toggle">'),this.$input.wrap(n),this.$wrapper=this.$input.closest(".password-wrapper"),this.$wrapper.append(this.$toggler),this.$toggler.on("click",function(){return e._toggle()})}return t.prototype._toggle=function(){this.$wrapper.toggleClass("visible");var t=this.$wrapper.hasClass("visible")?"text":"password";this.$input.attr("type",t)},t}(),s=function(){function t(t){var e=this;this.$input=r(t),this.$collection=this.$input.closest(".form-field").find('input[type="radio"]'),this.$input.on("change",function(){return e._toggle()}),this._toggle()}return t.prototype._toggle=function(){this.$collection.each(function(t,e){var n=r(e).closest(".form-field-check");r(e).prop("checked")?n.addClass("checked"):n.removeClass("checked")})},t}(),c=function(){function t(t){var e=this;this.$input=r(t),this.$wrapper=r('<div class="switch-wrapper">'),this.$wrapper.prependTo(this.$input.closest(".form-field-switch")).append(this.$input.closest(".form-field-switch").find("label")).append(this.$input).append(r('<span class="switch">')),this.$wrapper.on("click",".switch",function(t){e.$input.prop("checked",!e.$input.prop("checked")),e.$input.trigger("change")}),this.$input.on("change hc:change",function(){e._toggle(),e._submit()}),this.$autosubmit=void 0!==this.$input.attr("autosubmit"),this._toggle()}return t.prototype._toggle=function(){this.$input.prop("checked")?this.$wrapper.addClass("checked"):this.$wrapper.removeClass("checked")},t.prototype._submit=function(){!0===this.$autosubmit&&this.$input.closest("form").trigger("submit")},t}(),u=function(){function t(t){var e=this,n=r('<div class="textarea-wrapper">'),o=r('<div class="textarea-footer">');if(this.$input=r(t),this._limitText=(r("body").data("text")||{"textarea-limit":"%count% / %max%"})["textarea-limit"],this._limit=this.$input.attr("maxlength"),this._clipboard=this.$input.attr("use-clipboard")||null,this._limit&&(this._limitText=this._limitText.replace("%max%",this._limit.toString()),o.append(r('<div class="counter">'))),this._clipboard){var a=r('<a href="#">').addClass("clipboard").attr("clipboard",this._clipboard).text(this.$input.attr("clipboard-label")||"copy");this.$input.attr("clipboard-source",this._clipboard),o.append(a)}n.insertBefore(this.$input).append(this.$input).append(o),this.$wrapper=this.$input.closest(".textarea-wrapper"),this._clipboard&&r(document).trigger("hc:ready",this.$wrapper.find(".textarea-footer")),this.$input.on("input",function(){return e._check()}),void 0!==this.$input.data("editor")&&i.create(t,{removePlugins:["Heading","Link"],toolbar:["bold","italic","bulletedList","numberedList","undo","redo"]}).then(function(t){e.$wrapper.addClass("use-editor"),t.model.document.on("change:data",function(){e.$input.val(t.getData()),e._check()})}),this._check()}return t.prototype._check=function(){if(this._limit){var t=this.$input.val(),e=r("<div>").html(t).text().length,n=this._limitText.replace("%count%",e.toString());this.$wrapper.find(".counter").html(n)}},t}(),l=function(){function t(t){var e=this;this.$form=r(t),this.$inputs=this.$form.find("select, input, textarea"),this.$form.data("changed",!1),this.$form.on("change",function(){return e.$form.data("changed",!0)}),this.$form.on("submit",function(){return e._forceTouched()}),this.$form.on("click",'[type="submit"]',function(){return e._forceTouched()}),this.$inputs.on("blur",function(t){return r(t.target).addClass("touched")});var n=this.$inputs.get().some(function(t){return t.hasAttribute("required")});if((n=n&&void 0===this.$form.attr("no-required-msg"))&&"dashboard"!==this.$form.attr("name")){var i=r("<div>").addClass("form-field required-fields"),o=r("body").data("text")["required-fields"];i.append(o);var a=this.$form.find("[required-wrapper]");1===a.length?a.append(i):this.$form.append(i)}}return t.prototype._forceTouched=function(){this.$inputs.trigger("blur")},t}();r(document).on("hc:ready",function(t,e){t.preventDefault();var n=r(e||document);n.find('.form-field-check input[type="checkbox"]').each(function(t,e){return new o(e)}),n.find('.form-field-switch input[type="checkbox"]').each(function(t,e){return new c(e)}),n.find('.form-field-check input[type="radio"]').each(function(t,e){return new s(e)}),n.find("form").each(function(t,e){return new l(e)}),n.find('input[type="password"]').each(function(t,e){return new a(e)}),n.find("textarea").each(function(t,e){return new u(e)})})},"/gBg":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=function(){return function(t){var e=this;this.$trigger=i(t);var n=i("<span>").addClass("tooltip-content").addClass(this.$trigger.attr("class")).html(this.$trigger.data("tooltip")).appendTo(this.$trigger);this.$trigger.addClass("tooltip"),this.$trigger.on("click",function(t){t.preventDefault(),t.stopPropagation(),e.$trigger.toggleClass("active")}),i(this).on("hc:update",function(t,e){return n.html(e)})}}();e.Tooltip=r,i(document).on("hc:ready",function(t,e){t.preventDefault(),i(e||document).find("[data-tooltip]").each(function(t,e){return new r(e)})})},"/kv6":function(t,e,n){"use strict";var i=n("sYJf");t.exports=function(t,e,n,r){var o=void 0,a=new Error("Canceled");return new i(function(s,c,u){var l=void 0;t(function(t){return u()?i.reject(a):(l=e(t),n(l).then(function(t){if(u())throw a;return o=t()}))}).then(function(t){if(u())throw t.disconnect(),a;s(r(l,t))}).catch(function(t){c(t)})},function(){o&&o.cancel()})}},"/siA":function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=n("AT6e"),s=o,c=function(t){function e(e){var n=t.call(this,e)||this;return n._config=JSON.parse(s(e).attr("planning-availability")),n}return r(e,t),e.prototype._constructDay=function(t){var e=this,n=s('<div class="day">');t.slots.map(function(i){var r=s('<div class="slot">'),o=[];o.push(""===i.typeClass?"empty":i.typeClass),""!==i.locationClass&&o.push(i.locationClass),r.data("slot",i).attr("data-start",i.start).addClass(o.join("_"));var a={type:i.type,date:t.date,startTime:i.start,endTime:i.end};if(""===i.typeClass)s("<a>").attr("href",e._config.urlNew+"?"+s.param(a)).attr("modal-request",!0).addClass("new-slot").append(s('<i class="icon-plus-circle-solid">')).appendTo(r);else{var c=s('<div class="slot-actions">'),u=s("<div>");s("<a>").attr("href",e._config.urlDelete+"?"+s.param(a)).attr("modal-request",!0).append(s('<i class="icon-trash">')).appendTo(u),a.location=i.location,s("<a>").attr("href",e._config.urlUpdate+"?"+s.param(a)).attr("modal-request",!0).attr("data-target",i.typeClass.replace("_physical","")).append(s('<i class="icon-edit">')).appendTo(u),c.append(u).appendTo(r)}n.append(r)}),n.appendTo(this.$dayWrapper),this._draw(),s(document).trigger("hc:ready",n)},e}(a.Planning);s(document).on("hc:ready",function(t,e){t.preventDefault(),s(e||document).find("[planning-availability]").each(function(t,e){return new c(e)})})},0:function(t,e){},"0T4R":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,o=n("EVdn");i=o,r=function(){function t(t){var e=this;this.$wrapper=i(t),this.$tabs=i(i.merge(this.$wrapper.find("[data-target].active").get(),this.$wrapper.find("[data-target]").get())),this.$tabs.on("click",function(t){return e.updateLink(t)}),this.$tabs.first().trigger("click")}return t.prototype.updateContent=function(){this.$tabs.each(function(t,e){i(e).hasClass("active")?(i("#"+i(e).data("target")).show(),i(".icon-receive-attachment").hasClass("active")?i(".icon-receive-attachment").css({color:"#15C0E6"}):i(".icon-receive-attachment").css({color:"#4D505C"})):i("#"+i(e).data("target")).hide()})},t.prototype.updateLink=function(t){t.preventDefault(),t.stopPropagation(),this.$tabs.removeClass("active"),i(t.target).addClass("active"),this.updateContent()},t}(),i(document).on("hc:ready",function(t,e){t.preventDefault(),i(e||document).find("[link-tabs]").each(function(t,e){return new r(e)})})},"0iCT":function(t,e,n){"use strict";t.exports=function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e)throw new Error("Track id must be a string");Object.defineProperties(this,{trackId:{value:e,enumerable:!0},trackSid:{value:n.trackSid,enumerable:!0},timestamp:{value:n.timestamp,enumerable:!0},ssrc:{value:n.ssrc,enumerable:!0},packetsLost:{value:"number"==typeof n.packetsLost?n.packetsLost:null,enumerable:!0},codec:{value:"string"==typeof n.codecName?n.codecName:null,enumerable:!0}})}},"0z79":function(t,e,n){(function(e){var i=n("AdPF"),r=n("CUme"),o=n("cpc2"),a=n("Yvos"),s=n("NOtv")("engine.io-client:polling-xhr");function c(){}function u(t){if(r.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,e.location){var n="https:"===location.protocol,i=location.port;i||(i=n?443:80),this.xd=t.hostname!==e.location.hostname||i!==t.port,this.xs=t.secure!==n}}function l(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function h(){for(var t in l.requests)l.requests.hasOwnProperty(t)&&l.requests[t].abort()}t.exports=u,t.exports.Request=l,a(u,r),u.prototype.supportsBinary=!0,u.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new l(t)},u.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,i=this.request({method:"POST",data:t,isBinary:n}),r=this;i.on("success",e),i.on("error",function(t){r.onError("xhr post error",t)}),this.sendXhr=i},u.prototype.doPoll=function(){s("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},o(l.prototype),l.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new i(t),r=this;try{s("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this.extraHeaders[o])}catch(t){}if("POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{n.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){r.onLoad()},n.onerror=function(){r.onError(n.responseText)}):n.onreadystatechange=function(){if(2===n.readyState)try{var t=n.getResponseHeader("Content-Type");r.supportsBinary&&"application/octet-stream"===t&&(n.responseType="arraybuffer")}catch(t){}4===n.readyState&&(200===n.status||1223===n.status?r.onLoad():setTimeout(function(){r.onError(n.status)},0))},s("xhr data %s",this.data),n.send(this.data)}catch(t){return void setTimeout(function(){r.onError(t)},0)}e.document&&(this.index=l.requestsCount++,l.requests[this.index]=this)},l.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},l.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},l.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},l.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,t)try{this.xhr.abort()}catch(t){}e.document&&delete l.requests[this.index],this.xhr=null}},l.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},l.prototype.hasXDR=function(){return void 0!==e.XDomainRequest&&!this.xs&&this.enablesXDR},l.prototype.abort=function(){this.cleanup()},l.requestsCount=0,l.requests={},e.document&&(e.attachEvent?e.attachEvent("onunload",h):e.addEventListener&&e.addEventListener("beforeunload",h,!1))}).call(this,n("yLpj"))},"1/tH":function(t,e,n){"use strict";t.exports=function(t){return new Promise(function(e,n){!function(t,e,n){if("undefined"!=typeof window&&"undefined"!=typeof navigator){if("object"==typeof navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia)return void navigator.mediaDevices.getUserMedia(t).then(e,n);if("function"==typeof navigator.webkitGetUserMedia)return void navigator.webkitGetUserMedia(t,e,n);if("function"==typeof navigator.mozGetUserMedia)return void navigator.mozGetUserMedia(t,e,n)}n(new Error("getUserMedia is not supported"))}(t||{audio:!0,video:!0},e,n)})}},"14A5":function(t,e,n){(function(e){var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),r=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function a(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var i=n.buffer;if(n.byteLength!==i.byteLength){var r=new Uint8Array(n.byteLength);r.set(new Uint8Array(i,n.byteOffset,n.byteLength)),i=r.buffer}t[e]=i}}}function s(t,e){e=e||{};var i=new n;a(t);for(var r=0;r<t.length;r++)i.append(t[r]);return e.type?i.getBlob(e.type):i.getBlob()}function c(t,e){return a(t),new Blob(t,e||{})}t.exports=i?r?e.Blob:c:o?s:void 0}).call(this,n("yLpj"))},"1I8i":function(t,e,n){"use strict";var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=n("lrhj"),a=n("pWYA"),s=n("Aq89"),c=n("gBrb"),u=n("Lh68"),l=n("3sVZ"),h=n("/Ylb"),d=n("ghd6"),p=n("5wwa").createTwilioError,f=1e3,m=function(t){function e(t,n,i,r,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=Object.assign({DominantSpeakerSignaling:o,NetworkQualityMonitor:a,NetworkQualitySignaling:s,RecordingSignaling:c,RemoteParticipantV2:l,statsPublishIntervalMs:f},u);var p=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n.sid,n.name,u));return Object.defineProperties(p,{_dominantSpeakerSignaling:{value:null,writable:!0},_DominantSpeakerSignaling:{value:u.DominantSpeakerSignaling},_dominantSpeakerSignalingPromise:{value:null,writable:!0},_disconnectedParticipantSids:{value:new Set},_NetworkQualityMonitor:{value:u.NetworkQualityMonitor},_NetworkQualitySignaling:{value:u.NetworkQualitySignaling},_networkQualityMonitor:{value:null,writable:!0},_networkQualityMonitorPromise:{value:null,writable:!0},_networkQualityConfiguration:{value:t.networkQualityConfiguration},_peerConnectionManager:{value:r},_published:{value:new Map},_publishedRevision:{value:0,writable:!0},_RemoteParticipantV2:{value:u.RemoteParticipantV2},_subscribed:{value:new Map},_subscribedRevision:{value:0,writable:!0},_subscriptionFailures:{value:new Map},_transport:{value:i},_trackReceiverDeferreds:{value:new Map}}),function(t,e){var n=d.oncePerTick(function(){var n=d.flatMap(e.tracks,function(t){return t.trackTransceiver});t._peerConnectionManager.setTrackSenders(n)}),i=d.oncePerTick(function(){t._publishNewLocalParticipantState()});e.on("trackAdded",n),e.on("trackRemoved",n),e.on("updated",i),t.on("stateChanged",function r(o){"disconnected"===o&&(e.removeListener("trackAdded",n),e.removeListener("trackRemoved",n),e.removeListener("updated",i),t.removeListener("stateChanged",r),e.disconnect())})}(p,t),function(t,e){e.on("description",function(e){t._publishPeerConnectionState(e)}),e.dequeue("description"),e.on("candidates",function(e){t._publishPeerConnectionState(e)}),e.dequeue("candidates"),e.on("trackAdded",t._addTrackReceiver.bind(t)),e.dequeue("trackAdded"),e.getTrackReceivers().forEach(t._addTrackReceiver,t),e.on("iceConnectionStateChanged",function(){t.emit("mediaConnectionStateChanged"),"failed"===t.mediaConnectionState&&(null!==t.localParticipant.networkQualityLevel&&t.localParticipant.setNetworkQualityLevel(0),t.participants.forEach(function(t){null!==t.networkQualityLevel&&t.setNetworkQualityLevel(0)}))})}(p,r),function(t,e){e.on("message",t._update.bind(t)),e.on("stateChanged",function n(i,r){"disconnected"===i&&("disconnected"!==t.state&&t._disconnect(r),e.removeListener("stateChanged",n)),t.emit("signalingConnectionStateChanged")})}(p,i),function(t,e,n){var i=setInterval(function(){t.getStats().then(function(t){t.forEach(function(t,n){var i=new h(n,t);e.publishEvent("quality","stats-report",{audioTrackStats:i.remoteAudioTrackStats,localAudioTrackStats:i.localAudioTrackStats,localVideoTrackStats:i.localVideoTrackStats,peerConnectionId:i.peerConnectionId,videoTrackStats:i.remoteVideoTrackStats});var r=function(t,e){return(t=Object.assign({availableIncomingBitrate:0,availableOutgoingBitrate:0,bytesReceived:0,bytesSent:0,consentRequestsSent:0,currentRoundTripTime:0,lastPacketReceivedTimestamp:0,lastPacketSentTimestamp:0,nominated:!1,peerConnectionId:e,priority:0,readable:!1,requestsReceived:0,requestsSent:0,responsesReceived:0,responsesSent:0,retransmissionsReceived:0,retransmissionsSent:0,state:"failed",totalRoundTripTime:0,transportId:"",writable:!1},d.filterObject(t||{},null))).localCandidate=Object.assign({candidateType:"host",deleted:!1,ip:"",port:0,priority:0,protocol:"udp",relayProtocol:"udp",url:""},d.filterObject(t.localCandidate||{},null)),t.remoteCandidate=Object.assign({candidateType:"host",ip:"",port:0,priority:0,protocol:"udp",url:""},d.filterObject(t.remoteCandidate||{},null)),t}(t.activeIceCandidatePair,i.peerConnectionId);e.publishEvent("quality","active-ice-candidate-pair",r)})},function(){})},n);t.on("stateChanged",function e(n){"disconnected"===n&&(clearInterval(i),t.removeListener("stateChanged",e))})}(p,i,u.statsPublishIntervalMs),p._update(n),p}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u),r(e,[{key:"_deleteTrackReceiverDeferred",value:function(t){return this._trackReceiverDeferreds.delete(t)}},{key:"_getOrCreateTrackReceiverDeferred",value:function(t){var e=this._trackReceiverDeferreds.get(t)||d.defer(),n=this._peerConnectionManager.getTrackReceivers().find(function(e){return e.id===t&&"ended"!==e.readyState});return n?e.resolve(n):this._trackReceiverDeferreds.set(t,e),e}},{key:"_addTrackReceiver",value:function(t){return this._getOrCreateTrackReceiverDeferred(t.id).resolve(t),this}},{key:"_disconnect",value:function(t){var n=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_disconnect",this).call(this,t);return n&&(this._teardownDominantSpeakerSignaling(),this._teardownNetworkQualityMonitor(),this._transport.disconnect(),this._peerConnectionManager.close()),this.localParticipant.tracks.forEach(function(e){e.publishFailed(t||new Error("LocalParticipant disconnected"))}),n}},{key:"_getTrackReceiver",value:function(t){var e=this;return this._getOrCreateTrackReceiverDeferred(t).promise.then(function(n){return e._deleteTrackReceiverDeferred(t),n})}},{key:"_getOrCreateRemoteParticipant",value:function(t){var e=this._RemoteParticipantV2,n=this.participants.get(t.sid),i=this;return n||((n=new e(t,this._getTrackReceiver.bind(this))).on("stateChanged",function t(e){"disconnected"===e&&(n.removeListener("stateChanged",t),i.participants.delete(n.sid),i._disconnectedParticipantSids.add(n.sid))}),this.connectParticipant(n)),n}},{key:"_getState",value:function(){return{participant:this.localParticipant.getState()}}},{key:"_publishNewLocalParticipantState",value:function(){this._transport.publish(this._getState())}},{key:"_publishPeerConnectionState",value:function(t){this._transport.publish(Object.assign({peer_connections:[t]},this._getState()))}},{key:"_update",value:function(t){var e,n,i=this,r=new Set;if(t.subscribed&&t.subscribed.revision>this._subscribedRevision){this._subscribedRevision=t.subscribed.revision,t.subscribed.tracks.forEach(function(t){t.id?(this._subscriptionFailures.delete(t.sid),this._subscribed.set(t.sid,t.id)):t.error&&!this._subscriptionFailures.has(t.sid)&&this._subscriptionFailures.set(t.sid,t.error)},this);var o=new Set(t.subscribed.tracks.filter(function(t){return!!t.id}).map(function(t){return t.sid}));this._subscribed.forEach(function(t,e){o.has(e)||i._subscribed.delete(e)})}return(t.participants||[]).forEach(function(t){if(t.sid!==i.localParticipant.sid&&!i._disconnectedParticipantSids.has(t.sid)){var e=i._getOrCreateRemoteParticipant(t);e.update(t),r.add(e)}}),e=this,n=new Map(d.flatMap(e.participants,function(t){return Array.from(t.tracks.values()).map(function(t){return[t.sid,t]})})),e._subscriptionFailures.forEach(function(t,i){var r=n.get(i);r&&(e._subscriptionFailures.delete(i),r.subscribeFailed(p(t.code,t.message)))}),n.forEach(function(t){var n=e._subscribed.get(t.sid);(!n||t.isSubscribed&&t.trackTransceiver.id!==n)&&t.setTrackTransceiver(null),n&&e._getTrackReceiver(n).then(function(e){return t.setTrackTransceiver(e)})}),t.peer_connections&&this._peerConnectionManager.update(t.peer_connections),t.recording&&this.recording.update(t.recording),t.published&&t.published.revision>this._publishedRevision&&(this._publishedRevision=t.published.revision,t.published.tracks.forEach(function(t){t.sid&&this._published.set(t.id,t.sid)},this),this.localParticipant.update(t.published)),t.participant&&this.localParticipant.connect(t.participant.sid,t.participant.identity),!this._dominantSpeakerSignalingPromise&&t.media_signaling&&t.media_signaling.active_speaker&&t.media_signaling.active_speaker.transport&&"data-channel"===t.media_signaling.active_speaker.transport.type&&this._setupDataTransportBackedDominantSpeakerSignaling(t.media_signaling.active_speaker.transport.label),!this._networkQualityMonitorPromise&&t.media_signaling&&t.media_signaling.network_quality&&t.media_signaling.network_quality.transport&&"data-channel"===t.media_signaling.network_quality.transport.type&&this._setupDataTransportBackedNetworkQualityMonitor(t.media_signaling.network_quality.transport.label),this}},{key:"_setupDataTransportBackedDominantSpeakerSignaling",value:function(t){var e=this;this._teardownDominantSpeakerSignaling();var n=this._getTrackReceiver(t).then(function(t){if("data"!==t.kind)throw new Error("Expected a DataTrackReceiver");if(e._dominantSpeakerSignalingPromise===n){t.once("close",function(){return e._teardownDominantSpeakerSignaling()});var i=new e._DominantSpeakerSignaling(t.toDataTransport());e._setDominantSpeakerSignaling(i)}});this._dominantSpeakerSignalingPromise=n}},{key:"_setupDataTransportBackedNetworkQualityMonitor",value:function(t){var e=this,n=this;this._teardownNetworkQualityMonitor();var i=this._getTrackReceiver(t).then(function(t){if("data"!==t.kind)throw new Error("Expected a DataTrackReceiver");if(e._networkQualityMonitorPromise===i){t.once("close",function(){return e._teardownNetworkQualityMonitor()});var r=new e._NetworkQualitySignaling(t.toDataTransport(),n._networkQualityConfiguration),o=new e._NetworkQualityMonitor(e._peerConnectionManager,r);e._setNetworkQualityMonitor(o)}});this._networkQualityMonitorPromise=i}},{key:"_setDominantSpeakerSignaling",value:function(t){var e=this;this._dominantSpeakerSignaling=t,t.on("updated",function(){return e.setDominantSpeaker(t.loudestParticipantSid)})}},{key:"_setNetworkQualityMonitor",value:function(t){var e=this;this._networkQualityMonitor=t,t.on("updated",function(){"failed"!==e.mediaConnectionState&&(e.localParticipant.setNetworkQualityLevel(t.level,t.levels),e.participants.forEach(function(e){var n=t.remoteLevels.get(e.sid);n&&e.setNetworkQualityLevel(n.level,n)}))}),t.start()}},{key:"_teardownDominantSpeakerSignaling",value:function(){this._dominantSpeakerSignalingPromise=null,this._dominantSpeakerSignaling=null}},{key:"_teardownNetworkQualityMonitor",value:function(){this._networkQualityMonitorPromise=null,this._networkQualityMonitor&&(this._networkQualityMonitor.stop(),this._networkQualityMonitor=null)}},{key:"getStats",value:function(){var t=this;return this._peerConnectionManager.getStats().then(function(e){return new Map(Array.from(e).map(function(e){var n=i(e,2),r=n[0],o=n[1];return[r,Object.assign({},o,{localAudioTrackStats:g(t,o.localAudioTrackStats),localVideoTrackStats:g(t,o.localVideoTrackStats),remoteAudioTrackStats:_(t,o.remoteAudioTrackStats),remoteVideoTrackStats:_(t,o.remoteVideoTrackStats)})]}))})}},{key:"signalingConnectionState",get:function(){return"syncing"===this._transport.state?"reconnecting":this._transport.state}},{key:"mediaConnectionState",get:function(){return this._peerConnectionManager.iceConnectionState}}]),e}();function v(t,e){return e.reduce(function(e,n){var i=t.get(n.trackId);return i?[Object.assign({},n,{trackSid:i})].concat(e):e},[])}function g(t,e){return v(t._published,e)}function _(t,e){return v(new Map(Array.from(t._subscribed.entries()).map(function(t){var e=i(t,2),n=e[0];return[e[1],n]})),e)}t.exports=m},"1RtY":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var o=n("TTpt"),a=n("ghd6").deprecateEvents,s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return a("RemoteParticipant",i,new Map([["trackAdded","trackSubscribed"],["trackRemoved","trackUnsubscribed"]]),i._log),i._handleTrackSignalingEvents(),i.once("disconnected",i._unsubscribeTracks.bind(i)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),i(e,[{key:"toString",value:function(){return"[RemoteParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"}},{key:"_addTrack",value:function(t,n){return t._setSid(n.trackSid),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_addTrack",this).call(this,t)?(n._subscribed(t),this.emit("trackSubscribed",t),t):null}},{key:"_addTrackPublication",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_addTrackPublication",this).call(this,t);return n?(this.emit("trackPublished",n),n):null}},{key:"_getTrackPublicationEvents",value:function(){return[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_getTrackPublicationEvents",this).call(this)),[["subscriptionFailed","trackSubscriptionFailed"]])}},{key:"_unsubscribeTracks",value:function(){var t=this;this.trackPublications.forEach(function(e){if(e.isSubscribed){var n=e.track;e._unsubscribe(),t.emit("trackUnsubscribed",n)}})}},{key:"_removeTrack",value:function(t,e){var n=this.tracks.get(t._id);return n?(this._deleteTrack(n),e._unsubscribe(),this.emit("trackUnsubscribed",n),this.emit("trackRemoved",n),n):null}},{key:"_removeTrackPublication",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_removeTrackPublication",this).call(this,t);return n?(this.emit("trackUnpublished",n),n):null}}]),e}();t.exports=s},"2Dig":function(t,e){t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},"2NPH":function(t,e,n){"use strict";var i=n("7tlc").inherits,r=n("uxdj");function o(t,e){var n=new r(t,e);return Object.setPrototypeOf(n,o.prototype),n}i(o,r),t.exports=o},"2SMs":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n("EVdn");(i=r)(document).on("hc:ready",function(t,e){t.preventDefault();var n=i(e||document);n.find(".homepage .disciplines").each(function(t,e){return function(t){var e=i(t).find(".carousel");e.slick({centerMode:!0,centerPadding:"80px",dots:!0,infinite:!0,speed:800,slidesToShow:2,slidesToScroll:2,responsive:[{breakpoint:1120,settings:{centerPadding:"0px",arrows:!1,centerMode:!1}},{breakpoint:i(window).data("screenLimit"),settings:{centerPadding:"0px",arrows:!1,slidesToShow:1,slidesToScroll:1}}]}),e.on("breakpoint",function(t,n,i){null===i&&e.slick("slickSetOption","slidesToScroll",2,!0)}),e.slick("slickSetOption","slidesToScroll",2,!0)}(e)}),n.find(".homepage .testimonials").each(function(t,e){return function(t){i(t).find(".carousel").slick({dots:!0,infinite:!0,speed:800,slidesToShow:2,slidesToScroll:2,adaptiveHeight:!0,responsive:[{breakpoint:600,settings:{arrows:!1,slidesToShow:1,slidesToScroll:1}}]})}(e)})})},"2h1k":function(t,e,n){"use strict";var i={};Object.defineProperties(i,{getStats:{enumerable:!0,value:n("8QmE")},getUserMedia:{enumerable:!0,value:n("1/tH")},MediaStream:{enumerable:!0,value:n("qmcU")},MediaStreamTrack:{enumerable:!0,value:n("DsyS")},RTCIceCandidate:{enumerable:!0,value:n("CmYA")},RTCPeerConnection:{enumerable:!0,value:n("GcCu")},RTCSessionDescription:{enumerable:!0,value:n("HmUk")},version:{enumerable:!0,value:n("k/FX").version}}),t.exports=i},"2mUf":function(t,e,n){"use strict";t.exports=function t(e){var n=e.fractionLost,i=void 0===n?null:n,r=e.level,o=void 0===r?null:r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{fractionLost:{value:i,enumerable:!0},level:{value:o,enumerable:!0}})}},"2pII":function(t,e,n){(function(e){var i=n("akSB"),r=n("cpc2"),o=n("NOtv")("engine.io-client:socket"),a=n("7jRU"),s=n("Wm4p"),c=n("Uxeu"),u=n("TypT");function l(t,n){if(!(this instanceof l))return new l(t,n);n=n||{},t&&"object"==typeof t&&(n=t,t=null),t?(t=c(t),n.hostname=t.host,n.secure="https"===t.protocol||"wss"===t.protocol,n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=c(n.host).host),this.secure=null!=n.secure?n.secure:e.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(e.location?location.hostname:"localhost"),this.port=n.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.transportOptions=n.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var i="object"==typeof e&&e;i.global===i&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=l,l.priorWebsocketSuccess=!1,r(l.prototype),l.protocol=s.protocol,l.Socket=l,l.Transport=n("Gbct"),l.transports=n("akSB"),l.parser=n("Wm4p"),l.prototype.createTransport=function(t){o('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=s.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new i[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},l.prototype.open=function(){var t;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},l.prototype.setTransport=function(t){o("setting transport %s",t.name);var e=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},l.prototype.probe=function(t){o('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,i=this;function r(){if(i.onlyBinaryUpgrades){var r=!this.supportsBinary&&i.transport.supportsBinary;n=n||r}n||(o('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(r){if(!n)if("pong"===r.type&&"probe"===r.data){if(o('probe transport "%s" pong',t),i.upgrading=!0,i.emit("upgrading",e),!e)return;l.priorWebsocketSuccess="websocket"===e.name,o('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){n||"closed"!==i.readyState&&(o("changing transport and sending upgrade packet"),d(),i.setTransport(e),e.send([{type:"upgrade"}]),i.emit("upgrade",e),e=null,i.upgrading=!1,i.flush())})}else{o('probe transport "%s" failed',t);var a=new Error("probe error");a.transport=e.name,i.emit("upgradeError",a)}}))}function a(){n||(n=!0,d(),e.close(),e=null)}function s(n){var r=new Error("probe error: "+n);r.transport=e.name,a(),o('probe transport "%s" failed because of error: %s',t,n),i.emit("upgradeError",r)}function c(){s("transport closed")}function u(){s("socket closed")}function h(t){e&&t.name!==e.name&&(o('"%s" works - aborting "%s"',t.name,e.name),a())}function d(){e.removeListener("open",r),e.removeListener("error",s),e.removeListener("close",c),i.removeListener("close",u),i.removeListener("upgrading",h)}l.priorWebsocketSuccess=!1,e.once("open",r),e.once("error",s),e.once("close",c),this.once("close",u),this.once("upgrading",h),e.open()},l.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},l.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else o('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},l.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},l.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},l.prototype.sendPacket=function(t,e,n,i){if("function"==typeof e&&(i=e,e=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:t,data:e,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():e()}):this.upgrading?i():e()}function e(){t.onClose("forced close"),o("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function i(){t.once("upgrade",n),t.once("upgradeError",n)}return this},l.prototype.onError=function(t){o("socket error %j",t),l.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},l.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},l.prototype.filterUpgrades=function(t){for(var e=[],n=0,i=t.length;n<i;n++)~a(this.transports,t[n])&&e.push(t[n]);return e}}).call(this,n("yLpj"))},"2xLa":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("4o7n"),o=n("8WNc"),a=n("Ihm+"),s=function(t){function e(t,n,i,r,o,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i)),u=o>0?r/o:0;return Object.defineProperties(c,{deltaPacketsLost:{enumerable:!0,value:r},deltaPacketsReceived:{enumerable:!0,value:o},fractionLost:{enumerable:!0,value:a},jitter:{enumerable:!0,value:s},phonyFractionLost:{enumerable:!0,value:u}}),c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),i(e,[{key:"summarize",value:function(){return{bitrate:this.bitrate,fractionLost:"number"==typeof this.fractionLost?this.fractionLost:this.phonyFractionLost,jitter:this.jitter}}}],[{key:"of",value:function(t,n,i){if(n.id!==i.id)throw new Error("RTCStats IDs must match");var r=(i.timestamp-n.timestamp)/1e3,o=i.bytesReceived-n.bytesReceived,a=r>0?o/r*8:0,s=Math.max(i.packetsLost-n.packetsLost,0),c=i.packetsReceived-n.packetsReceived,u=i.fractionLost,l=i.jitter;return new e(n.id,t,a,s,c,u,l)}},{key:"summarize",value:function(t){var e=t.map(function(t){return t.summarize()});return{bitrate:a(e.map(function(t){return t.bitrate})),fractionLost:r(e.map(function(t){return t.fractionLost})),jitter:r(e.map(function(t){return t.jitter}))}}}]),e}();t.exports=s},"31MG":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("BWbm").guessBrowser,o=n("d6fC"),a=n("O22K"),s=n("F/ro"),c=n("ghd6"),u=n("5wwa").MediaConnectionError,l="firefox"===r(),h=function(t){function e(t,i,r,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),h=(s=Object.assign({audioContextFactory:l?n("/+gY"):null,PeerConnectionV2:o},s)).audioContextFactory?s.audioContextFactory.getOrCreate(u):null,p=h?{offerToReceiveVideo:!0}:{offerToReceiveAudio:!0,offerToReceiveVideo:!0};return Object.defineProperties(u,{_audioContextFactory:{value:s.audioContextFactory},_closedPeerConnectionIds:{value:new Set},_configuration:{writable:!0,value:null},_configurationDeferred:{writable:!0,value:c.defer()},_dummyAudioTrackSender:{value:h?new a(d(h)):null},_encodingParameters:{value:i},_iceConnectionState:{writable:!0,value:"new"},_iceServerSource:{value:t},_dataTrackSenders:{writable:!0,value:new Set},_lastIceConnectionState:{writable:!0,value:"new"},_mediaTrackSenders:{writable:!0,value:new Set},_offerOptions:{value:p},_peerConnections:{value:new Map},_preferredCodecs:{value:r},_PeerConnectionV2:{value:s.PeerConnectionV2}}),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s),i(e,[{key:"_getConfiguration",value:function(){return this._configurationDeferred.promise}},{key:"_getOrCreate",value:function(t,e){var n=this,i=this,r=this._peerConnections.get(t);if(!r){var o=this._PeerConnectionV2,a=Object.assign({dummyAudioMediaStreamTrack:this._dummyAudioTrackSender?this._dummyAudioTrackSender.track:null,offerOptions:this._offerOptions},e);try{r=new o(t,this._encodingParameters,this._preferredCodecs,a)}catch(t){throw new u}this._peerConnections.set(r.id,r),r.on("candidates",this.queue.bind(this,"candidates")),r.on("description",this.queue.bind(this,"description")),r.on("trackAdded",this.queue.bind(this,"trackAdded")),r.on("stateChanged",function t(e){"closed"===e&&(r.removeListener("stateChanged",t),i._peerConnections.delete(r.id),i._closedPeerConnectionIds.add(r.id),_(i))}),r.on("iceConnectionStateChanged",function(){return _(n)}),this._dataTrackSenders.forEach(r.addDataTrackSender,r),this._mediaTrackSenders.forEach(r.addMediaTrackSender,r),_(this)}return r}},{key:"close",value:function(){return this._iceServerSource.isStarted&&this._iceServerSource.stop(),this._peerConnections.forEach(function(t){t.close()}),this._dummyAudioTrackSender&&this._dummyAudioTrackSender.track.stop(),this._audioContextFactory&&this._audioContextFactory.release(this),_(this),this}},{key:"createAndOffer",value:function(){var t=this;return this._getConfiguration().then(function(e){var n=void 0;do{n=c.makeUUID()}while(t._peerConnections.has(n));return t._getOrCreate(n,e)}).then(function(t){return t.offer()}).then(function(){return t})}},{key:"getTrackReceivers",value:function(){return c.flatMap(this._peerConnections,function(t){return t.getTrackReceivers()})}},{key:"getStates",value:function(){var t=[];return this._peerConnections.forEach(function(e){var n=e.getState();n&&t.push(n)}),t}},{key:"setConfiguration",value:function(t){return this._configuration&&(this._configurationDeferred=c.defer(),this._peerConnections.forEach(function(e){e.setConfiguration(t)})),this._configuration=t,this._configurationDeferred.resolve(t),this}},{key:"setTrackSenders",value:function(t){var e=new Set(t.filter(function(t){return"data"===t.kind})),n=new Set(t.filter(function(t){return t&&("audio"===t.kind||"video"===t.kind)})),i=function(t,e,n){return{data:p(t,e),media:f(t,n)}}(this,e,n);return this._dataTrackSenders=e,this._mediaTrackSenders=n,function(t,e){(e.data.add.size||e.data.remove.size||e.media.add.size||e.media.remove.size)&&t._peerConnections.forEach(function(t){e.data.remove.forEach(t.removeDataTrackSender,t),e.media.remove.forEach(t.removeMediaTrackSender,t),e.data.add.forEach(t.addDataTrackSender,t),e.media.add.forEach(t.addMediaTrackSender,t),t.offer()})}(this,i),this}},{key:"update",value:function(t){var e=this;return this._getConfiguration().then(function(n){return Promise.all(t.map(function(t){return e._closedPeerConnectionIds.has(t.id)?null:e._getOrCreate(t.id,n).update(t)}))}).then(function(){return e})}},{key:"getStats",value:function(){var t=Array.from(this._peerConnections.values());return Promise.all(t.map(function(t){return t.getStats().then(function(e){return[t.id,e]})})).then(function(t){return new Map(t)})}},{key:"iceConnectionState",get:function(){return this._iceConnectionState}}]),e}();function d(t){return t.createMediaStreamDestination().stream.getAudioTracks()[0]}function p(t,e){return{add:c.difference(e,t._dataTrackSenders),remove:c.difference(t._dataTrackSenders,e)}}function f(t,e){return{add:c.difference(e,t._mediaTrackSenders),remove:c.difference(t._mediaTrackSenders,e)}}var m={new:0,checking:1,connected:2,completed:3,disconnected:-1,failed:-2,closed:-3},v=void 0;function g(){return Object.keys(m).reduce(function(t,e){return Object.assign(t,(n={},i=m[e],r=e,i in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n));var n,i,r},{})}function _(t){var e;t._lastIceConnectionState=t.iceConnectionState,t._iceConnectionState=(e=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t._peerConnections.values())).map(function(t){return t.iceConnectionState})).length?(v=v||g(),e.reduce(function(t,e){return v[Math.max(m[t],m[e])]})):"new",t.iceConnectionState!==t._lastIceConnectionState&&t.emit("iceConnectionStateChanged")}t.exports=h},"3h4Y":function(t,e,n){"use strict";var i=n("iqXr").version,r={};Object.defineProperties(r,{connect:{enumerable:!0,value:n("9/wP")},createLocalAudioTrack:{enumerable:!0,value:n("M1q1").audio},createLocalTracks:{enumerable:!0,value:n("Qvpb")},createLocalVideoTrack:{enumerable:!0,value:n("M1q1").video},isSupported:{enumerable:!0,value:n("t472")()},LocalAudioTrack:{enumerable:!0,value:n("gJbR")},LocalDataTrack:{enumerable:!0,value:n("Rj+V")},LocalVideoTrack:{enumerable:!0,value:n("2NPH")},version:{enumerable:!0,value:i}}),t.exports=r},"3ojb":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("iWhl").getSdpFormat,o=n("xwWy"),a=n("iqXr"),s=n("tPbP"),c=n("sJKT"),u=n("8j3H"),l=n("rJRK"),h=n("gEVb"),d=n("ghd6"),p=n("5wwa").RoomCompletedError,f=n("5wwa"),m=f.SignalingConnectionDisconnectedError,v=f.SignalingConnectionError,g=f.SignalingConnectionTimeoutError,_=f.SignalingIncomingMessageInvalidError,y=f.createTwilioError,b=2,w=a.name+".js",T=a.version,k={connecting:["connected","disconnected"],connected:["disconnected","syncing"],syncing:["connected","disconnected"],disconnected:[]},S=function(t){function e(t,n,i,o,a,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h=Object.assign({InsightsPublisher:s,NullInsightsPublisher:c,SIPJSMediaHandler:l,sdpFormat:r(),userAgent:d.getUserAgent()},h);var f=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"connecting",k)),y={};h.wsServerInsights&&(y.gateway=h.wsServerInsights);var S=h.insights?h.InsightsPublisher:h.NullInsightsPublisher;return Object.defineProperties(f,{_eventPublisher:{value:new S(n,w,T,h.environment,h.realm,y)},_sdpFormat:{value:h.sdpFormat},_updatesReceived:{value:[]},_updatesToSend:{value:[]},_userAgent:{value:h.userAgent}}),Object.defineProperties(f,{_session:{value:C(f,t,n,i,o,a,h.SIPJSMediaHandler,h.iceServerSourceStatus,h.dominantSpeaker,h.networkQuality)}}),function(t,e,n){function i(e,n){var i=void 0;if(!e||e instanceof u.OutgoingRequest||(i=O(e)),!i)switch(n){case u.C.causes.REQUEST_TIMEOUT:i=new g;break;case u.C.causes.CONNECTION_ERROR:i=new v;break;default:i=new m}t.disconnect(i)}function r(e){if(!(e instanceof u.OutgoingRequest)){var n=void 0;try{n=O(e)}catch(t){if(t instanceof _)return;n=t}if(n)t.disconnect(n);else{var i=void 0;try{i=P(e)}catch(t){}if(i)switch(t.state){case"connected":switch(i.type){case"connected":case"synced":case"update":return void t.emit("message",i);case"disconnected":return void t.disconnect("completed"===i.status?new p:null);default:return}case"connecting":switch(i.type){case"connected":return t.emit("connected",i),void t.preempt("connected");case"synced":case"update":return void t._updatesReceived.push(i);case"disconnected":return void t.disconnect("completed"===i.status?new p:null);default:return}case"disconnected":return;case"syncing":switch(i.type){case"connected":case"update":return void t._updatesReceived.push(i);case"synced":return t.emit("message",i),void t.preempt("connected");case"disconnected":return void t.disconnect("completed"===i.status?new p:null);default:return}default:return}}}}e.on("info",r),e.once("bye",i),e.once("accepted",r),e.once("failed",i),t.on("stateChanged",function o(a){switch(a){case"connected":e.removeListener("accepted",r),e.removeListener("failed",i);var s=t._updatesToSend.splice(0);return s.length&&t.publish(function(t){return t.reduce(function(t,e){return!t.participant&&e.participant?t.participant=e.participant:t.participant&&e.participant&&e.participant.revision>t.participant.revision&&(t.participant=e.participant),!t.peer_connections&&e.peer_connections?t.peer_connections=E(e.peer_connections):t.peer_connections&&e.peer_connections&&(t.peer_connections=E(t.peer_connections.concat(e.peer_connections))),t},{type:"update",version:b})}(s)),void t._updatesReceived.splice(0).forEach(t.emit.bind(t,"message"));case"disconnected":return e.removeListener("accepted",r),e.removeListener("failed",i),e.removeListener("info",r),e.removeListener("bye",i),t.removeListener("stateChanged",o),void n.stop();case"syncing":default:return}}),n.once("disconnected",i),n.once("keepAliveTimeout",function(){return t.disconnect(new g)})}(f,f._session,a),f.once("connected",function(t){var e=t.sid,n=t.participant;f._eventPublisher.connect(e,n.sid)}),f}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,h),i(e,[{key:"disconnect",value:function(t){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[t]),this._session.terminate({body:JSON.stringify({type:"disconnect",version:b}),extraHeaders:["Content-Type: application/room-signaling+json"]}),this._eventPublisher.disconnect(),!0)}},{key:"publish",value:function(t){switch(t=Object.assign({type:"update",version:b},t),this.state){case"connected":return function t(e,n,i,r){r=r||0;return new Promise(function(a,s){function c(c){switch(Math.floor(c.status_code/100)){case 2:a();break;case 5:r<o.PUBLISH_MAX_ATTEMPTS?a(t(e,n,i,++r)):s(new Error("Transport failed to send a message even after "+o.PUBLISH_MAX_ATTEMPTS+" attempts"));break;default:s(c)}}function u(){"disconnected"!==e.state&&n.sendRequest("INFO",{body:JSON.stringify(i),extraHeaders:["Content-Type: application/room-signaling+json","Event: room-signaling","Info-Package: room-signaling"],receiveResponse:c})}if(0!==r){var l,h,d,p=(1<<r-1)*o.PUBLISH_BACKOFF_MS;setTimeout(u,(l=p,h=o.PUBLISH_BACKOFF_JITTER,d=Math.random(),l-h+Math.floor(2*h*d+.5)))}else u()})}(this,this._session,t),!0;case"connecting":case"syncing":return this._updatesToSend.push(t),!0;case"disconnected":default:return!1}}},{key:"publishEvent",value:function(t,e,n){return this._eventPublisher.publish(t,e,n)}},{key:"sync",value:function(){return"connected"===this.state&&(this.preempt("syncing"),this._session.sendReinvite(),!0)}}]),e}();function C(t,e,n,i,r,a,s,c,u,l){var h="sip:"+d.makeServerSIPURI();return a.invite(h,{extraHeaders:[o.headers.X_TWILIO_ACCESSTOKEN+": "+n,"Session-Expires: 120"],media:{stream:{}},mediaHandlerFactory:function(){return new s(r,function(){if("disconnected"===t.state)return{type:"disconnect",version:b};var n={connecting:"connect",syncing:"sync"}[t.state]||"update",r={name:e,participant:i.getState(),type:n,version:b};"connect"===r.type&&(r.ice_servers=c,r.publisher={name:w,sdk_version:T,user_agent:t._userAgent},r.media_signaling={},l&&(r.media_signaling.network_quality={transports:[{type:"data-channel"}]}),u&&(r.media_signaling.active_speaker={transports:[{type:"data-channel"}]}));var o=t._sdpFormat;return"connect"===n&&o&&(r.format=o),r})},onInfo:function(t){this.emit("info",t),t.reply(200)}})}function E(t){return Array.from(t.reduce(function(t,e){var n=t.get(e.id)||e;return!n.description&&e.description?n.description=e.description:n.description&&e.description&&e.description.revision>n.description.revision&&(n.description=e.description),!n.ice&&e.ice?n.ice=e.ice:n.ice&&e.ice&&e.ice.revision>n.ice.revision&&(n.ice=e.ice),t.set(n.id,n),t},new Map).values())}function P(t){if(t.body)try{return JSON.parse(t.body)}catch(t){throw new _}return null}function O(t){return function(t){var e=t.headers;if(e&&e["X-Twilio-Error"]){var n=e["X-Twilio-Error"][0].raw.split(" "),i=parseInt(n[0],10),r=n.slice(1).join(" ");return y(i,r)}return null}(t)||function(t){try{var e=P(t);if(e)switch(e.type){case"disconnected":if("completed"===e.status)return new p;break;case"error":return y(e.code,e.message)}return null}catch(t){return t}}(t)}t.exports=S},"3sVZ":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var o=n("HsAx"),a=n("xVU0"),s=function(t){function e(t,n,i){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.sid,t.identity));return i=Object.assign({RemoteTrackPublicationV2:a},i),Object.defineProperties(s,{_revision:{writable:!0,value:null},_RemoteTrackPublicationV2:{value:i.RemoteTrackPublicationV2},_getTrackReceiver:{value:n},revision:{enumerable:!0,get:function(){return this._revision}}}),o=s.update(t),r(s,o)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),i(e,[{key:"_getOrCreateTrack",value:function(t){var e=this._RemoteTrackPublicationV2,n=this.tracks.get(t.sid);return n||(n=new e(t),this.addTrack(n)),n}},{key:"update",value:function(t){var e=this;if(null!==this.revision&&t.revision<=this.revision)return this;this._revision=t.revision;var n=new Set;return t.tracks.forEach(function(t){var i=e._getOrCreateTrack(t);i.update(t),n.add(i)}),this.tracks.forEach(function(t){n.has(t)||e.removeTrack(t)}),"disconnected"===t.state&&"connected"===this.state&&this.preempt("disconnected"),this}}]),e}();t.exports=s},"45VH":function(t,e,n){n("NgY6")},"49sm":function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},"4HcG":function(t,e,n){"use strict";t.exports=function(t){var e=function(e,n){n=n||{},this.logger=e.ua.getLogger("sip.invitecontext.mediahandler",e.id),this.session=e,this.localMedia=null,this.ready=!0,this.mediaStreamManager=n.mediaStreamManager||new t.WebRTC.MediaStreamManager(this.logger),this.audioMuted=!1,this.videoMuted=!1,this.local_hold=!1,this.remote_hold=!1;var i=this.prepareIceServers(n.stunServers,n.turnServers);function r(t,e){t.mediaStreamManager.on&&t.mediaStreamManager.on(e,function(){t.emit.apply(t,[e].concat(Array.prototype.slice.call(arguments)))})}this.RTCConstraints=n.RTCConstraints||{},this.initPeerConnection(i),r(this,"userMediaRequest"),r(this,"userMedia"),r(this,"userMediaFailed")};return(e.defaultFactory=function(t,n){return new e(t,n)}).isSupported=function(){return t.WebRTC.isSupported()},e.prototype=Object.create(t.MediaHandler.prototype,{isReady:{writable:!0,value:function(){return this.ready}},close:{writable:!0,value:function(){this.logger.log("closing PeerConnection"),this._remoteStreams=[],this.peerConnection&&"closed"!==this.peerConnection.signalingState&&(this.peerConnection.close(),this.localMedia&&this.mediaStreamManager.release(this.localMedia))}},getDescription:{writable:!0,value:function(e){var n,i=this,r=i.mediaStreamManager.acquire;return r.length>1&&(r=t.Utils.promisify(this.mediaStreamManager,"acquire",!0)),!0===(e=e||{}).dataChannel&&(e.dataChannel={}),this.mediaHint=e,i.localMedia?(i.logger.log("already have local media"),n=t.Utils.Promise.resolve(i.localMedia)):(i.logger.log("acquiring local media"),n=r.call(i.mediaStreamManager,e).then(function(t){return i.logger.log("acquired local media streams"),i.localMedia=t,i.session.connecting(),t},function(t){throw i.logger.error("unable to acquire streams"),i.logger.error(t),i.session.connecting(),t}).then(this.addStreams.bind(this))),n.then(function(){return i.hasOffer("remote")?i.peerConnection.ondatachannel=function(t){i.dataChannel=t.channel,i.emit("dataChannel",i.dataChannel)}:e.dataChannel&&i.peerConnection.createDataChannel&&(i.dataChannel=i.peerConnection.createDataChannel("sipjs",e.dataChannel),i.emit("dataChannel",i.dataChannel)),i.render(),i.createOfferOrAnswer(i.RTCConstraints)}).then(function(e){return e=t.Hacks.Firefox.hasMissingCLineInSDP(e),i.local_hold&&(e=/a=(sendrecv|sendonly|recvonly|inactive)/.test(e)?(e=e.replace(/a=sendrecv\r\n/g,"a=sendonly\r\n")).replace(/a=recvonly\r\n/g,"a=inactive\r\n"):e.replace(/(m=[^\r]*\r\n)/g,"$1a=sendonly\r\n")),{body:e,contentType:"application/sdp"}})}},hasDescription:{writeable:!0,value:function(t){return"application/sdp"===t.getHeader("Content-Type")&&!!t.body}},setDescription:{writable:!0,value:function(e){var n=e.body;this.remote_hold=/a=(sendonly|inactive)/.test(n),n=t.Hacks.Firefox.cannotHandleExtraWhitespace(n),n=t.Hacks.AllBrowsers.maskDtls(n);var i={type:this.hasOffer("local")?"answer":"offer",sdp:n};this.emit("setDescription",i);var r=new t.WebRTC.RTCSessionDescription(i);return t.Utils.promisify(this.peerConnection,"setRemoteDescription")(r)}},getReferMedia:{writable:!0,value:function(){function t(t,e){return e[t]().length>0}function e(e){return this.getLocalStreams().some(t.bind(null,e))&&this.getRemoteStreams().some(t.bind(null,e))}return{constraints:{audio:e.call(this,"getAudioTracks"),video:e.call(this,"getVideoTracks")}}}},updateIceServers:{writeable:!0,value:function(t){var e=this.prepareIceServers(t.stunServers,t.turnServers);this.RTCConstraints=t.RTCConstraints||this.RTCConstraints,this.initPeerConnection(e)}},isMuted:{writable:!0,value:function(){return{audio:this.audioMuted,video:this.videoMuted}}},mute:{writable:!0,value:function(t){if(0!==this.getLocalStreams().length){var e=!1,n=!1;return(t=t||{audio:this.getLocalStreams()[0].getAudioTracks().length>0,video:this.getLocalStreams()[0].getVideoTracks().length>0}).audio&&!this.audioMuted&&(e=!0,this.audioMuted=!0,this.toggleMuteAudio(!0)),t.video&&!this.videoMuted&&(n=!0,this.videoMuted=!0,this.toggleMuteVideo(!0)),e||n?{audio:e,video:n}:void 0}}},unmute:{writable:!0,value:function(t){if(0!==this.getLocalStreams().length){var e=!1,n=!1;return(t=t||{audio:this.getLocalStreams()[0].getAudioTracks().length>0,video:this.getLocalStreams()[0].getVideoTracks().length>0}).audio&&this.audioMuted&&(e=!0,this.audioMuted=!1,this.toggleMuteAudio(!1)),t.video&&this.videoMuted&&(n=!0,this.videoMuted=!1,this.toggleMuteVideo(!1)),e||n?{audio:e,video:n}:void 0}}},hold:{writable:!0,value:function(){this.local_hold=!0,this.toggleMuteAudio(!0),this.toggleMuteVideo(!0)}},unhold:{writable:!0,value:function(){this.local_hold=!1,this.audioMuted||this.toggleMuteAudio(!1),this.videoMuted||this.toggleMuteVideo(!1)}},getLocalStreams:{writable:!0,value:function(){var t=this.peerConnection;return t&&"closed"===t.signalingState?(this.logger.warn("peerConnection is closed, getLocalStreams returning []"),[]):t.getLocalStreams&&t.getLocalStreams()||t.localStreams||[]}},getRemoteStreams:{writable:!0,value:function(){var t=this.peerConnection;return t&&"closed"===t.signalingState?(this.logger.warn("peerConnection is closed, getRemoteStreams returning this._remoteStreams"),this._remoteStreams):t.getRemoteStreams&&t.getRemoteStreams()||t.remoteStreams||[]}},render:{writable:!0,value:function(e){if(!(e=e||this.mediaHint&&this.mediaHint.render))return!1;var n={local:"getLocalStreams",remote:"getRemoteStreams"};Object.keys(n).forEach(function(i){var r=this[n[i]]();t.WebRTC.MediaStreamManager.render(r,e[i])}.bind(this))}},hasOffer:{writable:!0,value:function(t){var e="have-"+t+"-offer";return this.peerConnection.signalingState===e}},prepareIceServers:{writable:!0,value:function(t,e){var n=[],i=this.session.ua.configuration;return t=t||i.stunServers,e=e||i.turnServers,[].concat(t).forEach(function(t){n.push({urls:t})}),[].concat(e).forEach(function(t){n.push({urls:t.urls,username:t.username,credential:t.password})}),n}},initPeerConnection:{writable:!0,value:function(e){var n=this,i=this.session.ua.configuration;this.onIceCompleted=t.Utils.defer(),this.onIceCompleted.promise.then(function(e){n.emit("iceGatheringComplete",e),n.iceCheckingTimer&&(t.Timers.clearTimeout(n.iceCheckingTimer),n.iceCheckingTimer=null)}),this.peerConnection&&this.peerConnection.close(),this.peerConnection=new t.WebRTC.RTCPeerConnection({iceServers:e}),this._remoteStreams=[],this.peerConnection.onaddstream=function(t){n.logger.log("stream added: "+t.stream.id),n._remoteStreams.push(t.stream),n.render(),n.emit("addStream",t)},this.peerConnection.onremovestream=function(t){n.logger.log("stream removed: "+t.stream.id)},this.startIceCheckingTimer=function(){n.iceCheckingTimer||(n.iceCheckingTimer=t.Timers.setTimeout(function(){n.logger.log("RTCIceChecking Timeout Triggered after "+i.iceCheckingTimeout+" milliseconds"),n.onIceCompleted.resolve(this)}.bind(this.peerConnection),i.iceCheckingTimeout))},this.peerConnection.onicecandidate=function(t){n.emit("iceCandidate",t),t.candidate?(n.logger.log("ICE candidate received: "+(null===t.candidate.candidate?null:t.candidate.candidate.trim())),n.startIceCheckingTimer()):n.onIceCompleted.resolve(this)},this.peerConnection.onicegatheringstatechange=function(){n.logger.log("RTCIceGatheringState changed: "+this.iceGatheringState),"gathering"===this.iceGatheringState&&n.emit("iceGathering",this),"complete"===this.iceGatheringState&&n.onIceCompleted.resolve(this)},this.peerConnection.oniceconnectionstatechange=function(){var t;switch("checking"===this.iceConnectionState&&n.startIceCheckingTimer(),this.iceConnectionState){case"new":t="iceConnection";break;case"checking":t="iceConnectionChecking";break;case"connected":t="iceConnectionConnected";break;case"completed":t="iceConnectionCompleted";break;case"failed":t="iceConnectionFailed";break;case"disconnected":t="iceConnectionDisconnected";break;case"closed":t="iceConnectionClosed";break;default:return void n.logger.warn("Unknown iceConnection state:",this.iceConnectionState)}n.emit(t,this)},this.peerConnection.onstatechange=function(){n.logger.log('PeerConnection state changed to "'+this.readyState+'"')}}},createOfferOrAnswer:{writable:!0,value:function(e){var n,i=this,r=i.peerConnection;return i.ready=!1,n=i.hasOffer("remote")?"createAnswer":"createOffer",t.Utils.promisify(r,n,!0)(e).then(t.Utils.promisify(r,"setLocalDescription")).then(function(){var e=t.Utils.defer();return"complete"===r.iceConnectionState||"completed"===r.iceConnectionState?e.resolve():i.onIceCompleted.promise.then(e.resolve),e.promise}).then(function(){var e=r.localDescription.sdp;e=t.Hacks.Chrome.needsExplicitlyInactiveSDP(e),e=t.Hacks.AllBrowsers.unmaskDtls(e);var o={type:"createOffer"===n?"offer":"answer",sdp:e};return i.emit("getDescription",o),i.session.ua.configuration.hackStripTcp&&(o.sdp=o.sdp.replace(/^a=candidate:\d+ \d+ tcp .*?\r\n/gim,"")),i.ready=!0,o.sdp}).catch(function(e){throw i.logger.error(e),i.ready=!0,new t.Exceptions.GetDescriptionError(e)})}},addStreams:{writable:!0,value:function(e){try{(e=[].concat(e)).forEach(function(t){this.peerConnection.addStream(t)},this)}catch(e){return this.logger.error("error adding stream"),this.logger.error(e),t.Utils.Promise.reject(e)}return t.Utils.Promise.resolve()}},toggleMuteHelper:{writable:!0,value:function(t,e){this.getLocalStreams().forEach(function(n){n[t]().forEach(function(t){t.enabled=!e})})}},toggleMuteAudio:{writable:!0,value:function(t){this.toggleMuteHelper("getAudioTracks",t)}},toggleMuteVideo:{writable:!0,value:function(t){this.toggleMuteHelper("getVideoTracks",t)}}}),e}},"4MIV":function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=n("4R65"),s=n("qbyT"),c=o,u=function(t){function e(e){var n=t.call(this,e)||this,i=c(e).attr("simple-map").split("|"),r=i[0],o=i[1];return c(document).trigger("hc:map:setmarkers",[[{longitude:r,latitude:o}]]),n}return r(e,t),e.prototype._addMarker=function(t,e){var n=new a.DivIcon({iconSize:[27,34]});a.marker([t,e],{icon:n}).addTo(this.$map)},e}(s.MapManager);c(document).on("hc:ready",function(t,e){t.preventDefault(),c(e||document).find("[simple-map]").each(function(t,e){return new u(e)})})},"4R65":function(t,e,n){
  /* @preserve
   * Leaflet 1.3.3, a JS library for interactive maps. http://leafletjs.com
   * (c) 2010-2018 Vladimir Agafonkin, (c) 2010-2011 CloudMade
   */
  !function(t){"use strict";var e=Object.freeze;function n(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(e in r=arguments[n])t[e]=r[e];return t}Object.freeze=function(t){return t};var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function r(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var o=0;function a(t){return t._leaflet_id=t._leaflet_id||++o,t._leaflet_id}function s(t,e,n){var i,r,o,a;return a=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(a,e),i=!0)}}function c(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r}function u(){return!1}function l(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function d(t){return h(t).split(/\s+/)}function p(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function f(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var m=/\{ *([\w_-]+) *\}/g;function v(t,e){return t.replace(m,function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i})}var g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function _(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function T(t){var e=+new Date,n=Math.max(0,16-(e-w));return w=e+n,window.setTimeout(t,n)}var k=window.requestAnimationFrame||b("RequestAnimationFrame")||T,S=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function C(t,e,n){if(!n||k!==T)return k.call(window,r(t,e));t.call(e)}function E(t){t&&S.call(window,t)}var P=(Object.freeze||Object)({freeze:e,extend:n,create:i,bind:r,lastId:o,stamp:a,throttle:s,wrapNum:c,falseFn:u,formatNum:l,trim:h,splitWords:d,setOptions:p,getParamString:f,template:v,isArray:g,indexOf:_,emptyImageUrl:y,requestFn:k,cancelFn:S,requestAnimFrame:C,cancelAnimFrame:E});function O(){}O.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,o=i(r);for(var a in o.constructor=e,e.prototype=o,this)this.hasOwnProperty(a)&&"prototype"!==a&&"__super__"!==a&&(e[a]=this[a]);return t.statics&&(n(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=g(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),n.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=n(i(o.options),t.options)),n(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},O.include=function(t){return n(this.prototype,t),this},O.mergeOptions=function(t){return n(this.prototype.options,t),this},O.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var x={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else{t=d(t);for(var r=0,o=t.length;r<o;r++)this._on(t[r],e,n)}return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else{t=d(t);for(var r=0,o=t.length;r<o;r++)this._off(t[r],e,n)}else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var r={fn:e,ctx:n},o=i,a=0,s=o.length;a<s;a++)if(o[a].fn===e&&o[a].ctx===n)return;o.push(r)},_off:function(t,e,n){var i,r,o;if(this._events&&(i=this._events[t]))if(e){if(n===this&&(n=void 0),i)for(r=0,o=i.length;r<o;r++){var a=i[r];if(a.ctx===n&&a.fn===e)return a.fn=u,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(r,1)}}else{for(r=0,o=i.length;r<o;r++)i[r].fn=u;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var r=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var c=o[a];c.fn.call(c.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var o=r(function(){this.off(t,e,n).off(t,o,n)},this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};x.addEventListener=x.on,x.removeEventListener=x.clearAllEventListeners=x.off,x.addOneTimeEventListener=x.once,x.fireEvent=x.fire,x.hasEventListeners=x.listens;var R=O.extend(x);function A(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var D=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function I(t,e,n){return t instanceof A?t:g(t)?new A(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new A(t.x,t.y):new A(t,e,n)}function M(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function $(t,e){return!t||t instanceof M?t:new M(t,e)}function j(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function N(t,e){return t instanceof j?t:new j(t,e)}function U(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function X(t,e,n){return t instanceof U?t:g(t)&&"object"!=typeof t[0]?3===t.length?new U(t[0],t[1],t[2]):2===t.length?new U(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new U(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new U(t,e,n)}A.prototype={clone:function(){return new A(this.x,this.y)},add:function(t){return this.clone()._add(I(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(I(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new A(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new A(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=D(this.x),this.y=D(this.y),this},distanceTo:function(t){var e=(t=I(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=I(t)).x===this.x&&t.y===this.y},contains:function(t){return t=I(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+l(this.x)+", "+l(this.y)+")"}},M.prototype={extend:function(t){return t=I(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new A(this.min.x,this.max.y)},getTopRight:function(){return new A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof A?I(t):$(t))instanceof M?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=$(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,a=r.y>=e.y&&i.y<=n.y;return o&&a},overlaps:function(t){t=$(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>e.x&&i.x<n.x,a=r.y>e.y&&i.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)}},j.prototype={extend:function(t){var e,n,i=this._southWest,r=this._northEast;if(t instanceof U)e=t,n=t;else{if(!(t instanceof j))return t?this.extend(X(t)||N(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||r?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new U(e.lat,e.lng),this._northEast=new U(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new j(new U(e.lat-i,e.lng-r),new U(n.lat+i,n.lng+r))},getCenter:function(){return new U((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new U(this.getNorth(),this.getWest())},getSouthEast:function(){return new U(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof U||"lat"in t?X(t):N(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof j?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=N(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,a=r.lng>=e.lng&&i.lng<=n.lng;return o&&a},overlaps:function(t){t=N(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&i.lat<n.lat,a=r.lng>e.lng&&i.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=N(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},U.prototype={equals:function(t,e){if(!t)return!1;t=X(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(void 0===e?1e-9:e)},toString:function(t){return"LatLng("+l(this.lat,t)+", "+l(this.lng,t)+")"},distanceTo:function(t){return H.distance(this,X(t))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return N([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new U(this.lat,this.lng,this.alt)}};var B,F={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t),i=this.transformation.transform(e.min,n),r=this.transformation.transform(e.max,n);return new M(i,r)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?c(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?c(t.lat,this.wrapLat,!0):t.lat,i=t.alt;return new U(n,e,i)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(0===i&&0===r)return t;var o=t.getSouthWest(),a=t.getNorthEast(),s=new U(o.lat-i,o.lng-r),c=new U(a.lat-i,a.lng-r);return new j(s,c)}},H=n({},F,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=o*o+Math.cos(i)*Math.cos(r)*a*a,c=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*c}}),q={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new A(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new U((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(B=6378137*Math.PI,new M([-B,-B],[B,B]))};function z(t,e,n,i){if(g(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function W(t,e,n,i){return new z(t,e,n,i)}z.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new A((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var V=n({},H,{code:"EPSG:3857",projection:q,transformation:function(){var t=.5/(Math.PI*q.R);return W(t,.5,-t,.5)}()}),Y=n({},V,{code:"EPSG:900913"});function Z(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t,e){var n,i,r,o,a,s,c="";for(n=0,r=t.length;n<r;n++){for(a=t[n],i=0,o=a.length;i<o;i++)s=a[i],c+=(i?"L":"M")+s.x+" "+s.y;c+=e?Pt?"z":"x":""}return c||"M0 0"}var K=document.documentElement.style,J="ActiveXObject"in window,Q=J&&!document.addEventListener,tt="msLaunchUri"in navigator&&!("documentMode"in document),et=xt("webkit"),nt=xt("android"),it=xt("android 2")||xt("android 3"),rt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ot=nt&&xt("Google")&&rt<537&&!("AudioNode"in window),at=!!window.opera,st=xt("chrome"),ct=xt("gecko")&&!et&&!at&&!J,ut=!st&&xt("safari"),lt=xt("phantom"),ht="OTransition"in K,dt=0===navigator.platform.indexOf("Win"),pt=J&&"transition"in K,ft="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,mt="MozPerspective"in K,vt=!window.L_DISABLE_3D&&(pt||ft||mt)&&!ht&&!lt,gt="undefined"!=typeof orientation||xt("mobile"),_t=gt&&et,yt=gt&&ft,bt=!window.PointerEvent&&window.MSPointerEvent,wt=!(!window.PointerEvent&&!bt),Tt=!window.L_NO_TOUCH&&(wt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),kt=gt&&at,St=gt&&ct,Ct=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Et=!!document.createElement("canvas").getContext,Pt=!(!document.createElementNS||!Z("svg").createSVGRect),Ot=!Pt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function xt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Rt=(Object.freeze||Object)({ie:J,ielt9:Q,edge:tt,webkit:et,android:nt,android23:it,androidStock:ot,opera:at,chrome:st,gecko:ct,safari:ut,phantom:lt,opera12:ht,win:dt,ie3d:pt,webkit3d:ft,gecko3d:mt,any3d:vt,mobile:gt,mobileWebkit:_t,mobileWebkit3d:yt,msPointer:bt,pointer:wt,touch:Tt,mobileOpera:kt,mobileGecko:St,retina:Ct,canvas:Et,svg:Pt,vml:Ot}),At=bt?"MSPointerDown":"pointerdown",Dt=bt?"MSPointerMove":"pointermove",It=bt?"MSPointerUp":"pointerup",Mt=bt?"MSPointerCancel":"pointercancel",$t=["INPUT","SELECT","OPTION"],Lt={},jt=!1,Nt=0;function Ut(t,e,n,i){return"touchstart"===e?function(t,e,n){var i=r(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!($t.indexOf(t.target.tagName)<0))return;Le(t)}Ht(t,e)});t["_leaflet_touchstart"+n]=i,t.addEventListener(At,i,!1),jt||(document.documentElement.addEventListener(At,Xt,!0),document.documentElement.addEventListener(Dt,Bt,!0),document.documentElement.addEventListener(It,Ft,!0),document.documentElement.addEventListener(Mt,Ft,!0),jt=!0)}(t,n,i):"touchmove"===e?function(t,e,n){var i=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&Ht(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(Dt,i,!1)}(t,n,i):"touchend"===e&&function(t,e,n){var i=function(t){Ht(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(It,i,!1),t.addEventListener(Mt,i,!1)}(t,n,i),this}function Xt(t){Lt[t.pointerId]=t,Nt++}function Bt(t){Lt[t.pointerId]&&(Lt[t.pointerId]=t)}function Ft(t){delete Lt[t.pointerId],Nt--}function Ht(t,e){for(var n in t.touches=[],Lt)t.touches.push(Lt[n]);t.changedTouches=[t],e(t)}var qt=bt?"MSPointerDown":wt?"pointerdown":"touchstart",zt=bt?"MSPointerUp":wt?"pointerup":"touchend",Wt="_leaflet_";function Vt(t,e,n){var i,r,o=!1,a=250;function s(t){var e;if(wt){if(!tt||"mouse"===t.pointerType)return;e=Nt}else e=t.touches.length;if(!(e>1)){var n=Date.now(),s=n-(i||n);r=t.touches?t.touches[0]:t,o=s>0&&s<=a,i=n}}function c(t){if(o&&!r.cancelBubble){if(wt){if(!tt||"mouse"===t.pointerType)return;var n,a,s={};for(a in r)n=r[a],s[a]=n&&n.bind?n.bind(r):n;r=s}r.type="dblclick",e(r),i=null}}return t[Wt+qt+n]=s,t[Wt+zt+n]=c,t[Wt+"dblclick"+n]=e,t.addEventListener(qt,s,!1),t.addEventListener(zt,c,!1),t.addEventListener("dblclick",e,!1),this}function Yt(t,e){var n=t[Wt+qt+e],i=t[Wt+zt+e],r=t[Wt+"dblclick"+e];return t.removeEventListener(qt,n,!1),t.removeEventListener(zt,i,!1),tt||t.removeEventListener("dblclick",r,!1),this}var Zt,Gt,Kt,Jt,Qt,te=ve(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),ee=ve(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ne="webkitTransition"===ee||"OTransition"===ee?ee+"End":"transitionend";function ie(t){return"string"==typeof t?document.getElementById(t):t}function re(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function oe(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function ae(t){var e=t.parentNode;e&&e.removeChild(t)}function se(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ce(t){var e=t.parentNode;e.lastChild!==t&&e.appendChild(t)}function ue(t){var e=t.parentNode;e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function le(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=fe(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function he(t,e){if(void 0!==t.classList)for(var n=d(e),i=0,r=n.length;i<r;i++)t.classList.add(n[i]);else if(!le(t,e)){var o=fe(t);pe(t,(o?o+" ":"")+e)}}function de(t,e){void 0!==t.classList?t.classList.remove(e):pe(t,h((" "+fe(t)+" ").replace(" "+e+" "," ")))}function pe(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function fe(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function me(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}(t,e)}function ve(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function ge(t,e,n){var i=e||new A(0,0);t.style[te]=(pt?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function _e(t,e){t._leaflet_pos=e,vt?ge(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ye(t){return t._leaflet_pos||new A(0,0)}if("onselectstart"in document)Zt=function(){Oe(window,"selectstart",Le)},Gt=function(){Re(window,"selectstart",Le)};else{var be=ve(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Zt=function(){if(be){var t=document.documentElement.style;Kt=t[be],t[be]="none"}},Gt=function(){be&&(document.documentElement.style[be]=Kt,Kt=void 0)}}function we(){Oe(window,"dragstart",Le)}function Te(){Re(window,"dragstart",Le)}function ke(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Se(),Jt=t,Qt=t.style.outline,t.style.outline="none",Oe(window,"keydown",Se))}function Se(){Jt&&(Jt.style.outline=Qt,Jt=void 0,Qt=void 0,Re(window,"keydown",Se))}function Ce(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Ee(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Pe=(Object.freeze||Object)({TRANSFORM:te,TRANSITION:ee,TRANSITION_END:ne,get:ie,getStyle:re,create:oe,remove:ae,empty:se,toFront:ce,toBack:ue,hasClass:le,addClass:he,removeClass:de,setClass:pe,getClass:fe,setOpacity:me,testProp:ve,setTransform:ge,setPosition:_e,getPosition:ye,disableTextSelection:Zt,enableTextSelection:Gt,disableImageDrag:we,enableImageDrag:Te,preventOutline:ke,restoreOutline:Se,getSizedParentNode:Ce,getScale:Ee});function Oe(t,e,n,i){if("object"==typeof e)for(var r in e)Ae(t,r,e[r],n);else{e=d(e);for(var o=0,a=e.length;o<a;o++)Ae(t,e[o],n,i)}return this}var xe="_leaflet_events";function Re(t,e,n,i){if("object"==typeof e)for(var r in e)De(t,r,e[r],n);else if(e){e=d(e);for(var o=0,a=e.length;o<a;o++)De(t,e[o],n,i)}else{for(var s in t[xe])De(t,s,t[xe][s]);delete t[xe]}return this}function Ae(t,e,n,i){var r=e+a(n)+(i?"_"+a(i):"");if(t[xe]&&t[xe][r])return this;var o=function(e){return n.call(i||t,e||window.event)},s=o;wt&&0===e.indexOf("touch")?Ut(t,e,o,r):!Tt||"dblclick"!==e||!Vt||wt&&st?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",o,!1):"mouseenter"===e||"mouseleave"===e?(o=function(e){e=e||window.event,ze(t,e)&&s(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",o,!1)):("click"===e&&nt&&(o=function(t){!function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=Be&&n-Be;i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated?je(t):(Be=n,e(t))}(t,s)}),t.addEventListener(e,o,!1)):"attachEvent"in t&&t.attachEvent("on"+e,o):Vt(t,o,r),t[xe]=t[xe]||{},t[xe][r]=o}function De(t,e,n,i){var r=e+a(n)+(i?"_"+a(i):""),o=t[xe]&&t[xe][r];if(!o)return this;wt&&0===e.indexOf("touch")?function(t,e,n){var i=t["_leaflet_"+e+n];"touchstart"===e?t.removeEventListener(At,i,!1):"touchmove"===e?t.removeEventListener(Dt,i,!1):"touchend"===e&&(t.removeEventListener(It,i,!1),t.removeEventListener(Mt,i,!1))}(t,e,r):!Tt||"dblclick"!==e||!Yt||wt&&st?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",o,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,o,!1):"detachEvent"in t&&t.detachEvent("on"+e,o):Yt(t,r),t[xe][r]=null}function Ie(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,qe(t),this}function Me(t){return Ae(t,"mousewheel",Ie),this}function $e(t){return Oe(t,"mousedown touchstart dblclick",Ie),Ae(t,"click",He),this}function Le(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function je(t){return Le(t),Ie(t),this}function Ne(t,e){if(!e)return new A(t.clientX,t.clientY);var n=Ee(e),i=n.boundingClientRect;return new A((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Ue=dt&&st?2*window.devicePixelRatio:ct?window.devicePixelRatio:1;function Xe(t){return tt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Ue:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var Be,Fe={};function He(t){Fe[t.type]=!0}function qe(t){var e=Fe[t.type];return Fe[t.type]=!1,e}function ze(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var We=(Object.freeze||Object)({on:Oe,off:Re,stopPropagation:Ie,disableScrollPropagation:Me,disableClickPropagation:$e,preventDefault:Le,stop:je,getMousePosition:Ne,getWheelDelta:Xe,fakeStop:He,skipped:qe,isExternalTarget:ze,addListener:Oe,removeListener:Re}),Ve=R.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=ye(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=C(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),_e(this._el,n),this.fire("step")},_complete:function(){E(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ye=R.extend({options:{crs:V,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=p(this,e),this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(X(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=ee&&vt&&!kt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Oe(this._proxy,ne,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){if(e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(X(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i){void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan));var r=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(vt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(vt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=t instanceof A?t:this.latLngToContainerPoint(t),a=o.subtract(r).multiplyBy(1-1/i),s=this.containerPointToLatLng(r.add(a));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():N(t);var n=I(e.paddingTopLeft||e.padding||[0,0]),i=I(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));if((r="number"==typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),r),s=this.project(t.getNorthEast(),r),c=this.unproject(a.add(s).divideBy(2).add(o),r);return{center:c,zoom:r}},fitBounds:function(t,e){if(!(t=N(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=I(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ve,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){he(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!vt)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),r=this.project(t),o=this.getSize(),a=this._zoom;t=X(t),e=void 0===e?a:e;var s=Math.max(o.x,o.y),c=s*this.getZoomScale(a,e),u=r.distanceTo(i)||1,l=1.42,h=l*l;function d(t){var e=t?-1:1,n=t?c:s,i=c*c-s*s+e*h*h*u*u,r=2*n*h*u,o=i/r,a=Math.sqrt(o*o+1)-o,l=a<1e-9?-18:Math.log(a);return l}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}var m=d(0);function v(t){return s*(f(m)*(p(e=m+l*t)/f(e))-p(m))/h;var e}var g=Date.now(),_=(d(1)-m)/l,y=n.duration?1e3*n.duration:1e3*_*.8;return this._moveStart(!0,n.noMoveStart),function n(){var o=(Date.now()-g)/y,c=function(t){return 1-Math.pow(1-t,1.5)}(o)*_;o<=1?(this._flyToFrame=C(n,this),this._move(this.unproject(i.add(r.subtract(i).multiplyBy(v(c)/u)),a),this.getScaleZoom(s/function(t){return s*(f(m)/f(m+l*t))}(c),a),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=N(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,N(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=e.divideBy(2).round(),a=i.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r(this._handleGeolocationResponse,this),i=r(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new U(e,n),r=i.toBounds(2*t.coords.accuracy),o=this._locateOptions;if(o.setView){var a=this.getBoundsZoom(r);this.setView(i,o.maxZoom?Math.min(a,o.maxZoom):a)}var s={latlng:i,bounds:r,timestamp:t.timestamp};for(var c in t.coords)"number"==typeof t.coords[c]&&(s[c]=t.coords[c]);this.fire("locationfound",s)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ae(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(E(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)ae(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=oe("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new j(e,n)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=N(t),n=I(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),c=this.getSize().subtract(n),u=$(this.project(s,i),this.project(a,i)).getSize(),l=vt?this.options.zoomSnap:1,h=c.x/u.x,d=c.y/u.y,p=e?Math.max(h,d):Math.min(h,d);return i=this.getScaleZoom(p,i),l&&(i=Math.round(i/(l/100))*(l/100),i=e?Math.ceil(i/l)*l:Math.floor(i/l)*l),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new M(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(X(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(I(t),e)},layerPointToLatLng:function(t){var e=I(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(X(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(X(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(N(t))},distance:function(t,e){return this.options.crs.distance(X(t),X(e))},containerPointToLayerPoint:function(t){return I(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return I(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(I(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(X(t)))},mouseEventToContainerPoint:function(t){return Ne(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ie(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Oe(e,"scroll",this._onScroll,this),this._containerId=a(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&vt,he(t,"leaflet-container"+(Tt?" leaflet-touch":"")+(Ct?" leaflet-retina":"")+(Q?" leaflet-oldie":"")+(ut?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=re(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_e(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(he(t.markerPane,"leaflet-zoom-hide"),he(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){_e(this._mapPane,new A(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return E(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){_e(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[a(this._container)]=this;var e=t?Re:Oe;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),vt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){E(this._resizeRequest),this._resizeRequest=C(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],r="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(r&&!ze(o,t))break;if(i.push(n),r)break}if(o===this._container)break;o=o.parentNode}return i.length||s||r||!ze(o,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!qe(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||ke(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type){var r=n({},t);r.type="preclick",this._fireDOMEvent(r,r.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,e))).length){var o=i[0];"contextmenu"===e&&o.listens(e,!0)&&Le(t);var a={originalEvent:t};if("keypress"!==t.type){var s=o.getLatLng&&(!o._radius||o._radius<=10);a.containerPoint=s?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?o.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var c=0;c<i.length;c++)if(i[c].fire(e,a,!0),a.originalEvent._stopped||!1===i[c].options.bubblingMouseEvents&&-1!==_(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ye(this._mapPane)||new A(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return $([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),o=new M(i.subtract(r),i.add(r)),a=this._getBoundsOffset(o,n,e);return a.round().equals([0,0])?t:this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new M(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=$(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max),a=this._rebound(r.x,-o.x),s=this._rebound(r.y,-o.y);return new A(a,s)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=vt?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){de(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=te,n=this._proxy.style[e];ge(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();ge(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ae(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r)||(C(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,he(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&de(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),C(function(){this._moveEnd(!0)},this))}}),Ze=O.extend({options:{position:"topright"},initialize:function(t){p(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return he(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},remove:function(){return this._map?(ae(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Ge=function(t){return new Ze(t)};Ye.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=oe("div",e+"control-container",this._container);function i(i,r){var o=e+i+" "+e+r;t[i+r]=oe("div",o,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ae(this._controlCorners[t]);ae(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ke=Ze.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ze.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(a(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){he(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(he(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):de(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return de(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=oe("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),$e(e),Me(e);var i=this._form=oe("form",t+"-list");n&&(this._map.on("click",this.collapse,this),nt||Oe(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=oe("a",t+"-toggle",e);r.href="#",r.title="Layers",Tt?(Oe(r,"click",je),Oe(r,"click",this.expand,this)):Oe(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=oe("div",t+"-base",i),this._separator=oe("div",t+"-separator",i),this._overlaysList=oe("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&a(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(r(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;se(this._baseLayersList),se(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(a(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers",i),this._layerControlInputs.push(e),e.layerId=a(t.layer),Oe(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var o=document.createElement("div");n.appendChild(o),o.appendChild(e),o.appendChild(r);var s=t.overlay?this._overlaysList:this._baseLayersList;return s.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Je=Ze.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=oe("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,r){var o=oe("a",n,i);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),$e(o),Oe(o,"click",je),Oe(o,"click",r,this),Oe(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";de(this._zoomInButton,e),de(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&he(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&he(this._zoomInButton,e)}});Ye.mergeOptions({zoomControl:!0}),Ye.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Je,this.addControl(this.zoomControl))});var Qe=Ze.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=oe("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=oe("div",e,n)),t.imperial&&(this._iScale=oe("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),tn=Ze.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){p(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),$e(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Ye.mergeOptions({attributionControl:!0}),Ye.addInitHook(function(){this.options.attributionControl&&(new tn).addTo(this)}),Ze.Layers=Ke,Ze.Zoom=Je,Ze.Scale=Qe,Ze.Attribution=tn,Ge.layers=function(t,e,n){return new Ke(t,e,n)},Ge.zoom=function(t){return new Je(t)},Ge.scale=function(t){return new Qe(t)},Ge.attribution=function(t){return new tn(t)};var en=O.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});en.addTo=function(t,e){return t.addHandler(e,this),this};var nn,rn={Events:x},on=Tt?"touchstart mousedown":"mousedown",an={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},sn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},cn=R.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){p(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Oe(this._dragStartTarget,on,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cn._dragging===this&&this.finishDrag(),Re(this._dragStartTarget,on,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!le(this._element,"leaflet-zoom-anim")&&!(cn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(cn._dragging=this,this._preventOutline&&ke(this._element),we(),Zt(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Ce(this._element);this._startPoint=new A(e.clientX,e.clientY),this._parentScale=Ee(n),Oe(document,sn[t.type],this._onMove,this),Oe(document,an[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new A(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Le(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ye(this._element).subtract(n),he(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),he(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,E(this._animRequest),this._lastEvent=t,this._animRequest=C(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),_e(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in de(document.body,"leaflet-dragging"),this._lastTarget&&(de(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),sn)Re(document,sn[t],this._onMove,this),Re(document,an[t],this._onUp,this);Te(),Gt(),this._moved&&this._moving&&(E(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,cn._dragging=!1}});function un(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=function(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,function t(e,n,i,r,o){var a,s,c,u=0;for(s=r+1;s<=o-1;s++)(c=fn(e[s],e[r],e[o],!0))>u&&(a=s,u=c);u>i&&(n[a]=1,t(e,n,i,r,a),t(e,n,i,a,o))}(t,i,e,0,n-1);var r,o=[];for(r=0;r<n;r++)i[r]&&o.push(t[r]);return o}(t=function(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;i<o;i++)a=t[i],s=t[r],c=void 0,u=void 0,c=s.x-a.x,u=s.y-a.y,c*c+u*u>e&&(n.push(t[i]),r=i);var a,s,c,u;return r<o-1&&n.push(t[o-1]),n}(t,n),n)}function ln(t,e,n){return Math.sqrt(fn(t,e,n,!0))}function hn(t,e,n,i,r){var o,a,s,c=i?nn:pn(t,n),u=pn(e,n);for(nn=u;;){if(!(c|u))return[t,e];if(c&u)return!1;a=dn(t,e,o=c||u,n,r),s=pn(a,n),o===c?(t=a,c=s):(e=a,u=s)}}function dn(t,e,n,i,r){var o,a,s=e.x-t.x,c=e.y-t.y,u=i.min,l=i.max;return 8&n?(o=t.x+s*(l.y-t.y)/c,a=l.y):4&n?(o=t.x+s*(u.y-t.y)/c,a=u.y):2&n?(o=l.x,a=t.y+c*(l.x-t.x)/s):1&n&&(o=u.x,a=t.y+c*(u.x-t.x)/s),new A(o,a,r)}function pn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function fn(t,e,n,i){var r,o=e.x,a=e.y,s=n.x-o,c=n.y-a,u=s*s+c*c;return u>0&&((r=((t.x-o)*s+(t.y-a)*c)/u)>1?(o=n.x,a=n.y):r>0&&(o+=s*r,a+=c*r)),s=t.x-o,c=t.y-a,i?s*s+c*c:new A(o,a)}function mn(t){return!g(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function vn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mn(t)}var gn=(Object.freeze||Object)({simplify:un,pointToSegmentDistance:ln,closestPointOnSegment:function(t,e,n){return fn(t,e,n)},clipSegment:hn,_getEdgeIntersection:dn,_getBitCode:pn,_sqClosestPointOnSegment:fn,isFlat:mn,_flat:vn});function _n(t,e,n){var i,r,o,a,s,c,u,l,h,d=[1,4,2,8];for(r=0,u=t.length;r<u;r++)t[r]._code=pn(t[r],e);for(a=0;a<4;a++){for(l=d[a],i=[],r=0,u=t.length,o=u-1;r<u;o=r++)s=t[r],c=t[o],s._code&l?c._code&l||((h=dn(c,s,l,e,n))._code=pn(h,e),i.push(h)):(c._code&l&&((h=dn(c,s,l,e,n))._code=pn(h,e),i.push(h)),i.push(s));t=i}return t}var yn=(Object.freeze||Object)({clipPolygon:_n}),bn={project:function(t){return new A(t.lng,t.lat)},unproject:function(t){return new U(t.y,t.x)},bounds:new M([-180,-90],[180,90])},wn={R:6378137,R_MINOR:6356752.314245179,bounds:new M([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),a=o*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),o/2);return i=-n*Math.log(Math.max(s,1e-10)),new A(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),a=Math.exp(-t.y/i),s=Math.PI/2-2*Math.atan(a),c=0,u=.1;c<15&&Math.abs(u)>1e-7;c++)e=o*Math.sin(s),e=Math.pow((1-e)/(1+e),o/2),u=Math.PI/2-2*Math.atan(a*e)-s,s+=u;return new U(s*n,t.x*n/i)}},Tn=(Object.freeze||Object)({LonLat:bn,Mercator:wn,SphericalMercator:q}),kn=n({},H,{code:"EPSG:3395",projection:wn,transformation:function(){var t=.5/(Math.PI*wn.R);return W(t,.5,-t,.5)}()}),Sn=n({},H,{code:"EPSG:4326",projection:bn,transformation:W(1/180,1,-1/180,.5)}),Cn=n({},F,{projection:bn,transformation:W(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});F.Earth=H,F.EPSG3395=kn,F.EPSG3857=V,F.EPSG900913=Y,F.EPSG4326=Sn,F.Simple=Cn;var En=R.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ye.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=a(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=a(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&a(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?g(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=a(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Pn=En.extend({initialize:function(t,e){var n,i;if(p(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return a(t)}}),On=Pn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Pn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Pn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new j;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),xn=O.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){p(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var r=I(i),o=I("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Ct&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Rn=xn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Rn.imagePath||(Rn.imagePath=this._detectIconPath()),(this.options.imagePath||Rn.imagePath)+xn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=oe("div","leaflet-default-icon-path",document.body),e=re(t,"background-image")||re(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),An=en.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new cn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),he(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&de(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=ye(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),c=$(a.min._subtract(s).add(r),a.max._subtract(s).subtract(r));if(!c.contains(o)){var u=I((Math.max(c.max.x,o.x)-c.max.x)/(a.max.x-c.max.x)-(Math.min(c.min.x,o.x)-c.min.x)/(a.min.x-c.min.x),(Math.max(c.max.y,o.y)-c.max.y)/(a.max.y-c.max.y)-(Math.min(c.min.y,o.y)-c.min.y)/(a.min.y-c.min.y)).multiplyBy(i);n.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),_e(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=C(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(E(this._panRequest),this._panRequest=C(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=ye(e._icon),r=e._map.layerPointToLatLng(i);n&&_e(n,i),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){E(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Dn=En.extend({options:{icon:new Rn,interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(t,e){p(this,e),this._latlng=X(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=X(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),he(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(he(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ae(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ae(this._shadow),this._shadow=null},_setPos:function(t){_e(this._icon,t),this._shadow&&_e(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(he(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),An)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new An(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;me(this._icon,t),this._shadow&&me(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),In=En.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return p(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Mn=In.extend({options:{fill:!0,radius:10},initialize:function(t,e){p(this,e),this._latlng=X(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=X(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return In.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new M(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),$n=Mn.extend({initialize:function(t,e,i){if("number"==typeof e&&(e=n({},i,{radius:e})),p(this,e),this._latlng=X(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new j(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:In.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===H.distance){var r=Math.PI/180,o=this._mRadius/H.R/r,a=n.project([e+o,t]),s=n.project([e-o,t]),c=a.add(s).divideBy(2),u=n.unproject(c).lat,l=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(u*r))/(Math.cos(e*r)*Math.cos(u*r)))/r;(isNaN(l)||0===l)&&(l=o/Math.cos(Math.PI/180*e)),this._point=c.subtract(n.getPixelOrigin()),this._radius=isNaN(l)?0:c.x-n.project([u,t-l]).x,this._radiusY=c.y-a.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}}),Ln=In.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){p(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,r=null,o=fn,a=0,s=this._parts.length;a<s;a++)for(var c=this._parts[a],u=1,l=c.length;u<l;u++){e=c[u-1],n=c[u];var h=o(t,e,n,!0);h<i&&(i=h,r=o(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,a,s=this._rings[0],c=s.length;if(!c)return null;for(t=0,e=0;t<c-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,i=0;t<c-1;t++)if(r=s[t],o=s[t+1],n=r.distanceTo(o),(i+=n)>e)return a=(i-e)/n,this._map.layerPointToLatLng([o.x-a*(o.x-r.x),o.y-a*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=X(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new j,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=mn(t),i=0,r=t.length;i<r;i++)n?(e[i]=X(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new A(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var i,r,o=t[0]instanceof U,a=t.length;if(o){for(r=[],i=0;i<a;i++)r[i]=this._map.latLngToLayerPoint(t[i]),n.extend(r[i]);e.push(r)}else for(i=0;i<a;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,r,o,a,s,c=this._parts;for(e=0,i=0,r=this._rings.length;e<r;e++)for(s=this._rings[e],n=0,o=s.length;n<o-1;n++)(a=hn(s[n],s[n+1],t,n,!0))&&(c[i]=c[i]||[],c[i].push(a[0]),a[1]===s[n+1]&&n!==o-2||(c[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=un(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,o,a,s,c=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(s=this._parts[n],i=0,a=s.length,r=a-1;i<a;r=i++)if((e||0!==i)&&ln(t,s[r],s[i])<=c)return!0;return!1}});Ln._flat=vn;var jn=Ln.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,a,s,c,u=this._rings[0],l=u.length;if(!l)return null;for(o=a=s=0,t=0,e=l-1;t<l;e=t++)n=u[t],i=u[e],r=n.y*i.x-i.y*n.x,a+=(n.x+i.x)*r,s+=(n.y+i.y)*r,o+=3*r;return c=0===o?u[0]:[a/o,s/o],this._map.layerPointToLatLng(c)},_convertLatLngs:function(t){var e=Ln.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof U&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Ln.prototype._setLatLngs.call(this,t),mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new A(e,e);if(t=new M(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,o=this._rings.length;r<o;r++)(i=_n(this._rings[r],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,r,o,a,s,c,u=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,s=this._parts.length;r<s;r++)for(e=this._parts[r],o=0,c=e.length,a=c-1;o<c;a=o++)n=e[o],i=e[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(u=!u);return u||Ln.prototype._containsPoint.call(this,t,!0)}}),Nn=On.extend({initialize:function(t,e){p(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=g(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)((i=r[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var a=Un(t,o);return a?(a.feature=zn(t),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}});function Un(t,e){var n,i,r,o,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,c=[],u=e&&e.pointToLayer,l=e&&e.coordsToLatLng||Xn;if(!s&&!a)return null;switch(a.type){case"Point":return n=l(s),u?u(t,n):new Dn(n);case"MultiPoint":for(r=0,o=s.length;r<o;r++)n=l(s[r]),c.push(u?u(t,n):new Dn(n));return new On(c);case"LineString":case"MultiLineString":return i=Bn(s,"LineString"===a.type?0:1,l),new Ln(i,e);case"Polygon":case"MultiPolygon":return i=Bn(s,"Polygon"===a.type?1:2,l),new jn(i,e);case"GeometryCollection":for(r=0,o=a.geometries.length;r<o;r++){var h=Un({geometry:a.geometries[r],type:"Feature",properties:t.properties},e);h&&c.push(h)}return new On(c);default:throw new Error("Invalid GeoJSON object.")}}function Xn(t){return new U(t[1],t[0],t[2])}function Bn(t,e,n){for(var i,r=[],o=0,a=t.length;o<a;o++)i=e?Bn(t[o],e-1,n):(n||Xn)(t[o]),r.push(i);return r}function Fn(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[l(t.lng,e),l(t.lat,e),l(t.alt,e)]:[l(t.lng,e),l(t.lat,e)]}function Hn(t,e,n,i){for(var r=[],o=0,a=t.length;o<a;o++)r.push(e?Hn(t[o],e-1,n,i):Fn(t[o],i));return!e&&n&&r.push(r[0]),r}function qn(t,e){return t.feature?n({},t.feature,{geometry:e}):zn(e)}function zn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Wn={toGeoJSON:function(t){return qn(this,{type:"Point",coordinates:Fn(this.getLatLng(),t)})}};function Vn(t,e){return new Nn(t,e)}Dn.include(Wn),$n.include(Wn),Mn.include(Wn),Ln.include({toGeoJSON:function(t){var e=!mn(this._latlngs),n=Hn(this._latlngs,e?1:0,!1,t);return qn(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),jn.include({toGeoJSON:function(t){var e=!mn(this._latlngs),n=e&&!mn(this._latlngs[0]),i=Hn(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),qn(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Pn.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),qn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer(function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)i.push(r.geometry);else{var o=zn(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}}),n?qn(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Yn=Vn,Zn=En.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=N(e),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(he(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ae(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ce(this._image),this},bringToBack:function(){return this._map&&ue(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=N(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:oe("img");he(e,"leaflet-image-layer"),this._zoomAnimated&&he(e,"leaflet-zoom-animated"),this.options.className&&he(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ge(this._image,n,e)},_reset:function(){var t=this._image,e=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();_e(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){me(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Gn=Zn.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:oe("video");if(he(e,"leaflet-image-layer"),this._zoomAnimated&&he(e,"leaflet-zoom-animated"),e.onselectstart=u,e.onmousemove=u,e.onloadeddata=r(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],o=0;o<n.length;o++)i.push(n[o].src);this._url=n.length>0?i:[e.src]}else{g(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var s=oe("source");s.src=this._url[a],e.appendChild(s)}}}}),Kn=En.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){p(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&me(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&me(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(me(this._container,0),this._removeTimeout=setTimeout(r(ae,void 0,this._container),200)):ae(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=X(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ce(this._container),this},bringToBack:function(){return this._map&&ue(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=I(this.options.offset),n=this._getAnchor();this._zoomAnimated?_e(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),Jn=Kn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Kn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof In||this._source.on("preclick",Ie))},onRemove:function(t){Kn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof In||this._source.off("preclick",Ie))},getEvents:function(){var t=Kn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=oe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=oe("div",t+"-content-wrapper",e);if(this._contentNode=oe("div",t+"-content",n),$e(n),Me(this._contentNode),Oe(n,"contextmenu",Ie),this._tipContainer=oe("div",t+"-tip-container",e),this._tip=oe("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=oe("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",Oe(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight;r&&i>r?(e.height=r+"px",he(t,"leaflet-popup-scrolled")):de(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();_e(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(re(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new A(this._containerLeft,-n-this._containerBottom);r._add(ye(this._container));var o=t.layerPointToContainerPoint(r),a=I(this.options.autoPanPadding),s=I(this.options.autoPanPaddingTopLeft||a),c=I(this.options.autoPanPaddingBottomRight||a),u=t.getSize(),l=0,h=0;o.x+i+c.x>u.x&&(l=o.x+i-u.x+c.x),o.x-l-s.x<0&&(l=o.x-s.x),o.y+n+c.y>u.y&&(h=o.y+n-u.y+c.y),o.y-h-s.y<0&&(h=o.y-s.y),(l||h)&&t.fire("autopanstart").panBy([l,h])}},_onCloseButtonClick:function(t){this._close(),je(t)},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ye.mergeOptions({closePopupOnClick:!0}),Ye.include({openPopup:function(t,e,n){return t instanceof Jn||(t=new Jn(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),En.include({bindPopup:function(t,e){return t instanceof Jn?(p(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Jn(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof En||(e=t,t=this),t instanceof On)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(je(t),e instanceof In?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Qn=Kn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Kn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Kn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Kn.prototype.getEvents.call(this);return Tt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),r=e.layerPointToContainerPoint(t),o=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,c=I(this.options.offset),u=this._getAnchor();"top"===o?t=t.add(I(-a/2+c.x,-s+c.y+u.y,!0)):"bottom"===o?t=t.subtract(I(a/2-c.x,-c.y,!0)):"center"===o?t=t.subtract(I(a/2+c.x,s/2-u.y+c.y,!0)):"right"===o||"auto"===o&&r.x<i.x?(o="right",t=t.add(I(c.x+u.x,u.y-s/2+c.y,!0))):(o="left",t=t.subtract(I(a+u.x-c.x,s/2-u.y-c.y,!0))),de(n,"leaflet-tooltip-right"),de(n,"leaflet-tooltip-left"),de(n,"leaflet-tooltip-top"),de(n,"leaflet-tooltip-bottom"),he(n,"leaflet-tooltip-"+o),_e(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&me(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ye.include({openTooltip:function(t,e,n){return t instanceof Qn||(t=new Qn(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),En.include({bindTooltip:function(t,e){return t instanceof Qn?(p(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new Qn(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Tt&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof En||(e=t,t=this),t instanceof On)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(he(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(de(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var ti=xn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=I(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});xn.Default=Rn;var ei=En.extend({options:{tileSize:256,opacity:1,updateWhenIdle:gt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){p(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ae(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ce(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ue(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof A?t:new A(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),r=0,o=n.length;r<o;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Q){me(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(t-r.loaded)/200);me(r.el,o),o<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(E(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(ae(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],r=this._map;return i||((i=this._levels[t]={}).el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,r.getCenter(),r.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ae(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),a=n-1,s=new A(+r,+o);s.z=+a;var c=this._tileCoordsToKey(s),u=this._tiles[c];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),a>i&&this._retainParent(r,o,a,i))},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var a=new A(r,o);a.z=n+1;var s=this._tileCoordsToKey(a),c=this._tiles[s];c&&c.active?c.retain=!0:(c&&c.loaded&&(c.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var r=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();vt?ge(t.el,r,i):_e(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*i);return new M(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),a=[],s=this.options.keepBuffer,c=new M(r.getBottomLeft().subtract([s,-s]),r.getTopRight().add([s,-s]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var l=this._tiles[u].coords;l.z===this._tileZoom&&c.contains(new A(l.x,l.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=r.min.y;h<=r.max.y;h++)for(var d=r.min.x;d<=r.max.x;d++){var p=new A(d,h);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:a.push(p)}}if(a.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<a.length;d++)this._addTile(a[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return N(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n),o=e.unproject(i,t.z),a=e.unproject(r,t.z);return[o,a]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new j(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new A(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(ot||e.el.setAttribute("src",y),ae(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){he(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=u,t.onmousemove=u,Q&&this.options.opacity<1&&me(t,this.options.opacity),nt&&!it&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&C(r(this._tileReady,this,t,null,o)),_e(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){if(this._map&&n.getAttribute("src")!==y){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(me(n.el,0),E(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(he(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Q||!this._map._fadeAnimated?C(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new A(this._wrapX?c(t.x,this._wrapX):t.x,this._wrapY?c(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new M(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),ni=ei.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=p(this,e)).detectRetina&&Ct&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),nt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Oe(n,"load",r(this._tileOnLoad,this,e,n)),Oe(n,"error",r(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Ct?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return v(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Q?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset;return n&&(t=e-t),t+i},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=u,e.onerror=u,e.complete||(e.src=y,ae(e),delete this._tiles[t]))}});function ii(t,e){return new ni(t,e)}var ri=ni.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var r in e)r in this.options||(i[r]=e[r]);var o=(e=p(this,e)).detectRetina&&Ct?2:1,a=this.getTileSize();i.width=a.x*o,i.height=a.y*o,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,ni.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=$(n.project(e[0]),n.project(e[1])),r=i.min,o=i.max,a=(this._wmsVersion>=1.3&&this._crs===Sn?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),s=ni.prototype.getTileUrl.call(this,t);return s+f(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});ni.WMS=ri,ii.wms=function(t,e){return new ri(t,e)};var oi=En.extend({options:{padding:.1,tolerance:0},initialize:function(t){p(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&he(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=ye(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),a=this._map.project(t,e),s=a.subtract(o),c=r.multiplyBy(-n).add(i).add(r).subtract(s);vt?ge(this._container,c,n):_e(this._container,c)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new M(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ai=oi.extend({getEvents:function(){var t=oi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){oi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Oe(t,"mousemove",s(this._onMouseMove,32,this),this),Oe(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Oe(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){E(this._redrawRequest),delete this._ctx,ae(this._container),Re(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},oi.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Ct?2:1;_e(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Ct&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){oi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[a(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete this._drawnLayers[t._leaflet_id],delete t._order,delete this._layers[a(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n=t.options.dashArray.split(","),i=[];for(e=0;e<n.length;e++)i.push(Number(n[e]));t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||C(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,r,o,a=t._parts,s=a.length,c=this._ctx;if(s){for(this._drawnLayers[t._leaflet_id]=t,c.beginPath(),n=0;n<s;n++){for(i=0,r=a[n].length;i<r;i++)o=a[n][i],c[i?"lineTo":"moveTo"](o.x,o.y);e&&c.closePath()}this._fillStroke(c,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||i)/i;this._drawnLayers[t._leaflet_id]=t,1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)(e=r.layer).options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(He(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(de(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,i,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(he(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order,n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}});function si(t){return Et?new ai(t):null}var ci=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),ui={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(oi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=ci("shape");he(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=ci("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ae(e),t.removeInteractiveTarget(e),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(e||(e=t._stroke=ci("stroke")),r.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=g(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(r.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=ci("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ce(t._container)},_bringToBack:function(t){ue(t._container)}},li=Ot?ci:Z,hi=oi.extend({getEvents:function(){var t=oi.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=li("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=li("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ae(this._container),Re(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){oi.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),_e(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=li("path");t.options.className&&he(e,t.options.className),t.options.interactive&&he(e,"leaflet-interactive"),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ae(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,G(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i=Math.max(Math.round(t._radiusY),1)||n,r="a"+n+","+i+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ce(t._path)},_bringToBack:function(t){ue(t._path)}});function di(t){return Pt||Ot?new hi(t):null}Ot&&hi.include(ui),Ye.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&si(t)||di(t)}});var pi=jn.extend({initialize:function(t,e){jn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=N(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});hi.create=li,hi.pointsToPath=G,Nn.geometryToLayer=Un,Nn.coordsToLatLng=Xn,Nn.coordsToLatLngs=Bn,Nn.latLngToCoords=Fn,Nn.latLngsToCoords=Hn,Nn.getFeature=qn,Nn.asFeature=zn,Ye.mergeOptions({boxZoom:!0});var fi=en.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Oe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ae(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Zt(),we(),this._startPoint=this._map.mouseEventToContainerPoint(t),Oe(document,{contextmenu:je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),he(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new M(this._point,this._startPoint),n=e.getSize();_e(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ae(this._box),de(this._container,"leaflet-crosshair")),Gt(),Te(),Re(document,{contextmenu:je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var e=new j(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ye.addInitHook("addHandler","boxZoom",fi),Ye.mergeOptions({doubleClickZoom:!0});var mi=en.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});Ye.addInitHook("addHandler","doubleClickZoom",mi),Ye.mergeOptions({dragging:!0,inertia:!it,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vi=en.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new cn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}he(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){de(this._map._container,"leaflet-grab"),de(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=N(this._map.options.maxBounds);this._offsetLimit=$(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,a=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=r.multiplyBy(a/o),c=s.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,c),l=s.multiplyBy(u/c),h=u/(n.inertiaDeceleration*a),d=l.multiplyBy(-h/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),C(function(){e.panBy(d,{duration:h,easeLinearity:a,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});Ye.addInitHook("addHandler","dragging",vi),Ye.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gi=en.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Oe(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Re(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){Oe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=I(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}je(t)}}});Ye.addInitHook("addHandler","keyboard",gi),Ye.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _i=en.extend({addHooks:function(){Oe(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Re(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Xe(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),i),je(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,a=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});Ye.addInitHook("addHandler","scrollWheelZoom",_i),Ye.mergeOptions({tap:!0,tapTolerance:15});var yi=en.extend({addHooks:function(){Oe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Le(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new A(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&he(n,"leaflet-active"),this._holdTimeout=setTimeout(r(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),Oe(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Re(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&de(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new A(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});Tt&&!wt&&Ye.addInitHook("addHandler","tap",yi),Ye.mergeOptions({touchZoom:Tt&&!it,bounceAtZoomLimits:!0});var bi=en.extend({addHooks:function(){he(this._map._container,"leaflet-touch-zoom"),Oe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){de(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Oe(document,"touchmove",this._onTouchMove,this),Oe(document,"touchend",this._onTouchEnd,this),Le(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),E(this._animRequest);var s=r(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=C(s,this,!0),Le(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,E(this._animRequest),Re(document,"touchmove",this._onTouchMove),Re(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ye.addInitHook("addHandler","touchZoom",bi),Ye.BoxZoom=fi,Ye.DoubleClickZoom=mi,Ye.Drag=vi,Ye.Keyboard=gi,Ye.ScrollWheelZoom=_i,Ye.Tap=yi,Ye.TouchZoom=bi,Object.freeze=e,t.version="1.3.3",t.Control=Ze,t.control=Ge,t.Browser=Rt,t.Evented=R,t.Mixin=rn,t.Util=P,t.Class=O,t.Handler=en,t.extend=n,t.bind=r,t.stamp=a,t.setOptions=p,t.DomEvent=We,t.DomUtil=Pe,t.PosAnimation=Ve,t.Draggable=cn,t.LineUtil=gn,t.PolyUtil=yn,t.Point=A,t.point=I,t.Bounds=M,t.bounds=$,t.Transformation=z,t.transformation=W,t.Projection=Tn,t.LatLng=U,t.latLng=X,t.LatLngBounds=j,t.latLngBounds=N,t.CRS=F,t.GeoJSON=Nn,t.geoJSON=Vn,t.geoJson=Yn,t.Layer=En,t.LayerGroup=Pn,t.layerGroup=function(t,e){return new Pn(t,e)},t.FeatureGroup=On,t.featureGroup=function(t){return new On(t)},t.ImageOverlay=Zn,t.imageOverlay=function(t,e,n){return new Zn(t,e,n)},t.VideoOverlay=Gn,t.videoOverlay=function(t,e,n){return new Gn(t,e,n)},t.DivOverlay=Kn,t.Popup=Jn,t.popup=function(t,e){return new Jn(t,e)},t.Tooltip=Qn,t.tooltip=function(t,e){return new Qn(t,e)},t.Icon=xn,t.icon=function(t){return new xn(t)},t.DivIcon=ti,t.divIcon=function(t){return new ti(t)},t.Marker=Dn,t.marker=function(t,e){return new Dn(t,e)},t.TileLayer=ni,t.tileLayer=ii,t.GridLayer=ei,t.gridLayer=function(t){return new ei(t)},t.SVG=hi,t.svg=di,t.Renderer=oi,t.Canvas=ai,t.canvas=si,t.Path=In,t.CircleMarker=Mn,t.circleMarker=function(t,e){return new Mn(t,e)},t.Circle=$n,t.circle=function(t,e,n){return new $n(t,e,n)},t.Polyline=Ln,t.polyline=function(t,e){return new Ln(t,e)},t.Polygon=jn,t.polygon=function(t,e){return new jn(t,e)},t.Rectangle=pi,t.rectangle=function(t,e){return new pi(t,e)},t.Map=Ye,t.map=function(t,e){return new Ye(t,e)};var wi=window.L;t.noConflict=function(){return window.L=wi,this},window.L=t}(e)},"4h1E":function(t,e,n){n("Xiox"),n("KDXV"),n("QZ+v"),n("Zh92"),n("8v+I")},"4o7n":function(t,e,n){"use strict";t.exports=function(t){return(t=t.filter(function(t){return"number"==typeof t})).length<1?void 0:t.reduce(function(t,e){return e+t})/t.length}},"5UJR":function(t,e,n){"use strict";var i=n("NSCw"),r=n("2mUf"),o=n("q6IO");t.exports=function t(e){var n=e.bandwidth,a=void 0===n?null:n,s=e.fractionLost,c=void 0===s?null:s,u=e.latency,l=void 0===u?null:u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{bandwidth:{value:a?new i(a):null,enumerable:!0},fractionLost:{value:c?new r(c):null,enumerable:!0},latency:{value:l?new o(l):null,enumerable:!0}})}},"5ioK":function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=n("AT6e"),s=o,c=function(t){function e(e){var n=t.call(this,e)||this;return n._config=JSON.parse(s(e).attr("planning-appointment")),n}return r(e,t),e.prototype._constructDay=function(t){var e=this,n=s('<div class="day">'),i=new Date(t.date),r=new Date;i.toDateString()===r.toDateString()&&n.addClass("today"),t.slots.map(function(i){var r=s('<div class="slot">');r.addClass("appointment").addClass(i.locationClass).addClass(i.pendingSuggestion?"suggested":"").data("slot",i);var o=s('<div class="slot-actions">'),a=s("<div>").append(s("<p>"+e._config.trans[i.locationClass]+"</p>"),s("<p>").html(e._config.trans.detail.replace("%patient%",i.patient).replace("%start%",i.start)));if(new Date(t.date+" "+i.start).getTime()>(new Date).getTime()){var c=s("<a>").addClass("delete").attr({href:i.deletePath,"modal-request":""}),u=s('<i class="icon-trash">');c.append(u).appendTo(a)}o.append(a).appendTo(r),n.append(r)}),n.appendTo(this.$dayWrapper),this._draw(),s(document).trigger("hc:ready",n)},e}(a.Planning);s(document).on("hc:ready",function(t,e){t.preventDefault(),s(e||document).find("[planning-appointment]").each(function(t,e){return new c(e)})})},"5uBb":function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=function(){return function(){o(document).trigger("hc:notification:room:attachment:listener",this)}}();e.NotificationAttachmentListener=a;var s=function(t){function e(e){var n=t.call(this)||this;return n.$el=o(e),n}return r(e,t),e.prototype.process=function(t){var e=this;t.url&&o.ajax(t.url).done(function(t){return e._inject(t)})},e.prototype._inject=function(t){var e=this.$el;e.append(t),o(".icon-receive-attachment").css({color:"#FA5789"}),o(document).trigger("hc:ready",e),e.trigger("hc:notification:attachment:append")},e}(a),c=function(){return function(t){o(t).closest("[notification-attachment-receipt-area]").on("hc:notification:attachment:append",function(){return o(t).show()})}}();o(document).on("hc:ready",function(t,e){t.preventDefault();var n=o(e||o(document));n.find("[notification-attachment-receipt-area]").each(function(t,e){return new s(e)}),n.find("[notification-attachment-delete-all]").each(function(t,e){return new c(e)})})},"5wwa":function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n("SAu+"),s={};e.createTwilioError=function(t,e){return e="string"==typeof e&&e?e:"Unknown error",s[t="number"==typeof t?t:0]?new s[t]:new a(t,e)};var c=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,20101,"Invalid Access Token"))}return o(e,a),e}();e.AccessTokenInvalidError=c,Object.defineProperty(s,20101,{value:c});var u=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,20102,"Invalid Access Token header"))}return o(e,a),e}();e.AccessTokenHeaderInvalidError=u,Object.defineProperty(s,20102,{value:u});var l=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,20103,"Invalid Access Token issuer/subject"))}return o(e,a),e}();e.AccessTokenIssuerInvalidError=l,Object.defineProperty(s,20103,{value:l});var h=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,20104,"Access Token expired or expiration date invalid"))}return o(e,a),e}();e.AccessTokenExpiredError=h,Object.defineProperty(s,20104,{value:h});var d=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,20105,"Access Token not yet valid"))}return o(e,a),e}();e.AccessTokenNotYetValidError=d,Object.defineProperty(s,20105,{value:d});var p=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,20106,"Invalid Access Token grants"))}return o(e,a),e}();e.AccessTokenGrantsInvalidError=p,Object.defineProperty(s,20106,{value:p});var f=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,20107,"Invalid Access Token signature"))}return o(e,a),e}();e.AccessTokenSignatureInvalidError=f,Object.defineProperty(s,20107,{value:f});var m=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53e3,"Signaling connection error"))}return o(e,a),e}();e.SignalingConnectionError=m,Object.defineProperty(s,53e3,{value:m});var v=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53001,"Signaling connection disconnected"))}return o(e,a),e}();e.SignalingConnectionDisconnectedError=v,Object.defineProperty(s,53001,{value:v});var g=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53002,"Signaling connection timed out"))}return o(e,a),e}();e.SignalingConnectionTimeoutError=g,Object.defineProperty(s,53002,{value:g});var _=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53003,"Client received an invalid signaling message"))}return o(e,a),e}();e.SignalingIncomingMessageInvalidError=_,Object.defineProperty(s,53003,{value:_});var y=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53004,"Client sent an invalid signaling message"))}return o(e,a),e}();e.SignalingOutgoingMessageInvalidError=y,Object.defineProperty(s,53004,{value:y});var b=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53100,"Room name is invalid"))}return o(e,a),e}();e.RoomNameInvalidError=b,Object.defineProperty(s,53100,{value:b});var w=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53101,"Room name is too long"))}return o(e,a),e}();e.RoomNameTooLongError=w,Object.defineProperty(s,53101,{value:w});var T=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53102,"Room name contains invalid characters"))}return o(e,a),e}();e.RoomNameCharsInvalidError=T,Object.defineProperty(s,53102,{value:T});var k=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53103,"Unable to create Room"))}return o(e,a),e}();e.RoomCreateFailedError=k,Object.defineProperty(s,53103,{value:k});var S=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53104,"Unable to connect to Room"))}return o(e,a),e}();e.RoomConnectFailedError=S,Object.defineProperty(s,53104,{value:S});var C=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53105,"Room contains too many Participants"))}return o(e,a),e}();e.RoomMaxParticipantsExceededError=C,Object.defineProperty(s,53105,{value:C});var E=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53106,"Room not found"))}return o(e,a),e}();e.RoomNotFoundError=E,Object.defineProperty(s,53106,{value:E});var P=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53107,"MaxParticipants is out of range"))}return o(e,a),e}();e.RoomMaxParticipantsOutOfRangeError=P,Object.defineProperty(s,53107,{value:P});var O=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53108,"RoomType is not valid"))}return o(e,a),e}();e.RoomTypeInvalidError=O,Object.defineProperty(s,53108,{value:O});var x=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53109,"Timeout is out of range"))}return o(e,a),e}();e.RoomTimeoutOutOfRangeError=x,Object.defineProperty(s,53109,{value:x});var R=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53110,"StatusCallbackMethod is invalid"))}return o(e,a),e}();e.RoomStatusCallbackMethodInvalidError=R,Object.defineProperty(s,53110,{value:R});var A=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53111,"StatusCallback is invalid"))}return o(e,a),e}();e.RoomStatusCallbackInvalidError=A,Object.defineProperty(s,53111,{value:A});var D=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53112,"Status is invalid"))}return o(e,a),e}();e.RoomStatusInvalidError=D,Object.defineProperty(s,53112,{value:D});var I=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53113,"Room exists"))}return o(e,a),e}();e.RoomRoomExistsError=I,Object.defineProperty(s,53113,{value:I});var M=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53114,"Room creation parameter(s) incompatible with the Room type"))}return o(e,a),e}();e.RoomInvalidParametersError=M,Object.defineProperty(s,53114,{value:M});var $=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53115,"MediaRegion is invalid"))}return o(e,a),e}();e.RoomMediaRegionInvalidError=$,Object.defineProperty(s,53115,{value:$});var L=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53116,"There are no media servers available in the MediaRegion"))}return o(e,a),e}();e.RoomMediaRegionUnavailableError=L,Object.defineProperty(s,53116,{value:L});var j=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53117,"The subscription operation requested is not supported for the Room type"))}return o(e,a),e}();e.RoomSubscriptionOperationNotSupportedError=j,Object.defineProperty(s,53117,{value:j});var N=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53118,"Room completed"))}return o(e,a),e}();e.RoomCompletedError=N,Object.defineProperty(s,53118,{value:N});var U=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53200,"Participant identity is invalid"))}return o(e,a),e}();e.ParticipantIdentityInvalidError=U,Object.defineProperty(s,53200,{value:U});var X=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53201,"Participant identity is too long"))}return o(e,a),e}();e.ParticipantIdentityTooLongError=X,Object.defineProperty(s,53201,{value:X});var B=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53202,"Participant identity contains invalid characters"))}return o(e,a),e}();e.ParticipantIdentityCharsInvalidError=B,Object.defineProperty(s,53202,{value:B});var F=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53203,"Participant has too many Tracks"))}return o(e,a),e}();e.ParticipantMaxTracksExceededError=F,Object.defineProperty(s,53203,{value:F});var H=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53204,"Participant not found"))}return o(e,a),e}();e.ParticipantNotFoundError=H,Object.defineProperty(s,53204,{value:H});var q=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53205,"Participant disconnected because of duplicate identity"))}return o(e,a),e}();e.ParticipantDuplicateIdentityError=q,Object.defineProperty(s,53205,{value:q});var z=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53300,"Track is invalid"))}return o(e,a),e}();e.TrackInvalidError=z,Object.defineProperty(s,53300,{value:z});var W=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53301,"Track name is invalid"))}return o(e,a),e}();e.TrackNameInvalidError=W,Object.defineProperty(s,53301,{value:W});var V=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53302,"Track name is too long"))}return o(e,a),e}();e.TrackNameTooLongError=V,Object.defineProperty(s,53302,{value:V});var Y=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53303,"Track name contains invalid characters"))}return o(e,a),e}();e.TrackNameCharsInvalidError=Y,Object.defineProperty(s,53303,{value:Y});var Z=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53304,"Track name is duplicated"))}return o(e,a),e}();e.TrackNameIsDuplicatedError=Z,Object.defineProperty(s,53304,{value:Z});var G=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53305,"The server has reached capacity and cannot fulfill this request."))}return o(e,a),e}();e.TrackServerTrackCapacityReachedError=G,Object.defineProperty(s,53305,{value:G});var K=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53400,"Client is unable to create or apply a local media description"))}return o(e,a),e}();e.MediaClientLocalDescFailedError=K,Object.defineProperty(s,53400,{value:K});var J=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53401,"Server is unable to create or apply a local media description"))}return o(e,a),e}();e.MediaServerLocalDescFailedError=J,Object.defineProperty(s,53401,{value:J});var Q=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53402,"Client is unable to apply a remote media description"))}return o(e,a),e}();e.MediaClientRemoteDescFailedError=Q,Object.defineProperty(s,53402,{value:Q});var tt=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53403,"Server is unable to apply a remote media description"))}return o(e,a),e}();e.MediaServerRemoteDescFailedError=tt,Object.defineProperty(s,53403,{value:tt});var et=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53404,"No supported codec"))}return o(e,a),e}();e.MediaNoSupportedCodecError=et,Object.defineProperty(s,53404,{value:et});var nt=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53405,"Media connection failed"))}return o(e,a),e}();e.MediaConnectionError=nt,Object.defineProperty(s,53405,{value:nt});var it=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53500,"Unable to acquire configuration"))}return o(e,a),e}();e.ConfigurationAcquireFailedError=it,Object.defineProperty(s,53500,{value:it});var rt=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,53501,"Unable to acquire TURN credentials"))}return o(e,a),e}();e.ConfigurationAcquireTurnFailedError=rt,Object.defineProperty(s,53501,{value:rt})},"69wI":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("+qE3").EventEmitter,o=n("ghd6"),a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),r=o.defer(),a=!1,s=new Error("Timed out"),c=null,u=null;return Object.defineProperties(i,{_deferred:{value:r},_isTimedOut:{get:function(){return a},set:function(t){a=t}},_timedOut:{value:s},_timeout:{get:function(){return c},set:function(t){c=t}},_timer:{get:function(){return u},set:function(t){u=t}},_promise:{value:r.promise},isTimedOut:{enumerable:!0,get:function(){return a}},timeout:{enumerable:!0,get:function(){return c}}}),t.then(function(t){clearTimeout(i._timer),r.resolve(t)},function(t){clearTimeout(i._timer),r.reject(t)}),n&&i.start(n),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"catch",value:function(){var t;return(t=this._promise).catch.apply(t,arguments)}},{key:"start",value:function(t){var e=this;return this._timer?this:(this._timeout=t,this._timer=setTimeout(function(){e._timer&&(e._isTimedOut=!0,e.emit("timedOut",e),e._deferred.reject(e._timedOut))},this.timeout),this)}},{key:"then",value:function(){var t;return(t=this._promise).then.apply(t,arguments)}}]),e}();t.exports=a},"6JoF":function(t,e,n){"use strict";t.exports=function(t){var e;return(e=function(t,e,n){this.dialog=t,this.applicant=e,this.request=n,this.reattempt=!1,this.reattemptTimer=null}).prototype={send:function(){var e=this,n=new t.RequestSender(this,this.dialog.owner.ua);n.send(),this.request.method===t.C.INVITE&&n.clientTransaction.state!==t.Transactions.C.STATUS_TERMINATED&&(this.dialog.uac_pending_reply=!0,n.clientTransaction.on("stateChanged",function n(){this.state!==t.Transactions.C.STATUS_ACCEPTED&&this.state!==t.Transactions.C.STATUS_COMPLETED&&this.state!==t.Transactions.C.STATUS_TERMINATED||(this.removeListener("stateChanged",n),e.dialog.uac_pending_reply=!1,!1===e.dialog.uas_pending_reply&&e.dialog.owner.onReadyToReinvite())}))},onRequestTimeout:function(){this.applicant.onRequestTimeout()},onTransportError:function(){this.applicant.onTransportError()},receiveResponse:function(e){var n=this;408===e.status_code||481===e.status_code?this.applicant.onDialogError(e):e.method===t.C.INVITE&&491===e.status_code?this.reattempt?this.applicant.receiveResponse(e):(this.request.cseq.value=this.dialog.local_seqnum+=1,this.reattemptTimer=t.Timers.setTimeout(function(){n.applicant.owner.status!==t.Session.C.STATUS_TERMINATED&&(n.reattempt=!0,n.request_sender.send())},this.getReattemptTimeout())):this.applicant.receiveResponse(e)}},e}},"6ahg":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n("EVdn");(i=r)(document).on("hc:ready",function(t,e){t.preventDefault();var n=i(e||document);window.innerWidth>i(window).data("screenLimit")?n.find("input[datepicker]").each(function(t,e){var n={firstDay:1,dateFormat:"DD d MM yy",closeText:"Fermer",prevText:"Prcdent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["d.","l.","m.","m.","j.","v.","s."],altField:i(e).data("target"),altFormat:"yy-mm-dd"};i(e).hasClass("small")&&(n.dateFormat="D d M yy"),i(e).datepicker(n);var r=i(i(e).data("target"));if(i(e).val()&&i(e).datepicker("setDate",new Date(r.val())),r.on("change hc:change",function(){var t=r.val()?new Date(r.val()):"";i(e).datepicker("setDate",t)}),i(e).on("change",function(t){t.stopPropagation(),r.trigger("change")}),i(e).on("input",function(){""===i(e).val()&&i(e).datepicker("setDate","")}),i(e).hasClass("cleanable")){var o=i('<div class="datepicker-cleanable-wrapper">'),a=i('<a href="#" class="datepicker-cleaner icon-close">');o.insertAfter(e).append(e,a),a.on("click",function(t){t.stopPropagation(),t.preventDefault(),i(e).val("").trigger("input").trigger("change")})}}):n.find("input[datepicker]").each(function(t,e){i(e).attr("type","date").on("change",function(){i(i(e).data("target")).val(i(e).val())})})})},"6frX":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("wxsB"),o=n("A/ij")(r),a=function(t){function e(t,n,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),i(e,[{key:"toString",value:function(){return"[RemoteAudioTrack #"+this._instanceId+": "+this.sid+"]"}}]),e}();t.exports=a},"6ltx":function(t,e,n){"use strict";var i=n("j4sL"),r=n("XI6i");t.exports=function t(e){var n=e.level,o=e.audio,a=e.video;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{level:{value:n,enumerable:!0},audio:{value:o?new i(o):null,enumerable:!0},video:{value:a?new r(a):null,enumerable:!0}})}},"6msC":function(t,e,n){n("Q/1B"),n("grGN"),n("5uBb")},"6rGI":function(t,e,n){"use strict";t.exports=function(t){var e={STATUS_TRYING:1,STATUS_PROCEEDING:2,STATUS_CALLING:3,STATUS_ACCEPTED:4,STATUS_COMPLETED:5,STATUS_TERMINATED:6,STATUS_CONFIRMED:7,NON_INVITE_CLIENT:"nict",NON_INVITE_SERVER:"nist",INVITE_CLIENT:"ict",INVITE_SERVER:"ist"};function n(t,e,n){var i;return i="SIP/2.0/"+(t.ua.configuration.hackViaTcp?"TCP":e.server.scheme),i+=" "+t.ua.configuration.viaHost+";branch="+n,t.ua.configuration.forceRport&&(i+=";rport"),i}var i=function(t,i,r){var o;this.type=e.NON_INVITE_CLIENT,this.transport=r,this.id="z9hG4bK"+Math.floor(1e7*Math.random()),this.request_sender=t,this.request=i,this.logger=t.ua.getLogger("sip.transaction.nict",this.id),o=n(t,r,this.id),this.request.setHeader("via",o),this.request_sender.ua.newTransaction(this)};(i.prototype=Object.create(t.EventEmitter.prototype)).stateChanged=function(t){this.state=t,this.emit("stateChanged")},i.prototype.send=function(){this.stateChanged(e.STATUS_TRYING),this.F=t.Timers.setTimeout(this.timer_F.bind(this),t.Timers.TIMER_F),this.transport.send(this.request)||this.onTransportError()},i.prototype.onTransportError=function(){this.logger.log("transport error occurred, deleting non-INVITE client transaction "+this.id),t.Timers.clearTimeout(this.F),t.Timers.clearTimeout(this.K),this.stateChanged(e.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this),this.request_sender.onTransportError()},i.prototype.timer_F=function(){this.logger.log("Timer F expired for non-INVITE client transaction "+this.id),this.stateChanged(e.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this),this.request_sender.onRequestTimeout()},i.prototype.timer_K=function(){this.stateChanged(e.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this)},i.prototype.receiveResponse=function(n){var i=n.status_code;if(i<200)switch(this.state){case e.STATUS_TRYING:case e.STATUS_PROCEEDING:this.stateChanged(e.STATUS_PROCEEDING),this.request_sender.receiveResponse(n)}else switch(this.state){case e.STATUS_TRYING:case e.STATUS_PROCEEDING:this.stateChanged(e.STATUS_COMPLETED),t.Timers.clearTimeout(this.F),408===i?this.request_sender.onRequestTimeout():this.request_sender.receiveResponse(n),this.K=t.Timers.setTimeout(this.timer_K.bind(this),t.Timers.TIMER_K)}};var r=function(t,i,r){var o,a=this;this.type=e.INVITE_CLIENT,this.transport=r,this.id="z9hG4bK"+Math.floor(1e7*Math.random()),this.request_sender=t,this.request=i,this.logger=t.ua.getLogger("sip.transaction.ict",this.id),o=n(t,r,this.id),this.request.setHeader("via",o),this.request_sender.ua.newTransaction(this),this.request.cancel=function(t,e){for(var n=(e=(e||[]).slice()).length,i=null,r=0;r<n;r++)i=(i||"")+e[r].trim()+"\r\n";a.cancel_request(a,t,i)}};(r.prototype=Object.create(t.EventEmitter.prototype)).stateChanged=function(t){this.state=t,this.emit("stateChanged")},r.prototype.send=function(){this.stateChanged(e.STATUS_CALLING),this.B=t.Timers.setTimeout(this.timer_B.bind(this),t.Timers.TIMER_B),this.transport.send(this.request)||this.onTransportError()},r.prototype.onTransportError=function(){this.logger.log("transport error occurred, deleting INVITE client transaction "+this.id),t.Timers.clearTimeout(this.B),t.Timers.clearTimeout(this.D),t.Timers.clearTimeout(this.M),this.stateChanged(e.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this),this.state!==e.STATUS_ACCEPTED&&this.request_sender.onTransportError()},r.prototype.timer_M=function(){this.logger.log("Timer M expired for INVITE client transaction "+this.id),this.state===e.STATUS_ACCEPTED&&(t.Timers.clearTimeout(this.B),this.stateChanged(e.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this))},r.prototype.timer_B=function(){this.logger.log("Timer B expired for INVITE client transaction "+this.id),this.state===e.STATUS_CALLING&&(this.stateChanged(e.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this),this.request_sender.onRequestTimeout())},r.prototype.timer_D=function(){this.logger.log("Timer D expired for INVITE client transaction "+this.id),t.Timers.clearTimeout(this.B),this.stateChanged(e.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this)},r.prototype.sendACK=function(e){this.ack="ACK "+this.request.ruri+" SIP/2.0\r\n",this.ack+="Via: "+this.request.headers.Via.toString()+"\r\n",this.request.headers.Route&&(this.ack+="Route: "+this.request.headers.Route.toString()+"\r\n"),this.ack+="To: "+e.getHeader("to")+"\r\n",this.ack+="From: "+this.request.headers.From.toString()+"\r\n",this.ack+="Call-ID: "+this.request.headers["Call-ID"].toString()+"\r\n",this.ack+="Content-Length: 0\r\n",this.ack+="CSeq: "+this.request.headers.CSeq.toString().split(" ")[0],this.ack+=" ACK\r\n\r\n",this.D=t.Timers.setTimeout(this.timer_D.bind(this),t.Timers.TIMER_D),this.transport.send(this.ack)},r.prototype.cancel_request=function(n,i,r){var o=n.request;this.cancel=t.C.CANCEL+" "+o.ruri+" SIP/2.0\r\n",this.cancel+="Via: "+o.headers.Via.toString()+"\r\n",this.request.headers.Route&&(this.cancel+="Route: "+o.headers.Route.toString()+"\r\n"),this.cancel+="To: "+o.headers.To.toString()+"\r\n",this.cancel+="From: "+o.headers.From.toString()+"\r\n",this.cancel+="Call-ID: "+o.headers["Call-ID"].toString()+"\r\n",this.cancel+="CSeq: "+o.headers.CSeq.toString().split(" ")[0]+" CANCEL\r\n",i&&(this.cancel+="Reason: "+i+"\r\n"),r&&(this.cancel+=r),this.cancel+="Content-Length: 0\r\n\r\n",this.state===e.STATUS_PROCEEDING&&this.transport.send(this.cancel)},r.prototype.receiveResponse=function(n){var i=n.status_code;if(i>=100&&i<=199)switch(this.state){case e.STATUS_CALLING:this.stateChanged(e.STATUS_PROCEEDING),this.request_sender.receiveResponse(n),this.cancel&&this.transport.send(this.cancel);break;case e.STATUS_PROCEEDING:this.request_sender.receiveResponse(n)}else if(i>=200&&i<=299)switch(this.state){case e.STATUS_CALLING:case e.STATUS_PROCEEDING:this.stateChanged(e.STATUS_ACCEPTED),this.M=t.Timers.setTimeout(this.timer_M.bind(this),t.Timers.TIMER_M),this.request_sender.receiveResponse(n);break;case e.STATUS_ACCEPTED:this.request_sender.receiveResponse(n)}else if(i>=300&&i<=699)switch(this.state){case e.STATUS_CALLING:case e.STATUS_PROCEEDING:this.stateChanged(e.STATUS_COMPLETED),this.sendACK(n),this.request_sender.receiveResponse(n);break;case e.STATUS_COMPLETED:this.sendACK(n)}};var o=function(t,e,i){var r;this.transport=i,this.id="z9hG4bK"+Math.floor(1e7*Math.random()),this.request_sender=t,this.request=e,this.logger=t.ua.getLogger("sip.transaction.nict",this.id),r=n(t,i,this.id),this.request.setHeader("via",r)};(o.prototype=Object.create(t.EventEmitter.prototype)).send=function(){this.transport.send(this.request)||this.onTransportError()},o.prototype.onTransportError=function(){this.logger.log("transport error occurred, for an ACK client transaction "+this.id),this.request_sender.onTransportError()};var a=function(t,n){this.type=e.NON_INVITE_SERVER,this.id=t.via_branch,this.request=t,this.transport=t.transport,this.ua=n,this.last_response="",t.server_transaction=this,this.logger=n.getLogger("sip.transaction.nist",this.id),this.state=e.STATUS_TRYING,n.newTransaction(this)};(a.prototype=Object.create(t.EventEmitter.prototype)).stateChanged=function(t){this.state=t,this.emit("stateChanged")},a.prototype.timer_J=function(){this.logger.log("Timer J expired for non-INVITE server transaction "+this.id),this.stateChanged(e.STATUS_TERMINATED),this.ua.destroyTransaction(this)},a.prototype.onTransportError=function(){this.transportError||(this.transportError=!0,this.logger.log("transport error occurred, deleting non-INVITE server transaction "+this.id),t.Timers.clearTimeout(this.J),this.stateChanged(e.STATUS_TERMINATED),this.ua.destroyTransaction(this))},a.prototype.receiveResponse=function(n,i){var r=t.Utils.defer();if(100===n)switch(this.state){case e.STATUS_TRYING:this.stateChanged(e.STATUS_PROCEEDING),this.transport.send(i)||this.onTransportError();break;case e.STATUS_PROCEEDING:this.last_response=i,this.transport.send(i)?r.resolve():(this.onTransportError(),r.reject())}else if(n>=200&&n<=699)switch(this.state){case e.STATUS_TRYING:case e.STATUS_PROCEEDING:this.stateChanged(e.STATUS_COMPLETED),this.last_response=i,this.J=t.Timers.setTimeout(this.timer_J.bind(this),t.Timers.TIMER_J),this.transport.send(i)?r.resolve():(this.onTransportError(),r.reject())}return r.promise};var s=function(t,n){this.type=e.INVITE_SERVER,this.id=t.via_branch,this.request=t,this.transport=t.transport,this.ua=n,this.last_response="",t.server_transaction=this,this.logger=n.getLogger("sip.transaction.ist",this.id),this.state=e.STATUS_PROCEEDING,n.newTransaction(this),this.resendProvisionalTimer=null,t.reply(100)};(s.prototype=Object.create(t.EventEmitter.prototype)).stateChanged=function(t){this.state=t,this.emit("stateChanged")},s.prototype.timer_H=function(){this.logger.log("Timer H expired for INVITE server transaction "+this.id),this.state===e.STATUS_COMPLETED&&this.logger.warn("transactions","ACK for INVITE server transaction was never received, call will be terminated"),this.stateChanged(e.STATUS_TERMINATED),this.ua.destroyTransaction(this)},s.prototype.timer_I=function(){this.stateChanged(e.STATUS_TERMINATED),this.ua.destroyTransaction(this)},s.prototype.timer_L=function(){this.logger.log("Timer L expired for INVITE server transaction "+this.id),this.state===e.STATUS_ACCEPTED&&(this.stateChanged(e.STATUS_TERMINATED),this.ua.destroyTransaction(this))},s.prototype.onTransportError=function(){this.transportError||(this.transportError=!0,this.logger.log("transport error occurred, deleting INVITE server transaction "+this.id),null!==this.resendProvisionalTimer&&(t.Timers.clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),t.Timers.clearTimeout(this.L),t.Timers.clearTimeout(this.H),t.Timers.clearTimeout(this.I),this.stateChanged(e.STATUS_TERMINATED),this.ua.destroyTransaction(this))},s.prototype.resend_provisional=function(){this.transport.send(this.last_response)||this.onTransportError()},s.prototype.receiveResponse=function(n,i){var r=this,o=t.Utils.defer();if(n>=100&&n<=199)switch(this.state){case e.STATUS_PROCEEDING:this.transport.send(i)||this.onTransportError(),this.last_response=i}if(n>100&&n<=199&&this.state===e.STATUS_PROCEEDING)null===this.resendProvisionalTimer&&(this.resendProvisionalTimer=t.Timers.setInterval(r.resend_provisional.bind(r),t.Timers.PROVISIONAL_RESPONSE_INTERVAL));else if(n>=200&&n<=299)switch(this.state){case e.STATUS_PROCEEDING:this.stateChanged(e.STATUS_ACCEPTED),this.last_response=i,this.L=t.Timers.setTimeout(r.timer_L.bind(r),t.Timers.TIMER_L),null!==this.resendProvisionalTimer&&(t.Timers.clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null);case e.STATUS_ACCEPTED:this.transport.send(i)?o.resolve():(this.onTransportError(),o.reject())}else if(n>=300&&n<=699)switch(this.state){case e.STATUS_PROCEEDING:null!==this.resendProvisionalTimer&&(t.Timers.clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),this.transport.send(i)?(this.stateChanged(e.STATUS_COMPLETED),this.H=t.Timers.setTimeout(r.timer_H.bind(r),t.Timers.TIMER_H),o.resolve()):(this.onTransportError(),o.reject())}return o.promise};t.Transactions={C:e,checkTransaction:function(n,i){var r;switch(i.method){case t.C.INVITE:if(r=n.transactions.ist[i.via_branch]){switch(r.state){case e.STATUS_PROCEEDING:r.transport.send(r.last_response)}return!0}break;case t.C.ACK:if(!(r=n.transactions.ist[i.via_branch]))return!1;if(r.state===e.STATUS_ACCEPTED)return!1;if(r.state===e.STATUS_COMPLETED)return r.stateChanged(e.STATUS_CONFIRMED),r.I=t.Timers.setTimeout(r.timer_I.bind(r),t.Timers.TIMER_I),!0;break;case t.C.CANCEL:return(r=n.transactions.ist[i.via_branch])?(i.reply_sl(200),r.state!==e.STATUS_PROCEEDING):(i.reply_sl(481),!0);default:if(r=n.transactions.nist[i.via_branch]){switch(r.state){case e.STATUS_TRYING:break;case e.STATUS_PROCEEDING:case e.STATUS_COMPLETED:r.transport.send(r.last_response)}return!0}}},NonInviteClientTransaction:i,InviteClientTransaction:r,AckClientTransaction:o,NonInviteServerTransaction:a,InviteServerTransaction:s}}},"6vXP":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("+EQa"),o=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"toString",value:function(){return"[RemoteVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),e}();t.exports=o},"71c6":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.agendaDateFormat={day:{0:"dim.",1:"lun.",2:"mar.",3:"mer.",4:"jeu.",5:"ven.",6:"sam."},month:{0:"janvier",1:"fvrier",2:"mars",3:"avril",4:"mai",5:"juin",6:"juillet",7:"aot",8:"sept.",9:"oct.",10:"nov.",11:"dc."}},e.dateFormatter=function(t){var n=document.createElement("div"),i=document.createElement("span");return i.innerText=e.agendaDateFormat.day[t.getDay()],n.appendChild(i),n.appendChild(document.createTextNode(" ")),n.appendChild(document.createTextNode((t.getDate()>9?"":"0")+t.getDate())),n.appendChild(document.createTextNode(" ")),n.appendChild(document.createTextNode(e.agendaDateFormat.month[t.getMonth()])),n.innerHTML}},"7C7v":function(t,e,n){"use strict";var i=n("5UJR"),r=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),e}();t.exports=r},"7bK7":function(t,e,n){"use strict";var i=n("uBG5"),r=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),e}();t.exports=r},"7jRU":function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},"7tlc":function(t,e,n){(function(t){var i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++)n[e[i]]=Object.getOwnPropertyDescriptor(t,e[i]);return n},r=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(t).replace(r,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}}),c=i[n];n<o;c=i[++n])m(c)||!b(c)?a+=" "+c:a+=" "+s(c);return a},e.deprecate=function(n,i){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,i).apply(this,arguments)};var r=!1;return function(){if(!r){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),r=!0}return n.apply(this,arguments)}};var o,a={};function s(t,n){var i={seen:[],stylize:u};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),f(n)?i.showHidden=n:n&&e._extend(i,n),_(i.showHidden)&&(i.showHidden=!1),_(i.depth)&&(i.depth=2),_(i.colors)&&(i.colors=!1),_(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=c),l(i,t,i.depth)}function c(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function u(t,e){return t}function l(t,n,i){if(t.customInspect&&n&&k(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return g(r)||(r=l(t,r,i)),r}var o=function(t,e){if(_(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(v(e))return t.stylize(""+e,"number");if(f(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(t,n);if(o)return o;var a=Object.keys(n),s=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),T(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(n);if(0===a.length){if(k(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(y(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(T(n))return h(n)}var u,b="",S=!1,C=["{","}"];(p(n)&&(S=!0,C=["[","]"]),k(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return y(n)&&(b=" "+RegExp.prototype.toString.call(n)),w(n)&&(b=" "+Date.prototype.toUTCString.call(n)),T(n)&&(b=" "+h(n)),0!==a.length||S&&0!=n.length?i<0?y(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=S?function(t,e,n,i,r){for(var o=[],a=0,s=e.length;a<s;++a)P(e,String(a))?o.push(d(t,e,n,i,String(a),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(d(t,e,n,i,r,!0))}),o}(t,n,i,s,a):a.map(function(e){return d(t,n,i,s,e,S)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(u,b,C)):C[0]+b+C[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,n,i,r,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),P(i,r)||(a="["+r+"]"),s||(t.seen.indexOf(c.value)<0?(s=m(n)?l(t,c.value,null):l(t,c.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),_(a)){if(o&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t){return Array.isArray(t)}function f(t){return"boolean"==typeof t}function m(t){return null===t}function v(t){return"number"==typeof t}function g(t){return"string"==typeof t}function _(t){return void 0===t}function y(t){return b(t)&&"[object RegExp]"===S(t)}function b(t){return"object"==typeof t&&null!==t}function w(t){return b(t)&&"[object Date]"===S(t)}function T(t){return b(t)&&("[object Error]"===S(t)||t instanceof Error)}function k(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function C(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(_(o)&&(o=Object({NODE_ENV:"production"}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var i=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,i,t)}}else a[n]=function(){};return a[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=f,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=_,e.isRegExp=y,e.isObject=b,e.isDate=w,e.isError=T,e.isFunction=k,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n("j/1Z");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[C(t.getHours()),C(t.getMinutes()),C(t.getSeconds())].join(":"),[t.getDate(),E[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n("P7XM"),e._extend=function(t,e){if(!e||!b(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t};var O="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function x(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(O&&t[O]){var e;if("function"!=typeof(e=t[O]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,i=new Promise(function(t,i){e=t,n=i}),r=[],o=0;o<arguments.length;o++)r.push(arguments[o]);r.push(function(t,i){t?n(t):e(i)});try{t.apply(this,r)}catch(t){n(t)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),O&&Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},e.promisify.custom=O,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);var r=n.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return r.apply(o,arguments)};e.apply(this,n).then(function(e){t.nextTick(a,null,e)},function(e){t.nextTick(x,e,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,i(e)),n}}).call(this,n("8oxB"))},"85dL":function(t,e,n){"use strict";var i=n("tK72");t.exports=function(t){return{parse:function(e,n){var r={startRule:n,SIP:t};try{i.parse(e,r)}catch(t){r.data=-1}return r.data}}}},"85wm":function(t,e,n){"use strict";t.exports=function(t,e){var n;n={Promise:e.Promise,defer:function(){var t={};return t.promise=new n.Promise(function(e,n){t.resolve=e,t.reject=n}),t},promisify:function(t,e,i){var r=t[e];return function(e,o,a){return new n.Promise(function(n,o){var a=[e,n,o];i&&(a=[n,o,e]),r.apply(t,a)}).then(o,a)}},augment:function(t,e,n,i){var r,o;for(r in o=e.prototype)(i||void 0===t[r])&&(t[r]=o[r]);e.apply(t,n)},optionsOverride:function(t,e,n,i,r,o){i&&t[n]&&r.warn(n+" is deprecated, please use "+e+" instead"),t[e]&&t[n]&&r.warn(e+" overriding "+n),t[e]=t[e]||t[n]||o},str_utf8_length:function(t){return encodeURIComponent(t).replace(/%[A-F\d]{2}/g,"U").length},generateFakeSDP:function(t){if(t){var e=t.indexOf("o="),n=t.indexOf("\r\n",e);return"v=0\r\n"+t.slice(e,n)+"\r\ns=-\r\nt=0 0\r\nc=IN IP4 0.0.0.0"}},isFunction:function(t){return void 0!==t&&"[object Function]"===Object.prototype.toString.call(t)},isDecimal:function(t){return!isNaN(t)&&parseFloat(t)===parseInt(t,10)},createRandomToken:function(t,e){var n,i="";for(e=e||32,n=0;n<t;n++)i+=(Math.random()*e|0).toString(e);return i},newTag:function(){return t.Utils.createRandomToken(t.UA.C.TAG_LENGTH)},newUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},hostType:function(e){if(e)return-1!==(e=t.Grammar.parse(e,"host"))?e.host_type:void 0},normalizeTarget:function(e,n){var i,r,o,a;if(e){if(e instanceof t.URI)return e;if("string"==typeof e){switch((r=e.split("@")).length){case 1:if(!n)return;o=e,a=n;break;case 2:o=r[0],a=r[1];break;default:o=r.slice(0,r.length-1).join("@"),a=r[r.length-1]}return o=o.replace(/^(sips?|tel):/i,""),/^[\-\.\(\)]*\+?[0-9\-\.\(\)]+$/.test(o)&&(o=o.replace(/[\-\.\(\)]/g,"")),e=t.C.SIP+":"+t.Utils.escapeUser(o)+"@"+a,(i=t.URI.parse(e))?i:void 0}}else;},escapeUser:function(t){return encodeURIComponent(decodeURIComponent(t)).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")},headerize:function(t){var e,n={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},i=t.toLowerCase().replace(/_/g,"-").split("-"),r="",o=i.length;for(e=0;e<o;e++)0!==e&&(r+="-"),r+=i[e].charAt(0).toUpperCase()+i[e].substring(1);return n[r]&&(r=n[r]),r},sipErrorCause:function(e){var n;for(n in t.C.SIP_ERROR_CAUSES)if(-1!==t.C.SIP_ERROR_CAUSES[n].indexOf(e))return t.C.causes[n];return t.C.causes.SIP_FAILURE_CODE},getReasonPhrase:function(e,n){return n||t.C.REASON_PHRASE[e]||""},getReasonHeaderValue:function(e,n){return"SIP ;cause="+e+' ;text="'+(n=t.Utils.getReasonPhrase(e,n))+'"'},getCancelReason:function(e,n){if(e&&e<200||e>699)throw new TypeError("Invalid status_code: "+e);if(e)return t.Utils.getReasonHeaderValue(e,n)},buildStatusLine:function(t,e){if(e=e||null,!(t=t||null)||t<100||t>699)throw new TypeError("Invalid status_code: "+t);if(e&&"string"!=typeof e&&!(e instanceof String))throw new TypeError("Invalid reason_phrase: "+e);return"SIP/2.0 "+t+" "+(e=n.getReasonPhrase(t,e))+"\r\n"},getRandomTestNetIP:function(){return"192.0.2."+(t=1,e=254,Math.floor(Math.random()*(e-t+1)+t));var t,e},calculateMD5:function(t){function e(t,e){return t<<e|t>>>32-e}function n(t,e){var n,i,r,o,a;return r=2147483648&t,o=2147483648&e,a=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(i=1073741824&e)?2147483648^a^r^o:n|i?1073741824&a?3221225472^a^r^o:1073741824^a^r^o:a^r^o}function i(t,i,r,o,a,s,c){return t=n(t,n(n(function(t,e,n){return t&e|~t&n}(i,r,o),a),c)),n(e(t,s),i)}function r(t,i,r,o,a,s,c){return t=n(t,n(n(function(t,e,n){return t&n|e&~n}(i,r,o),a),c)),n(e(t,s),i)}function o(t,i,r,o,a,s,c){return t=n(t,n(n(function(t,e,n){return t^e^n}(i,r,o),a),c)),n(e(t,s),i)}function a(t,i,r,o,a,s,c){return t=n(t,n(n(function(t,e,n){return e^(t|~n)}(i,r,o),a),c)),n(e(t,s),i)}function s(t){var e,n="",i="";for(e=0;e<=3;e++)n+=(i="0"+(t>>>8*e&255).toString(16)).substr(i.length-2,2);return n}var c,u,l,h,d,p,f,m,v,g;for(c=function(t){for(var e,n=t.length,i=n+8,r=16*((i-i%64)/64+1),o=Array(r-1),a=0,s=0;s<n;)a=s%4*8,o[e=(s-s%4)/4]=o[e]|t.charCodeAt(s)<<a,s++;return a=s%4*8,o[e=(s-s%4)/4]=o[e]|128<<a,o[r-2]=n<<3,o[r-1]=n>>>29,o}(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e}(t)),f=1732584193,m=4023233417,v=2562383102,g=271733878,u=0;u<c.length;u+=16)l=f,h=m,d=v,p=g,f=i(f,m,v,g,c[u+0],7,3614090360),g=i(g,f,m,v,c[u+1],12,3905402710),v=i(v,g,f,m,c[u+2],17,606105819),m=i(m,v,g,f,c[u+3],22,3250441966),f=i(f,m,v,g,c[u+4],7,4118548399),g=i(g,f,m,v,c[u+5],12,1200080426),v=i(v,g,f,m,c[u+6],17,2821735955),m=i(m,v,g,f,c[u+7],22,4249261313),f=i(f,m,v,g,c[u+8],7,1770035416),g=i(g,f,m,v,c[u+9],12,2336552879),v=i(v,g,f,m,c[u+10],17,4294925233),m=i(m,v,g,f,c[u+11],22,2304563134),f=i(f,m,v,g,c[u+12],7,1804603682),g=i(g,f,m,v,c[u+13],12,4254626195),v=i(v,g,f,m,c[u+14],17,2792965006),f=r(f,m=i(m,v,g,f,c[u+15],22,1236535329),v,g,c[u+1],5,4129170786),g=r(g,f,m,v,c[u+6],9,3225465664),v=r(v,g,f,m,c[u+11],14,643717713),m=r(m,v,g,f,c[u+0],20,3921069994),f=r(f,m,v,g,c[u+5],5,3593408605),g=r(g,f,m,v,c[u+10],9,38016083),v=r(v,g,f,m,c[u+15],14,3634488961),m=r(m,v,g,f,c[u+4],20,3889429448),f=r(f,m,v,g,c[u+9],5,568446438),g=r(g,f,m,v,c[u+14],9,3275163606),v=r(v,g,f,m,c[u+3],14,4107603335),m=r(m,v,g,f,c[u+8],20,1163531501),f=r(f,m,v,g,c[u+13],5,2850285829),g=r(g,f,m,v,c[u+2],9,4243563512),v=r(v,g,f,m,c[u+7],14,1735328473),f=o(f,m=r(m,v,g,f,c[u+12],20,2368359562),v,g,c[u+5],4,4294588738),g=o(g,f,m,v,c[u+8],11,2272392833),v=o(v,g,f,m,c[u+11],16,1839030562),m=o(m,v,g,f,c[u+14],23,4259657740),f=o(f,m,v,g,c[u+1],4,2763975236),g=o(g,f,m,v,c[u+4],11,1272893353),v=o(v,g,f,m,c[u+7],16,4139469664),m=o(m,v,g,f,c[u+10],23,3200236656),f=o(f,m,v,g,c[u+13],4,681279174),g=o(g,f,m,v,c[u+0],11,3936430074),v=o(v,g,f,m,c[u+3],16,3572445317),m=o(m,v,g,f,c[u+6],23,76029189),f=o(f,m,v,g,c[u+9],4,3654602809),g=o(g,f,m,v,c[u+12],11,3873151461),v=o(v,g,f,m,c[u+15],16,530742520),f=a(f,m=o(m,v,g,f,c[u+2],23,3299628645),v,g,c[u+0],6,4096336452),g=a(g,f,m,v,c[u+7],10,1126891415),v=a(v,g,f,m,c[u+14],15,2878612391),m=a(m,v,g,f,c[u+5],21,4237533241),f=a(f,m,v,g,c[u+12],6,1700485571),g=a(g,f,m,v,c[u+3],10,2399980690),v=a(v,g,f,m,c[u+10],15,4293915773),m=a(m,v,g,f,c[u+1],21,2240044497),f=a(f,m,v,g,c[u+8],6,1873313359),g=a(g,f,m,v,c[u+15],10,4264355552),v=a(v,g,f,m,c[u+6],15,2734768916),m=a(m,v,g,f,c[u+13],21,1309151649),f=a(f,m,v,g,c[u+4],6,4149444226),g=a(g,f,m,v,c[u+11],10,3174756917),v=a(v,g,f,m,c[u+2],15,718787259),m=a(m,v,g,f,c[u+9],21,3951481745),f=n(f,l),m=n(m,h),v=n(v,d),g=n(g,p);return(s(f)+s(m)+s(v)+s(g)).toLowerCase()}},t.Utils=n}},"8QmE":function(t,e,n){"use strict";var i=n("BWbm").flatMap,r=n("BWbm").guessBrowser,o=n("iWhl").getSdpFormat,a=r(),s="chrome"===a,c="firefox"===a,u="safari"===a,l=o(),h=s?parseInt(navigator.userAgent.match(/Chrome\/([0-9]+)/)[1],10):null;function d(t){var e=Array.from(t.values()).find(function(t){return"candidate-pair"===t.type&&t.nominated});if(!e)return null;var n=t.get(e.localCandidateId),i=t.get(e.remoteCandidateId),r=[{key:"candidateType",type:"string"},{key:"ip",type:"string"},{key:"port",type:"number"},{key:"priority",type:"number"},{key:"protocol",type:"string"},{key:"url",type:"string"}],o=r.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),a=n?o.reduce(function(t,e){return t[e.key]=typeof n[e.key]===e.type?n[e.key]:"deleted"!==e.key&&null,t},{}):null,s=i?r.reduce(function(t,e){return t[e.key]=typeof i[e.key]===e.type?i[e.key]:null,t},{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string"},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce(function(t,n){return t[n.key]=typeof e[n.key]===n.type?e[n.key]:null,t},{localCandidate:a,remoteCandidate:s})}function p(t){var e=Array.from(t.values()).find(function(t){return"candidate-pair"===t.type&&t.nominated});if(!e)return null;var n=t.get(e.localCandidateId),i=t.get(e.remoteCandidateId),r=[{key:"candidateType",type:"string"},{key:"ip",ffKeys:["address","ipAddress"],type:"string"},{key:"port",ffKeys:["portNumber"],type:"number"},{key:"priority",type:"number"},{key:"protocol",ffKeys:["transport"],type:"string"},{key:"url",type:"string"}],o=r.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),a={host:"host",peerreflexive:"prflx",relayed:"relay",serverreflexive:"srflx"},s=n?o.reduce(function(t,e){var i=e.ffKeys&&e.ffKeys.find(function(t){return t in n})||e.key;return t[e.key]=typeof n[i]===e.type?"candidateType"===i&&a[n[i]]||n[i]:"deleted"!==i&&null,t},{}):null,c=i?r.reduce(function(t,e){var n=e.ffKeys&&e.ffKeys.find(function(t){return t in i})||e.key;return t[e.key]=typeof i[n]===e.type?"candidateType"===n&&a[i[n]]||i[n]:null,t},{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string"},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce(function(t,n){return t[n.key]=typeof e[n.key]===n.type?e[n.key]:null,t},{localCandidate:s,remoteCandidate:c})}function f(t,e,n){var r="local"===n?"getSenders":"getReceivers";return!t[r]||h&&h<66?i(t["local"===n?"getLocalStreams":"getRemoteStreams"](),function(t){return t["audio"===e?"getAudioTracks":"getVideoTracks"]()}):t[r]().map(function(t){return t.track}).filter(function(t){return t&&t.kind===e})}function m(t,e){return new Promise(function(n,i){h&&h<67?t.getStats(function(t){n(function(t,e){var n=t.result().find(function(t){return"ssrc"===t.type&&t.stat("googTrackId")===e.id}),i={};n&&(i.timestamp=Math.round(Number(n.timestamp)),i=n.names().reduce(function(t,e){switch(e){case"googCodecName":t.codecName=n.stat(e);break;case"googRtt":t.roundTripTime=Number(n.stat(e));break;case"googJitterReceived":t.jitter=Number(n.stat(e));break;case"googFrameWidthInput":t.frameWidthInput=Number(n.stat(e));break;case"googFrameHeightInput":t.frameHeightInput=Number(n.stat(e));break;case"googFrameWidthSent":t.frameWidthSent=Number(n.stat(e));break;case"googFrameHeightSent":t.frameHeightSent=Number(n.stat(e));break;case"googFrameWidthReceived":t.frameWidthReceived=Number(n.stat(e));break;case"googFrameHeightReceived":t.frameHeightReceived=Number(n.stat(e));break;case"googFrameRateInput":t.frameRateInput=Number(n.stat(e));break;case"googFrameRateSent":t.frameRateSent=Number(n.stat(e));break;case"googFrameRateReceived":t.frameRateReceived=Number(n.stat(e));break;case"ssrc":t[e]=n.stat(e);break;case"bytesReceived":case"bytesSent":case"packetsLost":case"packetsReceived":case"packetsSent":case"audioInputLevel":case"audioOutputLevel":t[e]=Number(n.stat(e))}return t},i));return i}(t,e))},null,i):t.getStats(e).then(function(t){n(function(t){var e=null,n=null,i=null,r=null;t.forEach(function(t){switch(t.type){case"inbound-rtp":e=t;break;case"outbound-rtp":n=t;break;case"track":i=t;break;case"codec":r=t}});var o=i&&i.remoteSource,a={},s=o?e:n,c=i,u=r;function l(t){return s&&void 0!==s[t]?s[t]:c&&void 0!==c[t]?c[t]:u&&void 0!==u[t]?u[t]:null}var h=l("ssrc");"number"==typeof h&&(a.ssrc=String(h));var d=l("timestamp");a.timestamp=Math.round(d);var p=l("mimeType");"string"==typeof p&&(p=p.split("/"),a.codecName=p[p.length-1]);var f=l("roundTripTime");"number"==typeof f&&(a.roundTripTime=f);var m=l("jitter");"number"==typeof m&&(a.jitter=Math.round(1e3*m));var v=l("frameWidth");"number"==typeof v&&(o?a.frameWidthReceived=v:a.frameWidthSent=v);var g=l("frameHeight");"number"==typeof g&&(o?a.frameHeightReceived=g:a.frameHeightSent=g);var _=l("framesPerSecond");"number"==typeof _&&(a.frameRateSent=_);var y=l("bytesReceived");"number"==typeof y&&(a.bytesReceived=y);var b=l("bytesSent");"number"==typeof b&&(a.bytesSent=b);var w=l("packetsLost");"number"==typeof w&&(a.packetsLost=w);var T=l("packetsReceived");"number"==typeof T&&(a.packetsReceived=T);var k=l("packetsSent");"number"==typeof k&&(a.packetsSent=k);var S=l("audioLevel");"number"==typeof S&&(o?a.audioOutputLevel=S:a.audioInputLevel=S);return a}(t))},i)})}t.exports=function(t,e){return t&&"function"==typeof t.getStats?function(t,e){var n=f(t,"audio","local"),r=f(t,"video","local"),o=f(t,"audio"),a=f(t,"video"),h={activeIceCandidatePair:null,localAudioTrackStats:[],localVideoTrackStats:[],remoteAudioTrackStats:[],remoteVideoTrackStats:[]},v=i([[n,"localAudioTrackStats",!1],[r,"localVideoTrackStats",!1],[o,"remoteAudioTrackStats",!0],[a,"remoteVideoTrackStats",!0]],function(n){var i=n[0],r=n[1],o=n[2];return i.map(function(n){return function(t,e,n){return void 0!==(n=n||{}).testForChrome||s?m(t,e):void 0!==n.testForFirefox||c?function(t,e,n){return new Promise(function(i,r){t.getStats(e).then(function(t){i(function(t,e){t=t||new Map;var n=null,i=null;t.forEach(function(e){if(!e.isRemote)switch(e.type){case"inbound-rtp":n=e,i=t.get(e.remoteId);break;case"outbound-rtp":i=e,n=t.get(e.remoteId)}});var r=e?n:i,o=e?i:n;function a(t){return r&&void 0!==r[t]?r[t]:o&&void 0!==o[t]?o[t]:null}var s={},c=a("timestamp");s.timestamp=Math.round(c);var u=a("ssrc");"number"==typeof u&&(s.ssrc=String(u));var l=a("bytesSent");"number"==typeof l&&(s.bytesSent=l);var h=a("packetsLost");"number"==typeof h&&(s.packetsLost=h);var d=a("packetsSent");"number"==typeof d&&(s.packetsSent=d);var p=a("roundTripTime");"number"==typeof p&&(s.roundTripTime=p);var f=a("jitter");"number"==typeof f&&(s.jitter=Math.round(1e3*f));var m=a("framerateMean");"number"==typeof m&&(s.frameRateSent=Math.round(m));var v=a("bytesReceived");"number"==typeof v&&(s.bytesReceived=v);var g=a("packetsReceived");"number"==typeof g&&(s.packetsReceived=g);var _=a("framerateMean");return"number"==typeof _&&(s.frameRateReceived=Math.round(_)),s}(t,n))},r)})}(t,e,n.isRemote):void 0!==n.testForSafari||u?void 0!==n.testForSafari||"unified"===l?m(t,e):Promise.reject(new Error(["getStats() is not supported on this version of Safari","due to this bug: https://bugs.webkit.org/show_bug.cgi?id=192601"].join(" "))):Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}(t,n,Object.assign({isRemote:o},e)).then(function(t){t.trackId=n.id,h[r].push(t)})})});return Promise.all(v).then(function(){return function(t,e){return void 0!==(e=e||{}).testForChrome||s||void 0!==e.testForSafari||u?t.getStats().then(d):void 0!==e.testForFirefox||c?t.getStats().then(p):Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}(t,e)}).then(function(t){return h.activeIceCandidatePair=t,h})}(t,e):Promise.reject(new Error("Given PeerConnection does not support getStats"))}},"8WNc":function(t,e,n){"use strict";t.exports=function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{id:{enumerable:!0,value:e},trackId:{enumerable:!0,value:n},bitrate:{enumerable:!0,value:i}})}},"8j3H":function(t,e,n){"use strict";(function(e){var i=e.window||e,r=n("hjg0"),o=i.WebSocket?i.WebSocket:n("vaDk"),a=i.addEventListener?i.addEventListener.bind(i):null;t.exports=n("XNsM")({addEventListener:a,console:i.console,Promise:i.Promise,WebSocket:o,timers:i,Transport:r})}).call(this,n("yLpj"))},"8oxB":function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var c,u=[],l=!1,h=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&p())}function p(){if(!l){var t=s(d);l=!0;for(var e=u.length;e;){for(c=u,u=[];++h<e;)c&&c[h].run();h=-1,e=u.length}c=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new f(t,e)),1!==u.length||l||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"8v+I":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=n("KDXV"),o=n("QZ+v"),a=i,s=function(){function t(t){t instanceof HTMLFormElement?this._modal=new r.ModalForm(t):this._modal=new o.ModalLink(t),this._addEvents()}return t.prototype._addEvents=function(){var t=this;a(this._modal).on("hc:modal:opened",function(){a(window).on("beforeunload.appointment",function(){return t._cancel()}),t._modal.wrapper.on("submit","form",function(){a(window).off("beforeunload.appointment")})}),a(this._modal).on("hc:modal:beforeclose",function(){!1===t._modal.replacementInProgress&&t._cancel(),a(window).off("beforeunload.appointment")})},t.prototype._cancel=function(){var t=this._modal.wrapper.attr("release-appointment");void 0!==t&&navigator.sendBeacon(t)},t}();a(document).on("hc:ready",function(t,e){t.preventDefault(),a(e||document).find("[appointment-request]").each(function(t,e){return new s(e)})})},"8vSI":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("+EQa"),o=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"toString",value:function(){return"[RemoteAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),e}();t.exports=o},"8yKx":function(t,e,n){"use strict";var i=n("+qE3").EventEmitter;function r(){Object.defineProperties(this,{_eventEmitter:{value:new i}})}r.prototype.dispatchEvent=function(t){return this._eventEmitter.emit(t.type,t)},r.prototype.addEventListener=function(){return this._eventEmitter.addListener.apply(this._eventEmitter,arguments)},r.prototype.removeEventListener=function(){return this._eventEmitter.removeListener.apply(this._eventEmitter,arguments)},t.exports=r},"9/wP":function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n("BWbm").guessBrowser,o=n("sYJf"),a=n("/kv6"),s=n("Qvpb"),c=n("CeuH"),u=n("xwWy"),l=n("+kOg"),h=n("xwWy").typeErrors,d=n("o2QH"),p=n("gJbR"),f=n("Rj+V"),m=n("MItk"),v=n("2NPH"),g=n("S3Hu"),_=n("2h1k").MediaStreamTrack,y=n("LOmJ"),b=n("wAda"),w=n("ghd6"),T=n("nj3X"),k=0,S=!1;function C(t){var e="string"==typeof t?{codec:t}:t;switch(e.codec.toLowerCase()){case"vp8":return Object.assign({simulcast:!1},e);default:return e}}t.exports=function(t,e){if(void 0===e&&(e={}),"object"!==(void 0===e?"undefined":i(e))||Array.isArray(e))return o.reject(h.INVALID_TYPE("options","object"));e=Object.assign({abortOnIceServersTimeout:!1,createLocalTracks:s,dominantSpeaker:!1,dscpTagging:!1,environment:u.DEFAULT_ENVIRONMENT,iceServersTimeout:u.ICE_SERVERS_TIMEOUT_MS,insights:!0,LocalAudioTrack:p,LocalDataTrack:f,LocalParticipant:m,LocalVideoTrack:v,MediaStreamTrack:_,logLevel:u.DEFAULT_LOG_LEVEL,maxAudioBitrate:null,maxVideoBitrate:null,name:null,networkQuality:!1,preferredAudioCodecs:[],preferredVideoCodecs:[],realm:u.DEFAULT_REALM,signaling:b},w.filterObject(e)),e=Object.assign({wsServer:u.WS_SERVER(e.environment,e.realm)},e);var n=w.buildLogLevels(e.logLevel),E="[connect #"+ ++k+"]",P=void 0;try{P=new g("default",E,n)}catch(t){return o.reject(t)}if(e.log=P,"safari"!==r()||S||"error"===P.logLevel||"off"===P.logLevel||(S=!0,P.warn(["This release of twilio-video.js includes experimental support for",'Safari 11 and newer. Support for Safari is "experimental" because,',"at the time of writing, Safari does not support VP8. This means you","may experience codec issues in Group Rooms. You may also experience","codec issues in Peer-to-Peer (P2P) Rooms containing Android- or","iOS-based Participants who do not support H.264. However, P2P Rooms","with browser-based Participants should work. Please test this release","and report any issues to https://github.com/twilio/twilio-video.js"].join(" "))),"string"!=typeof t)return o.reject(h.INVALID_TYPE("token","string"));var O=Object.assign({},e);if(delete O.name,"tracks"in e){if(!Array.isArray(e.tracks))return o.reject(h.INVALID_TYPE("options.tracks","Array of LocalAudioTrack, LocalVideoTrack or MediaStreamTrack"));try{e.tracks=e.tracks.map(function(t){return w.asLocalTrack(t,O)})}catch(t){return o.reject(t)}}var x=new(0,e.signaling)(e.wsServer,e);P.info("Connecting to a Room"),P.debug("Options:",e);var R=new d({maxAudioBitrate:e.maxAudioBitrate,maxVideoBitrate:e.maxVideoBitrate}),A=Object.assign({},e,{abortOnTimeout:e.abortOnIceServersTimeout,timeout:e.iceServersTimeout}),D=Array.isArray(e.iceServers)?new c(e.iceServers):"object"===i(e.iceServers)?e.iceServers:new y(t,A),I={audio:e.preferredAudioCodecs,video:e.preferredVideoCodecs.map(C)},M=new T("object"===i(e.networkQuality)?e.networkQuality:{});e.networkQuality="object"===i(e.networkQuality)||e.networkQuality;var $=a(function(t,e){var n=t.log;return t.shouldStopLocalTracks=!t.tracks,t.shouldStopLocalTracks?n.info("LocalTracks were not provided, so they will be acquired automatically before connecting to the Room. LocalTracks will be released if connecting to the Room fails or if the Room is disconnected"):(n.info("Getting LocalTracks"),n.debug("Options:",t)),t.createLocalTracks(t).then(function(i){var r=e(i);return r.catch(function(){t.shouldStopLocalTracks&&(n.info("The automatically acquired LocalTracks will now be stopped"),i.forEach(function(t){t.stop()}))}),r})}.bind(null,e),function(t,e,n,i,r,o){var a=t.createLocalParticipantSignaling(n,i);return e.debug("Creating a new LocalParticipant:",a),new r.LocalParticipant(a,o,r)}.bind(null,x,P,R,M,e),function(t,e,n,i,r,o,a){var s=e.log;return s.info("Getting ICE servers"),s.debug("Options:",e),i.start().then(function(c){var u={token:t};return s.info("Got ICE servers"),s.debug("ICE servers:",c),e.iceServers=c,s.debug("Creating a new RoomSignaling"),s.debug("RoomSignaling params:",u),n.connect(a._signaling,t,i,r,o,e)})}.bind(null,t,e,x,D,R,I),function(t,e,n){var i=new l(e,n,t),r=t.log;return r.debug("Creating a new Room:",i),n.on("stateChanged",function t(){r.info("Disconnected from Room:",i.toString()),n.removeListener("stateChanged",t)}),i}.bind(null,e));return $.then(function(t){return P.info("Connected to Room:",t.toString()),P.info("Room name:",t.name),P.debug("Room:",t),t},function(t){D.isStarted&&D.stop(),$._isCanceled?P.info("Attempt to connect to a Room was canceled"):P.info("Error while connecting to a Room:",t)}),$}},"9FmL":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var a=n("B32u"),s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return Object.defineProperties(i,{dimensions:{enumerable:!0,value:{width:null,height:null}}}),o(i,i)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a),i(e,[{key:"_initialize",value:function(){var t=this;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initialize",this).call(this),this._dummyEl&&(this._dummyEl.onloadedmetadata=function(){c(t,t._dummyEl)&&(t.dimensions.width=t._dummyEl.videoWidth,t.dimensions.height=t._dummyEl.videoHeight)},this._dummyEl.onresize=function(){c(t,t._dummyEl)&&(t.dimensions.width=t._dummyEl.videoWidth,t.dimensions.height=t._dummyEl.videoHeight,t.isStarted&&(t._log.debug("Dimensions changed:",t.dimensions),t.emit(e.DIMENSIONS_CHANGED,t)))})}},{key:"_start",value:function(t){return this.dimensions.width=t.videoWidth,this.dimensions.height=t.videoHeight,this._log.debug("Dimensions:",this.dimensions),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_start",this).call(this,t)}},{key:"attach",value:function(){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).apply(this,arguments)}},{key:"detach",value:function(){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"detach",this).apply(this,arguments)}}]),e}();function c(t,e){return t.dimensions.width!==e.videoWidth||t.dimensions.height!==e.videoHeight}s.DIMENSIONS_CHANGED="dimensionsChanged",t.exports=s},"9Yhr":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,o=n("EVdn"),a=n("t/UT");i=o,r=function(){function t(t){var e=this;this.$select=i(t),this._placeholder=this.$select.attr("placeholder")||i(t).find('option[value=""]').text()||"",this.$wrapper=i('<div class="select-wrapper">'),this._size=this.$select.data("size")||"default",this._disabled=i(t).prop("disabled"),this.$wrapper.insertAfter(this.$select).append(this.$select),this.$select.on("change",function(){return e._check()}),this._check(),this.$wrapper.addClass("base-"+this._size),this._disabled&&this.$wrapper.addClass("disabled"),this._improveRender()}return t.prototype._check=function(){""===this.$select.val()?this.$wrapper.addClass("placeholder-value"):this.$wrapper.removeClass("placeholder-value")},t.prototype._improveRender=function(){this.$wrapper.addClass("improve");var t=i('<span class="select-value">'),e=i('<div class="select-value-wrapper">'),n=i('<input class="select-value-listener">'),r=i('<div class="select-options-wrapper">'),o=i('<div class="select-overlay">');this.$wrapper.addClass("improve-"+this._size),this.$select.find("option").each(function(t,e){var n=i('<a href="#">').data("value",i(e).val()).data("src",e).text(i(e).val()?i(e).text():"---"),o=String(i(e).closest(".form-date-wrapper").data("default-years"));i(e).text()===o&&n.attr("default-years",o);var a=i(e).attr("value")+"-calendar";i(e).attr(a)&&n.attr(a,i(e).attr(a));var s=i(e).attr("value")+"-href-calendar";i(e).attr(s)&&n.attr({href:i(e).attr(s),follow:!0}),i(e).data("clone",n),r.append(n)}),e.append(t).append(n),this.$wrapper.append(o).append(e).append(r),new a.default(r.get(0)),this._addEvents(),this._improveCheck()},t.prototype._improveCheck=function(){var t=this.$select.find('option[value="'+this.$select.val()+'"]'),e=this.$wrapper.find(".select-options-wrapper a[default-years]");""!==t.val()?(this.$wrapper.find(".select-value").text(t.text()),this.$wrapper.find(".select-value").attr("title",t.text())):(this.$wrapper.find(".select-value").text(this._placeholder),this.$wrapper.find(".select-value").removeAttr("title")),this.$wrapper.find(".select-options-wrapper a").removeClass("selected"),"---"!==t.data("clone").text()?t.data("clone").addClass("selected"):e.length?e.addClass("selected"):t.data("clone").addClass("selected")},t.prototype._scrollOptions=function(){var t=this.$wrapper.find(".select-options-wrapper"),e=this.$wrapper.find(".select-options-wrapper a.hover");e.position().top<0&&(t.get(0).scrollTop+=e.position().top),e.position().top+e.height()>t.height()&&(t.get(0).scrollTop+=e.position().top+e.height()-t.height())},t.prototype._keyboardNavigation=function(t){var e=t.originalEvent.keyCode;if(this.$wrapper.hasClass("open")){var n=this.$wrapper.find(".select-options-wrapper a.hover");if(38===e){if(0===n.length)this.$wrapper.find(".select-options-wrapper a").last().addClass("hover");else{n.removeClass("hover");var i=n.prev("a");0===i.length&&(i=this.$wrapper.find(".select-options-wrapper a").last()),i.addClass("hover")}this._scrollOptions()}if(40===e){if(0===n.length)this.$wrapper.find(".select-options-wrapper a").first().addClass("hover");else{n.removeClass("hover");var r=n.next("a");0===r.length&&(r=this.$wrapper.find(".select-options-wrapper a").first()),r.addClass("hover")}this._scrollOptions()}13===e&&(t.preventDefault(),null!==n&&n.trigger("click")),27===e&&(t.preventDefault(),this._close())}},t.prototype._open=function(){this.$wrapper.find(".select-options-wrapper a").removeClass("hover").filter(".selected").addClass("hover"),this.$wrapper.addClass("open"),this.$wrapper.find(".select-value-listener").get(0).focus();var t=this.$wrapper.find(".select-options-wrapper"),e=this.$wrapper.find(".select-options-wrapper a.selected");t.animate({scrollTop:e.offset().top-t.offset().top+t.scrollTop()})},t.prototype._close=function(){this.$wrapper.removeClass("open")},t.prototype._addEvents=function(){var t=this;this.$select.on("change hc:change",function(){return t._improveCheck()}),this.$select.on("focus click",function(t){return t.stopPropagation()}),!1===this._disabled&&(this.$wrapper.on("focus click",function(e){e.stopPropagation(),t._open()}),this.$wrapper.on("click",".select-overlay",function(e){e.stopPropagation(),t._close()}),this.$wrapper.on("keydown",".select-value-listener",function(e){return t._keyboardNavigation(e)}),this.$wrapper.on("mouseover",".select-options-wrapper a",function(e){t.$wrapper.find(".select-options-wrapper a").removeClass("hover"),i(e.target).addClass("hover")}),this.$wrapper.on("click",".select-options-wrapper a",function(e){if(!i(e.target).attr("follow")){e.preventDefault(),e.stopPropagation(),i(e.target).attr("google-calendar")?i(document).trigger("hc:agenda:google"):i(e.target).attr("outlook-calendar")&&i(document).trigger("hc:agenda:outlook");var n=i(e.target).data("src");t.$select.val(i(n).val()),t.$select.trigger("change"),t._close()}}))},t}(),i(document).on("hc:ready",function(t,e){t.preventDefault(),i(e||document).find("select").each(function(t,e){return new r(e)})})},"9dY8":function(t,e,n){"use strict";var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n("ghd6").difference,o=n("ghd6").flatMap,a=n("qRNy"),s={0:"PCMU",8:"PCMA"},c=16e3;function u(t,e){return e?"\r\nb="+t+":"+("AS"===t?Math.round((e+c)/950):e):null}function l(t){return Array.from(h(t)).reduce(function(t,e){var n=e[0],i=e[1],r=t.get(i)||[];return t.set(i,r.concat(n))},new Map)}function h(t){return f(t).reduce(function(e,n){var i=new RegExp("a=rtpmap:"+n+" ([^/]+)"),r=t.match(i),o=r?r[1].toLowerCase():s[n]?s[n].toLowerCase():"";return e.set(n,o)},new Map)}function d(t){var e=t.match(/^a=mid:(.+)$/m);return e&&e[1]}function p(t,e,n){return t.replace(/\r\n\r\n$/,"\r\n").split("\r\nm=").slice(1).map(function(t){return"m="+t}).filter(function(t){var i=new RegExp("m="+(e||".*"),"gm"),r=new RegExp("a="+(n||".*"),"gm");return i.test(t)&&r.test(t)})}function f(t){var e=t.split("\r\n")[0].match(/([0-9]+)/g);return e?e.slice(1).map(function(t){return parseInt(t,10)}):[]}function m(t,e){var n=p(t);return[t.split("\r\nm=")[0]].concat(n.map(function(t){if(!/^m=(audio|video)/.test(t))return t;var n=d(t);if(!n)return t;var r=e.get(n);if(!r)return t;var o=(t.match(/^a=msid:(.+)$/m)||[])[1];if(!o)return t;var a=o.split(" "),s=i(a,2),c=s[0],u=s[1],l=new RegExp("msid:"+c+(u?" "+u:"")+"$","gm");return t.replace(l,"msid:"+c+" "+r)})).join("\r\n")}e.createCodecMapForMediaSection=l,e.createPtToCodecName=h,e.getMediaSections=p,e.setBitrateParameters=function(t,e,n,i){var r=p(t);return[t.split("\r\nm=")[0]].concat(r.map(function(t){if(!/^m=(audio|video)/.test(t)||!/a=(recvonly|sendrecv)/.test(t))return t;var r=t.match(/^m=(audio|video)/)[1];return function(t,e,n){var i=u(t,e)||"",r=/\r\nb=(AS|TIAS):([0-9]+)/,o=n.match(r);if(!o)return n.replace(/(\r\n)?$/,i+"$1");var a=parseInt(o[2],10);return e=e||1/0,i=u(t,Math.min(a,e)),n.replace(r,i)}(e,"audio"===r?n:i,t)})).join("\r\n")},e.setCodecPreferences=function(t,e,n){var i=p(t);return[t.split("\r\nm=")[0]].concat(i.map(function(t){if(!/^m=(audio|video)/.test(t))return t;var i=t.match(/^m=(audio|video)/)[1],a=l(t),s=function(t,e){e=e.map(function(t){return t.toLowerCase()});var n=o(e,function(e){return t.get(e)||[]}),i=r(Array.from(t.keys()),e),a=o(i,function(e){return t.get(e)});return n.concat(a)}(a,"audio"===i?e:n.map(function(t){return t.codec})),c=function(t,e){var n=e.split("\r\n"),i=n[0],r=n.slice(1);return[i=i.replace(/([0-9]+\s?)+$/,t.join(" "))].concat(r).join("\r\n")}(s,t),u=a.get("pcma")||[],h=a.get("pcmu")||[];return("audio"===i?new Set(u.concat(h)):new Set).has(s[0])?c.replace(/\r\nb=(AS|TIAS):([0-9]+)/g,""):c})).join("\r\n")},e.setSimulcast=function(t,e,n){var i=p(t);return[t.split("\r\nm=")[0]].concat(i.map(function(t){if(t=t.replace(/\r\n$/,""),!/^m=video/.test(t))return t;var i=l(t),r=f(t),o=new Set(i.get("vp8")||[]);return r.some(function(t){return o.has(t)})?a(t,e,n):t})).concat("").join("\r\n")},e.unifiedPlanAddOrRewriteNewTrackIds=function(t,e,n){var r=Array.from(n).reduce(function(n,r){var o=i(r,2),a=o[0],s=o[1];return p(t,a).map(d).filter(function(t){return!e.has(t)}).forEach(function(t,e){return n.set(t,s[e])}),n},new Map);return m(t,r)},e.unifiedPlanAddOrRewriteTrackIds=m},"9q3I":function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=n("AYob"),s=o,c=function(t){function e(e){var n=t.call(this,e)||this;return n._anonymousElt=s("[prerequisite-camera-anonymous]").get(0),n._critical=!1===s(e).data("anonymous"),n}return r(e,t),Object.defineProperty(e.prototype,"critical",{get:function(){return this._anonymousElt?!1===s(this._anonymousElt).prop("checked"):this._critical},enumerable:!0,configurable:!0}),e.prototype._check=function(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.enumerateDevices().then(function(t){return t.reduce(function(t,e){return"videoinput"===e.kind||t},!1)}):Promise.reject("incompatible browser")},e}(a.PrerequisiteChecker);e.CameraChecker=c;var u=function(t){function e(e){var n=t.call(this,e)||this;return n._stream=null,n.$wrapper.addClass("camera-checker"),n._processor=new c(e),n}return r(e,t),e.prototype._check=function(){var t=this;this._processor.check().then(function(){return navigator.mediaDevices.getUserMedia({video:!0})}).then(function(e){t._stream=e,t._visualizer.srcObject=e,t._visualizer.onloadedmetadata=function(){t._visualizer.play()}}).catch(function(e){return t._showError()})},e.prototype._stop=function(){null!==this._stream&&this._stream.getTracks().map(function(t){return t.stop()}),this._stream=null},e.prototype._createPreview=function(){this._visualizer=document.createElement("video"),s(this._visualizer).appendTo(this.$preview)},e}(a.PrerequisiteCheckerWithPreview);s(document).on("hc:ready",function(t,e){t.preventDefault(),s(e||document).find("[prerequisite-camera-checker]").each(function(t,e){return new u(e)})})},"A/ij":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("ghd6").deprecateEvents;t.exports=function(t){return function(e){function n(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,i));return Object.defineProperties(o,{_isEnabled:{value:e,writable:!0},_isSubscribed:{value:!0,writable:!0},_sid:{value:null,writable:!0}}),r("RemoteMediaTrack",o,new Map([["unsubscribed",null]]),o._log),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),i(n,[{key:"_setEnabled",value:function(t){this._isEnabled!==t&&(this._isEnabled=t,this.emit(this._isEnabled?"enabled":"disabled",this))}},{key:"_setSid",value:function(t){this._sid||(this._sid=t)}},{key:"_unsubscribe",value:function(){this._isSubscribed&&(this._isSubscribed=!1,this.emit("unsubscribed",this))}},{key:"id",get:function(){return this._log.deprecated("RemoteMediaTrack#id has been deprecated and is scheduled for removal in twilio-video.js@2.0.0. Use the parent RemoteTrackPublication's .trackName or .trackSid instead."),this._id}},{key:"isEnabled",get:function(){return this._isEnabled}},{key:"isSubscribed",get:function(){return this._log.deprecated("RemoteMediaTrack#isSubscribed has been deprecated and is scheduled for removal in twilio-video.js@2.0.0. Use the parent RemoteTrackPublication's .isSubscribed instead."),this._isSubscribed}},{key:"sid",get:function(){return this._sid}}]),n}()}},AMco:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("9dY8").getMediaSections,o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{_midsToTrackIds:{value:new Map,writable:!0}})}return i(t,[{key:"match",value:function(t){return this._midsToTrackIds.get(t.transceiver.mid)||null}},{key:"update",value:function(t){var e=r(t,"(audio|video)");this._midsToTrackIds=e.reduce(function(t,e){var n=e.match(/^a=mid:(.+)$/m)||[],i=e.match(/^a=msid:.+ (.+)$/m)||[],r=n[1],o=i[1];return r&&o?t.set(r,o):t},this._midsToTrackIds)}}]),t}();t.exports=o},AT6e:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=n("t/UT"),o=i,a=function(){function t(t){var e=this;this._scrollBar=null,this._alreadyPosition=!1,this.$wrapper=o(t).addClass("planning-wrapper"),this._createStructure(),o(document).on("hc:date:change",function(t,n){n.source===e._config.dateSelector&&e._update(n)}),o(document).on("hc:planning:redraw",function(){return e._draw()})}return t.prototype._createStructure=function(){var t=o('<div class="planning-content-wrapper">'),e=o('<div class="planning-timesheet">');this.$dayWrapper=o('<div class="day-wrapper">');for(var n=0;n<24;n++){var i=o("<div>").addClass("time").attr("time",n),r=o("<span>").text(n+":00");4===r.text().length&&r.text("0"+r.text()),e.append(i.append(r))}t.append(e,this.$dayWrapper).appendTo(this.$wrapper)},t.prototype._getMinuteFromHour=function(t){var e=t.split(":");return 60*+e[0]+ +e[1]},t.prototype._draw=function(){var t=this,e=this.$dayWrapper.height()/1440;this.$dayWrapper.find(".slot").each(function(n,i){var r=o(i),a=r.data("slot"),s=Math.ceil(t._getMinuteFromHour(a.start)*e)+(n>0?2:0),c=Math.ceil(t._getMinuteFromHour(a.end)*e)-s;r.css({top:s+"px",height:c+"px"})}),this._position()},t.prototype._position=function(){if(this.$wrapper.is(":visible")&&null!==this._scrollBar&&!this._alreadyPosition){var t=(new Date).getHours(),e=this.$wrapper.find('.time[time="'+Math.max(t-1,0)+'"]');this.$wrapper.get(0).scrollTop=e.position().top,this._alreadyPosition=!0}},t.prototype._manageResponse=function(t,e){var n=this;this.$dayWrapper.html(""),t.days.map(function(t){return n._constructDay(t)}),e>1?null===this._scrollBar&&(this._scrollBar=new r.default(this.$wrapper.get(0)),this._position()):null!==this._scrollBar&&(this._scrollBar.destroy(),this._scrollBar=null,this._alreadyPosition=!1)},t.prototype._update=function(t){var e=this;o.ajax({url:this._config.urlShow,data:t}).done(function(n){return e._manageResponse(n,t.nbDay)})},t}();e.Planning=a},AYob:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=function(){function t(t){this._customMessageClass=null,this._critical=!1,this.$wrapper=o(t)}return Object.defineProperty(t.prototype,"customMessageClass",{get:function(){return this._customMessageClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCustomMessage",{get:function(){return null!==this._customMessageClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"critical",{get:function(){return this._critical},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.$wrapper.removeClass("success"),this.$wrapper.removeClass("error")},t.prototype.check=function(){var t=this;return this._check().then(function(e){return e?t._success():t._fail()}).catch(function(){return t._fail()})},t.prototype._success=function(){return this.$wrapper.addClass("success"),this.$wrapper.find('input[type="hidden"]').val("1"),Promise.resolve(!0)},t.prototype._fail=function(){return this.$wrapper.addClass("error"),this.$wrapper.find('input[type="hidden"]').val("0"),Promise.reject(this)},t}();e.PrerequisiteChecker=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._check=function(){return Promise.reject("unknown")},e}(a);e.UnknownChecker=s;var c=function(){function t(t){var e=this;this.$wrapper=o(t),this._labels=o(t).data("labels"),this._improveRender(),window.setTimeout(function(){e._registerEvents(),e._createPreview()},1)}return t.prototype.check=function(){this.$wrapper.addClass("in-progress"),this._processor&&this._processor.init(),this._check()},t.prototype.stop=function(){this.$wrapper.removeClass("in-progress"),this._stop()},t.prototype._showError=function(){this.$wrapper.removeClass("success").addClass("error"),this.stop()},t.prototype._improveRender=function(){var t=o("<span>").addClass("check-title").text(this._labels.title),e=o("<div>").addClass("check-actions"),n=o("<button>").addClass("button").attr("name","start").text(this._labels.start),i=o("<button>").addClass("button").attr("name","stop").text(this._labels.stop),r=o("<div>").addClass("check-preview"),a=o("<p>").addClass("info").text(this._labels.info);this.$preview=o("<div>"),this.$error=o("<div>").addClass("check-error").html(this._labels.error),r.append(this.$preview).append(a),e.append(n,i),this.$wrapper.addClass("prerequisite-checker").append(t,e,r,this.$error)},t.prototype._registerEvents=function(){var t=this;o(document).on("hc:modal:closed",function(){return t.stop()}),this.$wrapper.on("click",'button[name="start"]',function(){return t.check()}).on("click",'button[name="stop"]',function(){return t.stop()})},t}();e.PrerequisiteCheckerWithPreview=c},AdPF:function(t,e,n){(function(e){var i=n("yeub");t.exports=function(t){var n=t.xdomain,r=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||i))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!r&&o)return new XDomainRequest}catch(t){}if(!n)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(this,n("yLpj"))},Aplp:function(t,e,n){"use strict";var i,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,a={},s=0,c=0;function u(t){var e="";do{e=r[t%o]+e,t=Math.floor(t/o)}while(t>0);return e}function l(){var t=u(+new Date);return t!==i?(s=0,i=t):t+"."+u(s++)}for(;c<o;c++)a[r[c]]=c;l.encode=u,l.decode=function(t){var e=0;for(c=0;c<t.length;c++)e=e*o+a[t.charAt(c)];return e},t.exports=l},Aq89:function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=n("+qE3").EventEmitter,a=n("EHr0"),s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Object.defineProperties(i,{_level:{value:null,writable:!0},_levels:{value:null,writable:!0},_remoteLevels:{value:new Map,writable:!0},_mediaSignalingTransport:{value:t},_networkQualityInputs:{value:new a},_networkQualityReportLevels:{get:function(){return{reportLevel:n.local,remoteReportLevel:n.remote}}}}),t.on("message",function(t){switch(t.type){case"network_quality":i._handleNetworkQualityMessage(t)}}),i._sendNetworkQualityInputs(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"_handleNetworkQualityMessage",value:function(t){var e=this,n=!1,r=null,o=t?t.local:null;"number"==typeof o?(r=o,this._levels=null):"object"===(void 0===o?"undefined":i(o))&&o&&(this._levels=o,r="number"==typeof o.level?o.level:Math.min(o.audio.send,o.audio.recv,o.video.send,o.video.recv)),null!==r&&this.level!==r&&(this._level=r,n=!0),this._remoteLevels=t&&t.remotes?t.remotes.reduce(function(t,i){return(e._remoteLevels.get(i.sid)||{}).level!==i.level&&(n=!0),t.set(i.sid,i)},new Map):this._remoteLevels,n&&this.emit("updated"),setTimeout(function(){return e._sendNetworkQualityInputs()},1e3)}},{key:"_sendNetworkQualityInputs",value:function(){var t=this;return this._networkQualityInputs.take().then(function(e){t._mediaSignalingTransport.publish(function(t,e){return Object.assign({type:"network_quality"},t,e)}(e,t._networkQualityReportLevels))})}},{key:"put",value:function(t){this._networkQualityInputs.put(t)}},{key:"level",get:function(){return this._level}},{key:"levels",get:function(){return this._levels}},{key:"remoteLevels",get:function(){return this._remoteLevels}}]),e}();t.exports=s},B32u:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("2h1k").MediaStream,o=n("NCuz"),a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.id,t.kind,n)),o=!1;return n=Object.assign({MediaStream:r},n),Object.defineProperties(i,{_attachments:{value:new Set},_isStarted:{get:function(){return o},set:function(t){o=t}},_MediaStream:{value:n.MediaStream},isStarted:{get:function(){return o}},mediaStreamTrack:{enumerable:!0,value:t.track}}),i._initialize(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),i(e,[{key:"_start",value:function(){this._log.debug("Started"),this._isStarted=!0,this._dummyEl&&(this._dummyEl.oncanplay=null),this.emit("started",this)}},{key:"_initialize",value:function(){var t=this;this._log.debug("Initializing"),this._dummyEl=this._createElement(),this.mediaStreamTrack.addEventListener("ended",function e(){t._end(),t.mediaStreamTrack.removeEventListener("ended",e)}),this._dummyEl&&(this._dummyEl.muted=!0,this._dummyEl.oncanplay=this._start.bind(this,this._dummyEl),this._attach(this._dummyEl),this._attachments.delete(this._dummyEl))}},{key:"_end",value:function(){this._log.debug("Ended"),this._dummyEl&&(this._detachElement(this._dummyEl),this._dummyEl.oncanplay=null)}},{key:"attach",value:function(t){return"string"==typeof t?t=this._selectElement(t):t||(t=this._createElement()),this._log.debug("Attempting to attach to element:",t),t=this._attach(t)}},{key:"_attach",value:function(t){var e=t.srcObject;e instanceof this._MediaStream||(e=new this._MediaStream);var n="audio"===this.mediaStreamTrack.kind?"getAudioTracks":"getVideoTracks";return e[n]().forEach(function(t){e.removeTrack(t)}),e.addTrack(this.mediaStreamTrack),t.srcObject=e,t.autoplay=!0,t.playsInline=!0,this._attachments.has(t)||this._attachments.add(t),t}},{key:"_selectElement",value:function(t){var e=document.querySelector(t);if(!e)throw new Error("Selector matched no element: "+t);return e}},{key:"_createElement",value:function(){return"undefined"!=typeof document?document.createElement(this.kind):null}},{key:"detach",value:function(t){var e=void 0;return e="string"==typeof t?[this._selectElement(t)]:t?[t]:this._getAllAttachedElements(),this._log.debug("Attempting to detach from elements:",e),this._detachElements(e),t?e[0]:e}},{key:"_detachElements",value:function(t){return t.map(this._detachElement.bind(this))}},{key:"_detachElement",value:function(t){if(!this._attachments.has(t))return t;var e=t.srcObject;return e instanceof this._MediaStream&&(e.removeTrack(this.mediaStreamTrack),t.srcObject=e),this._attachments.delete(t),t}},{key:"_getAllAttachedElements",value:function(){var t=[];return this._attachments.forEach(function(e){t.push(e)}),t}}]),e}();t.exports=a},BMBc:function(t,e,n){"use strict";var i=n("zYCr"),r=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),r=null;"number"==typeof n.frameWidthInput&&"number"==typeof n.frameHeightInput&&(r={},Object.defineProperties(r,{width:{value:n.frameWidthInput,enumerable:!0},height:{value:n.frameHeightInput,enumerable:!0}}));var o=null;return"number"==typeof n.frameWidthSent&&"number"==typeof n.frameHeightSent&&(o={},Object.defineProperties(o,{width:{value:n.frameWidthSent,enumerable:!0},height:{value:n.frameHeightSent,enumerable:!0}})),Object.defineProperties(i,{captureDimensions:{value:r,enumerable:!0},dimensions:{value:o,enumerable:!0},captureFrameRate:{value:"number"==typeof n.frameRateInput?n.frameRateInput:null,enumerable:!0},frameRate:{value:"number"==typeof n.frameRateSent?n.frameRateSent:null,enumerable:!0}}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),e}();t.exports=r},BWbm:function(t,e,n){"use strict";function i(t,e,n,i){if(!(i in e||i.match(/^on[a-z]+$/))){var r;try{r=typeof t[i]}catch(t){}"function"===r&&(e[i]=function(){return this[n][i].apply(this[n],arguments)})}}e.defer=function(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t},e.delegateMethods=function(t,e,n){for(var r in t)i(t,e,n,r)},e.difference=function(t,e){t=Array.isArray(t)?new Set(t):new Set(t.values()),e=Array.isArray(e)?new Set(e):new Set(e.values());var n=new Set;return t.forEach(function(t){e.has(t)||n.add(t)}),n},e.flatMap=function(t,e){return(t instanceof Map||t instanceof Set?Array.from(t.values()):t).reduce(function(t,n){var i=e(n);return t.concat(i)},[])},e.guessBrowser=function(){if("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){if(/Chrome/.test(navigator.userAgent))return"chrome";if(/Firefox/.test(navigator.userAgent))return"firefox";if(/Safari/.test(navigator.userAgent))return"safari"}return null},e.interceptEvent=function(t,e){var n=null;Object.defineProperty(t,"on"+e,{get:function(){return n},set:function(t){n&&this.removeEventListener(e,n),"function"==typeof t?(n=t,this.addEventListener(e,n)):n=null}})},e.legacyPromise=function(t,e,n){return e?t.then(function(t){e(t)},function(t){n(t)}):t},e.makeUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},e.proxyProperties=function(t,e,n){Object.getOwnPropertyNames(t).forEach(function(t){!function(t,e,n,i){if(!(i in e))i.match(/^on[a-z]+$/)?(Object.defineProperty(e,i,{value:null,writable:!0}),n.addEventListener(i.slice(2),function(){e.dispatchEvent.apply(e,arguments)})):Object.defineProperty(e,i,{enumerable:!0,get:function(){return n[i]}})}(0,e,n,t)})}},C2QD:function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},CIKq:function(t,e,n){(function(e){var i,r=n("Gbct"),o=n("Wm4p"),a=n("TypT"),s=n("Yvos"),c=n("Aplp"),u=n("NOtv")("engine.io-client:websocket"),l=e.WebSocket||e.MozWebSocket;if("undefined"==typeof window)try{i=n(0)}catch(t){}var h=l;function d(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=l&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(h=i),r.call(this,t)}h||"undefined"!=typeof window||(h=i),t.exports=d,s(d,r),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new h(t,e):new h(t):new h(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},d.prototype.write=function(t){var n=this;this.writable=!1;for(var i=t.length,r=0,a=i;r<a;r++)!function(t){o.encodePacket(t,n.supportsBinary,function(r){if(!n.usingBrowserWebSocket){var o={};if(t.options&&(o.compress=t.options.compress),n.perMessageDeflate)("string"==typeof r?e.Buffer.byteLength(r):r.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(r):n.ws.send(r,o)}catch(t){u("websocket closed before onclose event")}--i||s()})}(t[r]);function s(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}},d.prototype.onClose=function(){r.prototype.onClose.call(this)},d.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},d.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||(t.b64=1),(t=a.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},d.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===d.prototype.name)}}).call(this,n("yLpj"))},CSzv:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("mb7l"),o=function(t){function e(t,n,i,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"toString",value:function(){return"[LocalAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),e}();t.exports=o},CUme:function(t,e,n){var i=n("Gbct"),r=n("TypT"),o=n("Wm4p"),a=n("Yvos"),s=n("Aplp"),c=n("NOtv")("engine.io-client:polling");t.exports=l;var u=null!=new(n("AdPF"))({xdomain:!1}).responseType;function l(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),i.call(this,t)}a(l,i),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(t){var e=this;function n(){c("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(c("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){c("pre-pause polling complete"),--i||n()})),this.writable||(c("we are currently writing - waiting to pause"),i++,this.once("drain",function(){c("pre-pause writing complete"),--i||n()}))}else n()},l.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(t){var e=this;c("polling got data %s",t);o.decodePayload(t,this.socket.binaryType,function(t,n,i){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var t=this;function e(){c("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},l.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};o.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},l.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=s()),this.supportsBinary||t.sid||(t.b64=1),t=r.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},CeuH:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("+qE3").EventEmitter,o=0,a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Object.defineProperties(n,{_instance:{value:++o},_iceServers:{enumerable:!0,value:t,writable:!0},_isStarted:{value:!1,writable:!0},isStarted:{enumerable:!0,get:function(){return this._isStarted}},status:{enumerable:!0,value:"overrode"}}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"start",value:function(){return this._isStarted=!0,Promise.resolve(this._iceServers)}},{key:"stop",value:function(){this._isStarted=!1}},{key:"toString",value:function(){return"[ConstantIceServerSource #"+this._instance+"]"}}]),e}();t.exports=a},Cl5A:function(t,e,n){(function(e){var i=n("CUme"),r=n("Yvos");t.exports=u;var o,a=/\n/g,s=/\\n/g;function c(){}function u(t){i.call(this,t),this.query=this.query||{},o||(e.___eio||(e.___eio=[]),o=e.___eio),this.index=o.length;var n=this;o.push(function(t){n.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=c)},!1)}r(u,i),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},u.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},u.prototype.doWrite=function(t,e){var n=this;if(!this.form){var i,r=document.createElement("form"),o=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=c,r.method="POST",r.setAttribute("accept-charset","utf-8"),o.name="d",r.appendChild(o),document.body.appendChild(r),this.form=r,this.area=o}function u(){l(),e()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';i=document.createElement(t)}catch(t){(i=document.createElement("iframe")).name=n.iframeId,i.src="javascript:0"}i.id=n.iframeId,n.form.appendChild(i),n.iframe=i}this.form.action=this.uri(),l(),t=t.replace(s,"\\\n"),this.area.value=t.replace(a,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&u()}:this.iframe.onload=u}}).call(this,n("yLpj"))},CmYA:function(t,e,n){"use strict";"undefined"!=typeof RTCIceCandidate?t.exports=RTCIceCandidate:"undefined"!=typeof mozRTCIceCandidate?t.exports=mozRTCIceCandidate:t.exports=function(){throw new Error("WebRTC is unsupported")}},DQUA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=n("7tlc"),o=i;o(document).on("hc:scrollTo",function(t,e,n){if(void 0===n&&(n=!1),0!==o(e).length){var i=o(e).offset().top;i-=o("header").outerHeight(),i-=o(".emergency-banner:visible").outerHeight()||0,n&&(i-=r.isBoolean(n)&&!0===n?15:n),o("html, body").animate({scrollTop:i},200),"INPUT"===o(e).get(0).tagName&&o(e).trigger("focus")}}),o(document).ready(function(){var t=window.location.hash;t&&o(document).trigger("hc:scrollTo",t)}),o(document).on("click",'a[href*="#"]',function(t){var e=o(t.target),n=e.attr("href").replace(window.location.origin,"").split("#"),i=window.location.pathname;"#"===e.attr("href")||n[0]!==i&&""!==n[0]||(t.preventDefault(),t.stopPropagation(),o(document).trigger("hc:scrollTo","#"+n[1]))})},"Ds+w":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("A/ij")(n("9FmL")),o=function(t){function e(t,n,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"toString",value:function(){return"[RemoteVideoTrack #"+this._instanceId+": "+this.sid+"]"}}]),e}();t.exports=o},DsyS:function(t,e,n){"use strict";"undefined"!=typeof MediaStreamTrack?t.exports=MediaStreamTrack:t.exports=function(){throw new Error("WebRTC is not supported in this browser")}},EHr0:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("ghd6").defer,o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{_deferreds:{value:[]},_hasValue:{value:!1,writable:!0},_value:{value:null,writable:!0}})}return i(t,[{key:"put",value:function(t){this._hasValue=!0,this._value=t;var e=this._deferreds.shift();return e&&e.resolve(t),this}},{key:"take",value:function(){var t=this;if(this._hasValue&&!this._deferreds.length)return this._hasValue=!1,Promise.resolve(this._value);var e=r();return this._deferreds.push(e),e.promise.then(function(e){return t._hasValue=!1,e})}}]),t}();t.exports=o},EYe3:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("gEVb"),o=n("6ltx"),a={connecting:["connected"],connected:["disconnected"],disconnected:[]},s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"connecting",a));return Object.defineProperties(t,{_identity:{writable:!0,value:null},_networkQualityLevel:{value:null,writable:!0},_networkQualityStats:{value:null,writable:!0},_sid:{writable:!0,value:null},identity:{enumerable:!0,get:function(){return this._identity}},sid:{enumerable:!0,get:function(){return this._sid}},tracks:{enumerable:!0,value:new Map}}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"addTrack",value:function(t){return this.tracks.set(t.id||t.sid,t),this.emit("trackAdded",t),this}},{key:"disconnect",value:function(){return"disconnected"!==this.state&&(this.preempt("disconnected"),!0)}},{key:"removeTrack",value:function(t){var e=this.tracks.delete(t.id||t.sid);return e&&this.emit("trackRemoved",t),e}},{key:"setNetworkQualityLevel",value:function(t,e){this._networkQualityLevel!==t&&(this._networkQualityLevel=t,this._networkQualityStats=e&&(e.audio||e.video)?new o(e):null,this.emit("networkQualityLevelChanged"))}},{key:"connect",value:function(t,e){return"connecting"===this.state&&(this._sid=t,this._identity=e,this.preempt("connected"),!0)}},{key:"networkQualityLevel",get:function(){return this._networkQualityLevel}},{key:"networkQualityStats",get:function(){return this._networkQualityStats}}]),e}();t.exports=s},"F/ro":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o=n("+qE3").EventEmitter,a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Object.defineProperties(t,{_queuedEvents:{value:new Map}}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),i(e,[{key:"dequeue",value:function(t){var e=this,n=!0;if(!t)return this._queuedEvents.forEach(function(t,e){n=this.dequeue(e)&&n},this),n;var i=this._queuedEvents.get(t)||[];return this._queuedEvents.delete(t),i.reduce(function(n,i){return e.emit.apply(e,r([t].concat(i)))&&n},n)}},{key:"queue",value:function(){var t=[].slice.call(arguments);if(this.emit.apply(this,r(t)))return!0;var e=t[0];return this._queuedEvents.has(e)||this._queuedEvents.set(e,[]),this._queuedEvents.get(e).push(t.slice(1)),!1}}]),e}();t.exports=a},F1Jz:function(t,e,n){"use strict";var i=n("mkGC"),r=n("8yKx"),o=n("7tlc").inherits,a=n("rskN"),s=n("qmcU"),c=n("UQcK"),u=n("iWhl"),l=n("BWbm"),h=u.getSdpFormat();function d(t,e){if(!(this instanceof d))return new d(t,e);r.call(this),t=t||{};var n=Object.assign(t.iceTransportPolicy?{iceTransports:t.iceTransportPolicy}:{},{sdpSemantics:"plan-b"},t);l.interceptEvent(this,"datachannel"),l.interceptEvent(this,"signalingstatechange");var i=new RTCPeerConnection(n,e);Object.defineProperties(this,{_localStream:{value:new s},_peerConnection:{value:i},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_senders:{value:new Map},_signalingStateLatch:{value:new a},_tracksToSSRCs:{value:new Map},localDescription:{enumerable:!0,get:function(){return this._pendingLocalOffer?this._pendingLocalOffer:i.localDescription}},remoteDescription:{enumerable:!0,get:function(){return this._pendingRemoteOffer?this._pendingRemoteOffer:i.remoteDescription}},signalingState:{enumerable:!0,get:function(){return this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":i.signalingState}}});var o=this;"planb"===h&&l.interceptEvent(this,"track"),i.addEventListener("datachannel",function(t){g(t.channel),o.dispatchEvent(t)}),i.addEventListener("signalingstatechange",function(){o._pendingLocalOffer||o._pendingRemoteOffer||o.dispatchEvent.apply(o,arguments)}),i.ontrack=function(){},RTCPeerConnection.prototype.addTrack||i.addStream(this._localStream),l.proxyProperties(RTCPeerConnection.prototype,this,i)}function p(t,e){var n=l.flatMap(t.getRemoteStreams(),function(t){return t.getTracks()});l.difference(n,e).forEach(function(e){var n=new Event("track");n.track=e,t.dispatchEvent(n)})}function f(t,e,n){var i,r,o=e?t._pendingLocalOffer:t._pendingRemoteOffer,a=e?t._pendingRemoteOffer:t._pendingLocalOffer,s=e?"have-local-offer":"have-remote-offer",c=e?"setLocalDescription":"setRemoteDescription",u="planb"===h,d=u?l.flatMap(t.getRemoteStreams(),function(t){return t.getTracks()}):[];if(!e&&a&&"answer"===n.type)i=function(t,e){var n="planb"===h,i=n?l.flatMap(t.getRemoteStreams(),function(t){return t.getTracks()}):[],r=t._pendingLocalOffer;return t._peerConnection.setLocalDescription(r).then(function(){return t._pendingLocalOffer=null,t.setRemoteDescription(e)}).then(function(){n&&p(t,i),t._signalingStateLatch.lower()})}(t,n);else if("offer"===n.type){if(t.signalingState!==s&&"stable"!==t.signalingState)return Promise.reject(new Error("Cannot set "+(e?"local":"remote")+" offer in state "+t.signalingState));o||"low"!==t._signalingStateLatch.state||t._signalingStateLatch.raise();var f=t.signalingState;r=m(n),e?t._pendingLocalOffer=r:t._pendingRemoteOffer=r,i=Promise.resolve(),t.signalingState!==f&&i.then(function(){t.dispatchEvent(new Event("signalingstatechange"))})}else"rollback"===n.type&&(t.signalingState!==s?i=Promise.reject(new Error("Cannot rollback "+(e?"local":"remote")+" description in "+t.signalingState)):(e?t._pendingLocalOffer=null:t._pendingRemoteOffer=null,(i=Promise.resolve()).then(function(){t.dispatchEvent(new Event("signalingstatechange"))})));return i||t._peerConnection[c](m(n)).then(function(){!e&&u&&p(t,d)})}function m(t){return t instanceof i&&t._description?t._description:new RTCSessionDescription(t)}function v(){return"maxRetransmitTime"in RTCDataChannel.prototype&&!("maxPacketLifeTime"in RTCDataChannel.prototype)}function g(t){return Object.defineProperty(t,"maxRetransmits",{value:65535===t.maxRetransmits?null:t.maxRetransmits}),v()&&Object.defineProperty(t,"maxPacketLifeTime",{value:65535===t.maxRetransmitTime?null:t.maxRetransmitTime}),t}function _(t,e,n){return"unified"===t?u.updateUnifiedPlanTrackIdsToSSRCs(e,n):u.updatePlanBTrackIdsToSSRCs(e,n)}o(d,r),d.prototype.addTrack=function(){var t,e=[].slice.call(arguments),n=e[0],i=this._senders.get(n);if("closed"===this._peerConnection.signalingState)throw new Error("Cannot add MediaStreamTrack ["+n.id+", "+n.kind+"]: RTCPeerConnection is closed");if(i&&i.track)throw new Error("Cannot add MediaStreamTrack ["+n.id+", "+n.kind+"]: RTCPeerConnection already has it");return RTCPeerConnection.prototype.addTrack?"unified"===h?(i=(t=this._peerConnection,new Map(t.getSenders().filter(function(t){return t.track}).map(function(t){return[t.track,t]}))).get(n)||this._peerConnection.addTrack.apply(this._peerConnection,e),this._senders.set(n,i),i):this._peerConnection.addTrack.apply(this._peerConnection,e):(this._peerConnection.removeStream(this._localStream),this._localStream.addTrack(n),this._peerConnection.addStream(this._localStream),i=new c(n),this._senders.set(n,i),i)},RTCPeerConnection.prototype.addTransceiver&&(d.prototype.addTransceiver=function(){var t=this._peerConnection.addTransceiver.apply(this._peerConnection,arguments),e=t.sender,n=e.track;return this._senders.set(n,e),t}),d.prototype.removeTrack=function(t){if("closed"===this._peerConnection.signalingState)throw new Error("Cannot remove MediaStreamTrack: RTCPeerConnection is closed");if(RTCPeerConnection.prototype.removeTrack)try{"unified"===h?t.track&&this._senders.set(t.track,new c(null)):this._peerConnection.removeTrack(t)}catch(t){}else{var e=t.track;e&&(t=this._senders.get(e))&&t.track&&(t.track=null,this._peerConnection.removeStream(this._localStream),this._localStream.removeTrack(e),this._peerConnection.addStream(this._localStream))}},d.prototype.getSenders=function(){return this._peerConnection.getSenders&&"planb"===h?this._peerConnection.getSenders():Array.from(this._senders.values())},d.prototype.addIceCandidate=function(t){var e,n=[].slice.call(arguments),i=this;return e="have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then(function(){return i._peerConnection.addIceCandidate(t)}):this._peerConnection.addIceCandidate(t),n.length>1?l.legacyPromise(e,n[1],n[2]):e},d.prototype.close=function(){"closed"!==this.signalingState&&(this._pendingLocalOffer=null,this._pendingRemoteOffer=null,this._peerConnection.close())},d.prototype.createAnswer=function(){var t,e=[].slice.call(arguments),n="planb"===h,r=this;if(this._pendingRemoteOffer){var o=n?l.flatMap(this.getRemoteStreams(),function(t){return t.getTracks()}):[];t=this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then(function(){return n&&p(r,o),r._signalingStateLatch.lower(),r._peerConnection.createAnswer()}).then(function(t){return r._pendingRemoteOffer=null,new i({type:"answer",sdp:_(h,r._tracksToSSRCs,t.sdp)})},function(t){throw r._pendingRemoteOffer=null,t})}else t=this._peerConnection.createAnswer().then(function(t){return new i({type:"answer",sdp:_(h,r._tracksToSSRCs,t.sdp)})});return e.length>1?l.legacyPromise(t,e[0],e[1]):t},d.prototype.createOffer=function(){var t=[].slice.call(arguments),e=(t.length>1?t[2]:t[0])||{},n=this,r=this._peerConnection.createOffer(e).then(function(t){return new i({type:t.type,sdp:_(h,n._tracksToSSRCs,t.sdp)})});return t.length>1?l.legacyPromise(r,t[0],t[1]):r},d.prototype.createDataChannel=function(t,e){e=function(t){t=Object.assign({},t),v()&&"maxPacketLifeTime"in t&&(t.maxRetransmitTime=t.maxPacketLifeTime);return t}(e);var n=this._peerConnection.createDataChannel(t,e);return g(n),n},d.prototype.setLocalDescription=function(){var t=[].slice.call(arguments),e=f(this,!0,t[0]);return t.length>1?l.legacyPromise(e,t[1],t[2]):e},d.prototype.setRemoteDescription=function(){var t=[].slice.call(arguments),e=f(this,!1,t[0]);return t.length>1?l.legacyPromise(e,t[1],t[2]):e},l.delegateMethods(RTCPeerConnection.prototype,d.prototype,"_peerConnection"),t.exports=d},FGiv:function(t,e){var n=1e3,i=60*n,r=60*i,o=24*r,a=365.25*o;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var c,u=typeof t;if("string"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===u&&!1===isNaN(t))return e.long?s(c=t,o,"day")||s(c,r,"hour")||s(c,i,"minute")||s(c,n,"second")||c+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=r)return Math.round(t/r)+"h";if(t>=i)return Math.round(t/i)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},GMWm:function(t,e,n){"use strict";var i=n("h4HS"),r=n("5wwa").createTwilioError,o=n("5wwa").ConfigurationAcquireFailedError,a="https://ecs.us1.twilio.com/v1/Configuration";function s(t){var e=null;try{e=JSON.parse(t)}catch(t){throw new o}return e}t.exports.getConfiguration=function(t,e){if(!t)throw new Error("<String>token is a required argument.");var n,o={url:(e=Object.assign({configUrl:a},e)).configUrl,headers:{"X-Twilio-Token":t,"Content-Type":"application/x-www-form-urlencoded"}};return e.body&&(o.body=(n=e.body,Object.keys(n||{}).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(n[t])}).join("&"))),i.post(o).then(function(t){return s(t)},function(t){var e=s(t);throw r(e.code,e.message)})}},Gbct:function(t,e,n){var i=n("Wm4p"),r=n("cpc2");function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=o,r(o.prototype),o.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){var e=i.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},GcCu:function(t,e,n){"use strict";switch((0,n("BWbm").guessBrowser)()){case"chrome":t.exports=n("F1Jz");break;case"firefox":t.exports=n("ls7c");break;case"safari":t.exports=n("r2pO");break;default:if("undefined"==typeof RTCPeerConnection)break;t.exports=RTCPeerConnection}},GinS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=function(){function t(t){var e=this;this.$selected=null,this.$input=i(t).find('input[type="text"]'),this.$input.data("placeholder",this.$input.attr("placeholder")),this.$wrapper=i(t).closest(".autocomplete-wrapper"),this.$result=this.$wrapper.find(".autocomplete-result-wrapper"),this.$eraser=this.$wrapper.find(".autocomplete-value-eraser"),this.$overlay=i("<div>").addClass("autocomplete-overlay"),this._mode=this.$wrapper.data("mode")||"link",this._url=this.$wrapper.data("action")||null,this._void(),this.$input.attr("tabindex",-1),this.$input.on("input",function(){return e._prepareSearch()}),this.$input.on("keydown",function(t){return e._keyboardNavigation(t)}),this.$input.on("focus",function(){return e._focus()}),this.$eraser.on("click",function(){return e._erase()}),this.$overlay.on("click",function(){return e._deactivate()}),this.$wrapper.on("click",".autocomplete-header .close",function(t){return e._deactivate(t)}),this.$result.on("click","[autocomplete-link]",function(t){return e._choose(t)})}return t.prototype.getValue=function(){if("value"===this._mode)return this.$wrapper.find('input[type="hidden"]').val();this.$input.val()},t.prototype._prepareSearch=function(){var t=this;null!==this._timeout&&window.clearTimeout(this._timeout),this._timeout=window.setTimeout(function(){return t._search()},500)},t.prototype._search=function(){var t=this;this._void(),this._activate(),"value"===this._mode&&this._erase(!1),this.$input.val().trim().length>=3&&this._url&&(this.$result.addClass("loading"),i.ajax({url:this._url,data:{item_name:this.$input.val().trim()}}).done(function(e){t._void(),t.$result.append(e),t.$result.removeClass("loading"),i(document).trigger("hc:modalLink:refresh")}))},t.prototype._keyboardNavigation=function(t){var e=t.originalEvent.keyCode;if(this.$wrapper.hasClass("active"))if(38===e){if(null!==this.$selected){var n=this.$selected.prev("[autocomplete-link]");1===n.length?(this.$selected.removeClass("selected"),this.$selected=n,this.$selected.addClass("selected")):(this.$selected.removeClass("selected"),this.$selected=null)}}else if(40===e)if(null===this.$selected)this.$selected=this.$result.find("[autocomplete-link]").first(),this.$selected.addClass("selected");else{var i=this.$selected.next("[autocomplete-link]");1===i.length&&(this.$selected.removeClass("selected"),this.$selected=i,this.$selected.addClass("selected"))}else 27===e?(t.preventDefault(),this._deactivate()):13===e&&(t.preventDefault(),null!==this.$selected?this.$selected.trigger("click"):0!==this.$result.find("[autocomplete-link]").length&&this.$result.find("[autocomplete-link]").first().trigger("click"))},t.prototype._choose=function(t){t.preventDefault(),t.stopPropagation();var e=i(t.currentTarget);"link"!==this._mode?("value"===this._mode&&(this.$wrapper.find('input[type="hidden"]').val(e.data("value")),this.$input.attr("index",e.data("value")),this.$input.val(e.find(".label").text()||e.text()),this.$eraser.addClass("active"),this._deactivate(),this.$wrapper.find('input[type="hidden"]').trigger("change")),i(this).trigger("hc:valueUpdated")):window.location.href=e.attr("href")},t.prototype._erase=function(t){void 0===t&&(t=!0),this.$wrapper.find('input[type="hidden"]').val("").trigger("change"),this.$eraser.removeClass("active"),t&&(this.$input.val(""),i(this).trigger("hc:valueUpdated"))},t.prototype._focus=function(){i("html, body").animate({scrollTop:0},0),this._activate()},t.prototype._void=function(){this._timeout=null,this.$result.html(""),this.$selected=null},t.prototype._deactivate=function(t){t&&(t.stopPropagation(),t.preventDefault()),this.$overlay.detach(),this.$wrapper.removeClass("active"),this.$wrapper.closest("body").removeClass("filter-active")},t.prototype._activate=function(){this.$overlay.appendTo(i("body")),this.$wrapper.addClass("active"),this.$wrapper.closest("body").addClass("filter-active")},t}();e.Autocomplete=r,i(document).on("hc:ready",function(t,e){t.preventDefault();var n=i(e||i(document));n.find("div[autocomplete-field]").each(function(t,e){return new r(e)}),n.on("hc:autocomplete:refresh",function(){n.find("div[autocomplete-field]").each(function(t,e){return new r(e)})})})},H7XF:function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){for(var e,n=u(t),i=n[0],a=n[1],s=new o(function(t,e,n){return 3*(e+n)/4-n}(0,i,a)),c=0,l=a>0?i-4:i,h=0;h<l;h+=4)e=r[t.charCodeAt(h)]<<18|r[t.charCodeAt(h+1)]<<12|r[t.charCodeAt(h+2)]<<6|r[t.charCodeAt(h+3)],s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;2===a&&(e=r[t.charCodeAt(h)]<<2|r[t.charCodeAt(h+1)]>>4,s[c++]=255&e);1===a&&(e=r[t.charCodeAt(h)]<<10|r[t.charCodeAt(h+1)]<<4|r[t.charCodeAt(h+2)]>>2,s[c++]=e>>8&255,s[c++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var r,o,a=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},HHTs:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("EYe3"),o=n("Lh68"),a=n("gEVb"),s={closed:["opening"],opening:["closed","open"],open:["closed","closing"],closing:["closed","open"]},c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"closed",s))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a),i(e,[{key:"_close",value:function(t){return this.transition("closing",t),this.transition("closed",t),Promise.resolve(this)}},{key:"_connect",value:function(t,e,n,i,r,a){t.connect("PA00000000000000000000000000000000","test");var s=Promise.resolve(new o(t,"RM00000000000000000000000000000000",a));return s.cancel=function(){},s}},{key:"_open",value:function(t){return this.transition("opening",t),this.transition("open",t),Promise.resolve(this)}},{key:"close",value:function(){var t=this;return this.bracket("close",function(e){switch(t.state){case"closed":return t;case"open":return t._close(e);default:throw new Error('Unexpected Signaling state "'+t.state+'"')}})}},{key:"connect",value:function(t,e,n,i,r,o){var a=this;return this.bracket("connect",function s(c){switch(a.state){case"closed":return a._open(c).then(s.bind(null,c));case"open":return a.releaseLockCompletely(c),a._connect(t,e,n,i,r,o);default:throw new Error('Unexpected Signaling state "'+a.state+'"')}})}},{key:"createLocalParticipantSignaling",value:function(){return new r}},{key:"open",value:function(){var t=this;return this.bracket("open",function(e){switch(t.state){case"closed":return t._open(e);case"open":return t;default:throw new Error('Unexpected Signaling state "'+t.state+'"')}})}}]),e}();t.exports=c},HNKe:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("4o7n"),o=n("8WNc"),a=n("Ihm+"),s=function(t){function e(t,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));return Object.defineProperties(o,{rtt:{enumerable:!0,value:r}}),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),i(e,null,[{key:"of",value:function(t,n,i,r){if(n.id!==i.id)throw new Error("RTCStats IDs must match");var o=(i.timestamp-n.timestamp)/1e3,a=i.bytesSent-n.bytesSent,s=o>0?a/o*8:0,c=r&&"number"==typeof r.roundTripTime?r.roundTripTime/1e3:void 0;return new e(n.id,t,s,c)}},{key:"summarize",value:function(t){return{bitrate:a(t.map(function(t){return t.bitrate})),rtt:r(t.map(function(t){return t.rtt}))}}}]),e}();t.exports=s},HmUk:function(t,e,n){"use strict";switch((0,n("BWbm").guessBrowser)()){case"chrome":t.exports=n("mkGC");break;case"firefox":t.exports=n("mtX7");break;default:if("undefined"==typeof RTCSessionDescription)break;t.exports=RTCSessionDescription}},HsAx:function(t,e,n){"use strict";var i=n("EYe3"),r=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.connect(t,n),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),e}();t.exports=r},"I/VV":function(t,e,n){"use strict";var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var a=n("ZfiD"),s=n("JEtZ"),c=n("UZ/N"),u=n("NXBa"),l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{pc:{enumerable:!0,value:e},ice:{enumerable:!0,value:new a},audio:{enumerable:!0,value:{send:new Map,recv:new Map}},video:{enumerable:!0,value:{send:new Map,recv:new Map}},lastReport:{enumerable:!0,value:null,writable:!0}})}return r(t,[{key:"next",value:function(){var t,e,n,r=this;return("undefined"!=typeof mozRTCPeerConnection?(e=(t=this).pc.getTransceivers().filter(function(t){return t.currentDirection&&t.currentDirection.match(/send/)&&t.sender.track}).map(function(t){return t.sender}),n=t.pc.getTransceivers().filter(function(t){return t.currentDirection&&t.currentDirection.match(/recv/)}).map(function(t){return t.receiver}),Promise.all([h(e),h(n),t.pc.getStats()]).then(function(e){var n=i(e,3),r=n[0],o=n[1],a=n[2],s=p(t),c=g(t);r.forEach(function(e,n){return y(t,e,c,n)}),w(s,c);var u=f(t),l=_(t);o.forEach(function(e,n){return b(t,e,l,n)}),w(u,l),T(t.ice,a)})):function(t){return t.pc.getStats().then(function(e){var n=p(t),i=g(t);y(t,e,i),w(n,i);var r=f(t),o=_(t);b(t,e,o),w(r,o),T(t.ice,e)})}(this)).then(function(){var t=[].concat(o(r.audio.send.values())),e=[].concat(o(r.video.send.values())),n=[].concat(o(r.audio.recv.values())),i=[].concat(o(r.video.recv.values())),a=new s(r.ice.lastReport,{send:t.map(function(t){return t.lastReport}).filter(function(t){return t}),recv:n.map(function(t){return t.lastReport}).filter(function(t){return t})},{send:e.map(function(t){return t.lastReport}).filter(function(t){return t}),recv:i.map(function(t){return t.lastReport}).filter(function(t){return t})});return r.lastReport=a,a})}}]),t}();function h(t){return Promise.all(t.map(function(t){var e=t.track.id;return t.getStats().then(function(t){var n=!0,i=!1,r=void 0;try{for(var o,a=t.values()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;"inbound-rtp"===s.type&&(s.id=e+"-"+s.id)}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return[e,t]})})).then(function(t){return new Map(t)})}function d(t,e,n,i,r){var o=e[i.mediaType];if(!r){var a=n.get(i.trackId);a&&(r=a.trackIdentifier)}if(o&&r){if(o.has(i.id))return o.get(i.id);var s=new t(r,i);o.set(i.id,s)}return null}function p(t){return{audio:t.audio.send,video:t.video.send}}function f(t){return{audio:t.audio.recv,video:t.video.recv}}function m(t,e,n,i){return d(u,p(t),e,n,i)}function v(t,e,n,i){return d(c,f(t),e,n,i)}function g(t){return{audio:new Set(t.audio.send.keys()),video:new Set(t.video.send.keys())}}function _(t){return{audio:new Set(t.audio.recv.keys()),video:new Set(t.video.recv.keys())}}function y(t,e,n,i){var r=!0,o=!1,a=void 0;try{for(var s,c=e.values()[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var u=s.value;if("outbound-rtp"===u.type&&!u.isRemote){if("undefined"==typeof mozRTCPeerConnection&&!u.trackId)continue;var l=n[u.mediaType];l&&l.delete(u.id);var h=m(t,e,u,i);if(h){var d=e.get(u.remoteId);h.next(i||h.trackId,u,d)}}}}catch(t){o=!0,a=t}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}}function b(t,e,n,i){var r=!0,o=!1,a=void 0;try{for(var s,c=e.values()[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var u=s.value;if("inbound-rtp"===u.type&&!u.isRemote){var l=n[u.mediaType];l&&l.delete(u.id);var h=v(t,e,u,i);h&&h.next(i||h.trackId,u)}}}catch(t){o=!0,a=t}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}}function w(t,e){var n=function(n){var i=t[n];e[n].forEach(function(t){return i.delete(t)})};for(var i in e)n(i)}function T(t,e){var n=void 0,i=!0,r=!1,o=void 0;try{for(var a,s=e.values()[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var c=a.value;"transport"===c.type&&(n=e.get(c.selectedCandidatePairId))}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}if(n)t.next(n);else{var u=!0,l=!1,h=void 0;try{for(var d,p=e.values()[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var f=d.value;"candidate-pair"!==f.type||!f.nominated||"selected"in f&&!f.selected||t.next(f)}}catch(t){l=!0,h=t}finally{try{!u&&p.return&&p.return()}finally{if(l)throw h}}}}t.exports=l},I7m0:function(t,e,n){n("qbyT"),n("4MIV"),n("QN8C"),n("qshW")},ISn3:function(t,e,n){"use strict";t.exports=function(t){var e,n,i,r;function o(e){var n=e.ua.configuration.hackAllowUnregisteredOptionTags,i=[],r={};return e.method===t.C.REGISTER?i.push("path","gruu"):e.method===t.C.INVITE&&(e.ua.contact.pub_gruu||e.ua.contact.temp_gruu)&&i.push("gruu"),e.ua.configuration.rel100===t.C.supported.SUPPORTED&&i.push("100rel"),e.ua.configuration.replaces===t.C.supported.SUPPORTED&&i.push("replaces"),i.push("outbound"),"Supported: "+(i=(i=i.concat(e.ua.configuration.extraSupported)).filter(function(e){var i=t.C.OPTION_TAGS[e],o=!r[e];return r[e]=!0,(i||n)&&o})).join(", ")+"\r\n"}(e=function(e,n,i,r,o,a){var s,c,u,l,h,d;if(r=r||{},!e||!n||!i)return null;this.logger=i.getLogger("sip.sipmessage"),this.ua=i,this.headers={},this.method=e,this.ruri=n,this.body=a,this.extraHeaders=(o||[]).slice(),this.statusCode=r.status_code,this.reasonPhrase=r.reason_phrase,r.route_set?this.setHeader("route",r.route_set):i.configuration.usePreloadedRoute&&this.setHeader("route",i.transport.server.sip_uri),this.setHeader("via",""),this.setHeader("max-forwards",t.UA.C.MAX_FORWARDS),h=r.to_uri||n,s=r.to_displayName||0===r.to_displayName?'"'+r.to_displayName+'" ':"",s+="<"+(h&&h.toRaw?h.toRaw():h)+">",s+=r.to_tag?";tag="+r.to_tag:"",this.to=new t.NameAddrHeader.parse(s),this.setHeader("to",s),d=r.from_uri||i.configuration.uri,c=r.from_displayName||0===r.from_displayName?'"'+r.from_displayName+'" ':i.configuration.displayName?'"'+i.configuration.displayName+'" ':"",c+="<"+(d&&d.toRaw?d.toRaw():d)+">;tag=",c+=r.from_tag||t.Utils.newTag(),this.from=new t.NameAddrHeader.parse(c),this.setHeader("from",c),u=r.call_id||i.configuration.sipjsId+t.Utils.createRandomToken(15),this.call_id=u,this.setHeader("call-id",u),l=r.cseq||Math.floor(1e4*Math.random()),this.cseq=l,this.setHeader("cseq",l+" "+e)}).prototype={setHeader:function(e,n){this.headers[t.Utils.headerize(e)]=n instanceof Array?n:[n]},getHeader:function(e){var n,i,r=this.extraHeaders.length,o=this.headers[t.Utils.headerize(e)];if(o){if(o[0])return o[0]}else for(n=new RegExp("^\\s*"+e+"\\s*:","i"),i=0;i<r;i++)if(o=this.extraHeaders[i],n.test(o))return o.substring(o.indexOf(":")+1).trim()},getHeaders:function(e){var n,i,r,o=this.headers[t.Utils.headerize(e)],a=[];if(o){for(i=o.length,n=0;n<i;n++)a.push(o[n]);return a}for(i=this.extraHeaders.length,r=new RegExp("^\\s*"+e+"\\s*:","i"),n=0;n<i;n++)o=this.extraHeaders[n],r.test(o)&&a.push(o.substring(o.indexOf(":")+1).trim());return a},hasHeader:function(e){var n,i,r=this.extraHeaders.length;if(this.headers[t.Utils.headerize(e)])return!0;for(n=new RegExp("^\\s*"+e+"\\s*:","i"),i=0;i<r;i++)if(n.test(this.extraHeaders[i]))return!0;return!1},toString:function(){var e,n,i,r="";for(e in r+=this.method+" "+(this.ruri.toRaw?this.ruri.toRaw():this.ruri)+" SIP/2.0\r\n",this.headers)for(n=this.headers[e].length,i=0;i<n;i++)r+=e+": "+this.headers[e][i]+"\r\n";for(n=this.extraHeaders.length,i=0;i<n;i++)r+=this.extraHeaders[i].trim()+"\r\n";return r+=o(this),r+="User-Agent: "+this.ua.configuration.userAgentString+"\r\n",this.body?"string"==typeof this.body?(r+="Content-Length: "+(n=t.Utils.str_utf8_length(this.body))+"\r\n\r\n",r+=this.body):this.body.body&&this.body.contentType?(n=t.Utils.str_utf8_length(this.body.body),r+="Content-Type: "+this.body.contentType+"\r\n",r+="Content-Length: "+n+"\r\n\r\n",r+=this.body.body):r+="Content-Length: 0\r\n\r\n":r+="Content-Length: 0\r\n\r\n",r}},(n=function(){this.data=null,this.headers=null,this.method=null,this.via=null,this.via_branch=null,this.call_id=null,this.cseq=null,this.from=null,this.from_tag=null,this.to=null,this.to_tag=null,this.body=null}).prototype={addHeader:function(e,n){var i={raw:n};e=t.Utils.headerize(e),this.headers[e]?this.headers[e].push(i):this.headers[e]=[i]},getHeader:function(e){var n=this.headers[t.Utils.headerize(e)];if(n)return n[0]?n[0].raw:void 0},getHeaders:function(e){var n,i,r=this.headers[t.Utils.headerize(e)],o=[];if(!r)return[];for(i=r.length,n=0;n<i;n++)o.push(r[n].raw);return o},hasHeader:function(e){return!!this.headers[t.Utils.headerize(e)]},parseHeader:function(e,n){var i,r,o;if(e=t.Utils.headerize(e),n=n||0,this.headers[e]){if(!(n>=this.headers[e].length))return r=(i=this.headers[e][n]).raw,i.parsed?i.parsed:-1===(o=t.Grammar.parse(r,e.replace(/-/g,"_")))?(this.headers[e].splice(n,1),void this.logger.warn('error parsing "'+e+'" header field with value "'+r+'"')):(i.parsed=o,o);this.logger.log('not so many "'+e+'" headers present')}else this.logger.log('header "'+e+'" not present')},s:function(t,e){return this.parseHeader(t,e)},setHeader:function(e,n){var i={raw:n};this.headers[t.Utils.headerize(e)]=[i]},toString:function(){return this.data}},((i=function(t){this.logger=t.getLogger("sip.sipmessage"),this.ua=t,this.headers={},this.ruri=null,this.transport=null,this.server_transaction=null}).prototype=new n).reply=function(e,n,i,r,a,s){var c,u,l,h,d,p=this.getHeader("To"),f=0,m=0;if(d=t.Utils.buildStatusLine(e,n),i=(i||[]).slice(),this.method===t.C.INVITE&&e>100&&e<=200)for(l=(c=this.getHeaders("record-route")).length;f<l;f++)d+="Record-Route: "+c[f]+"\r\n";for(l=(u=this.getHeaders("via")).length;m<l;m++)d+="Via: "+u[m]+"\r\n";for(!this.to_tag&&e>100?p+=";tag="+t.Utils.newTag():this.to_tag&&!this.s("to").hasParam("tag")&&(p+=";tag="+this.to_tag),d+="To: "+p+"\r\n",d+="From: "+this.getHeader("From")+"\r\n",d+="Call-ID: "+this.call_id+"\r\n",d+="CSeq: "+this.cseq+" "+this.method+"\r\n",l=i.length,h=0;h<l;h++)d+=i[h].trim()+"\r\n";return d+=o(this),d+="User-Agent: "+this.ua.configuration.userAgentString+"\r\n",r?"string"==typeof r?(d+="Content-Type: application/sdp\r\n",d+="Content-Length: "+(l=t.Utils.str_utf8_length(r))+"\r\n\r\n",d+=r):r.body&&r.contentType?(l=t.Utils.str_utf8_length(r.body),d+="Content-Type: "+r.contentType+"\r\n",d+="Content-Length: "+l+"\r\n\r\n",d+=r.body):d+="Content-Length: 0\r\n\r\n":d+="Content-Length: 0\r\n\r\n",this.server_transaction.receiveResponse(e,d).then(a,s),d},i.prototype.reply_sl=function(e,n){var i,r,o=0,a=this.getHeaders("via"),s=a.length;for(r=t.Utils.buildStatusLine(e,n);o<s;o++)r+="Via: "+a[o]+"\r\n";i=this.getHeader("To"),!this.to_tag&&e>100?i+=";tag="+t.Utils.newTag():this.to_tag&&!this.s("to").hasParam("tag")&&(i+=";tag="+this.to_tag),r+="To: "+i+"\r\n",r+="From: "+this.getHeader("From")+"\r\n",r+="Call-ID: "+this.call_id+"\r\n",r+="CSeq: "+this.cseq+" "+this.method+"\r\n",r+="User-Agent: "+this.ua.configuration.userAgentString+"\r\n",r+="Content-Length: 0\r\n\r\n",this.transport.send(r)},(r=function(t){this.logger=t.getLogger("sip.sipmessage"),this.headers={},this.status_code=null,this.reason_phrase=null}).prototype=new n,t.OutgoingRequest=e,t.IncomingRequest=i,t.IncomingResponse=r}},"Ihm+":function(t,e,n){"use strict";t.exports=function(t){return t.reduce(function(t,e){return"number"==typeof e?e+t:t},0)}},Ivmz:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("+qE3").EventEmitter,o=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),o=null;return Object.defineProperties(r,{_isEnabled:{value:i,writable:!0},_trackTransceiver:{value:null,writable:!0},_sid:{get:function(){return o},set:function(t){null===o&&(o=t)}},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:t}}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"disable",value:function(){return this.enable(!1)}},{key:"enable",value:function(t){return t="boolean"!=typeof t||t,this.isEnabled!==t&&(this._isEnabled=t,this.emit("updated")),this}},{key:"setTrackTransceiver",value:function(t){return t=t||null,this.trackTransceiver!==t&&(this._trackTransceiver=t,this.emit("updated")),this}},{key:"setSid",value:function(t){return null===this.sid&&(this._sid=t,this.emit("updated")),this}},{key:"isEnabled",get:function(){return this._isEnabled}},{key:"sid",get:function(){return this._sid}},{key:"trackTransceiver",get:function(){return this._trackTransceiver}}]),e}();t.exports=o},IzUq:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},JEtZ:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("2xLa"),o=n("HNKe"),a=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{ice:{enumerable:!0,value:e},audio:{enumerable:!0,value:n},video:{enumerable:!0,value:i}})}return i(t,[{key:"summarize",value:function(){var t=this.audio.send.concat(this.video.send),e=o.summarize(t),n=this.audio.recv.concat(this.video.recv),i=r.summarize(n);return{ice:this.ice,send:e,recv:i,audio:{send:o.summarize(this.audio.send),recv:r.summarize(this.audio.recv)},video:{send:o.summarize(this.video.send),recv:r.summarize(this.video.recv)}}}}]),t}();t.exports=a},Jhn5:function(t,e,n){"use strict";var i=n("+qE3").EventEmitter,r=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Object.defineProperties(i,{id:{enumerable:!0,value:t},kind:{enumerable:!0,value:n}}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),e}();t.exports=r},KDXV:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=n("Xiox"),s=o,c=function(t){function e(e){var n=t.call(this)||this;return n.$form=s(e),s(e).on("click",'button[type="submit"]',function(t){return n._appendSubmitValue(t.target)}),s(e).on("submit",function(t){return n._request(t)}),n}return r(e,t),e.prototype._appendSubmitValue=function(t){var e=s('<input type="hidden">').addClass("submit-value").attr("name",s(t).attr("name")).attr("value",s(t).attr("value")||!0);this.$form.append(e)},e.prototype._request=function(t){var e=this;t.preventDefault();var n={url:this.$form.attr("action"),method:this.$form.attr("method"),dataType:"html",data:this.$form.serialize()};FormData&&"multipart/form-data"===this.$form.attr("enctype")&&(n.processData=!1,n.contentType=!1,n.data=new FormData(this.$form.get(0))),s.ajax(n).done(function(t){return e._openModal(t)}).fail(function(){return e._openFailedModal()}),this.$form.find(".submit-value").remove()},e}(a.ModalManager);e.ModalForm=c;var u=function(t){function e(e){var n=t.call(this)||this;return s(e).on("change",function(t){s(e).closest(".switch-wrapper").hasClass("checked")||n._request(t,s(e).data("href"))}),n}return r(e,t),e.prototype._request=function(t,e){var n=this;t.preventDefault(),t.stopPropagation(),s.ajax({url:e,method:"GET",dataType:"html"}).done(function(t){return n._openModal(t)}).fail(function(){return n._openFailedModal()})},e}(a.ModalManager);s(document).on("hc:ready",function(t,e){t.preventDefault();var n=s(e||document);n.find("form[modal-request]").each(function(t,e){return new c(e)}),n.find("input[modal-request]").each(function(t,e){return new u(e)})})},KFGy:function(t,e,n){var i=n("Vo14"),r=n("cpc2"),o=n("kSER"),a=n("2Dig"),s=n("QN7Q"),c=n("NOtv")("socket.io-client:socket"),u=n("TypT"),l=n("WLGk");t.exports=p;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=r.prototype.emit;function p(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}r(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,"open",s(this,"onopen")),a(t,"packet",s(this,"onpacket")),a(t,"close",s(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},p.prototype.send=function(){var t=o(arguments);return t.unshift("message"),this.emit.apply(this,t),this},p.prototype.emit=function(t){if(h.hasOwnProperty(t))return d.apply(this,arguments),this;var e=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:l(e))?i.BINARY_EVENT:i.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},p.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},p.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?u.encode(this.query):this.query;c("sending connect packet with query %s",t),this.packet({type:i.CONNECT,query:t})}else this.packet({type:i.CONNECT})},p.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},p.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===i.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",t.data)}},p.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?d.apply(this,e):this.receiveBuffer.push(e)},p.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=o(arguments);c("sending ack %j",r),e.packet({type:l(r)?i.BINARY_ACK:i.ACK,id:t,data:r})}}},p.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)d.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(t){return this.flags.compress=t,this},p.prototype.binary=function(t){return this.flags.binary=t,this}},Kg6A:function(t,e,n){"use strict";var i=n("sYJf"),r=n("31MG"),o=n("1I8i"),a=n("3ojb"),s=n("5wwa").SignalingConnectionDisconnectedError,c=n("5wwa").SignalingIncomingMessageInvalidError,u=n("ghd6").flatMap;t.exports=function(t,e,n,l,h,d,p){p=Object.assign({PeerConnectionManager:r,RoomV2:o,Transport:a},p);var f=void 0,m=p.PeerConnectionManager,v=p.RoomV2,g=new m(l,h,d,p),_=u(n.tracks,function(t){return[t.trackTransceiver]});g.setConfiguration(p),g.setTrackSenders(_);var y=new Error("Canceled");return new i(function(i,r,o){g.createAndOffer().then(function(){return g.dequeue("description"),new Promise(function(i,r){if(o())r(y);else{var a="string"==typeof p.wsServerInsights?{wsServerInsights:p.wsServerInsights}:{};p.InsightsPublisher&&(a.InsightsPublisher=p.InsightsPublisher),p.NullInsightsPublisher&&(a.NullInsightsPublisher=p.NullInsightsPublisher),a=Object.assign({dominantSpeaker:p.dominantSpeaker,environment:p.environment,networkQuality:p.networkQuality,iceServerSourceStatus:l.status,insights:p.insights,realm:p.realm},a);var u=p.Transport;(f=new u(p.name,t,n,g,e,a)).once("connected",function(t){o()?r(y):t.participant?i(new v(n,t,f,g,p)):r(new c)}),f.once("stateChanged",function(t,e){"disconnected"===t&&(e=e||new s,f=null,r(e))})}})}).then(function(t){if(o())return g.close(),t.disconnect(),void r(y);i(t)}).catch(function(t){f&&(f.disconnect(),f=null),g.close(),r(t)})},function(){f&&(f.disconnect(),f=null)})}},LFO1:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("mb7l"),o=function(t){function e(t,n,i,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"toString",value:function(){return"[LocalVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),e}();t.exports=o},LOmJ:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("xwWy"),o=n("GMWm"),a=n("+qE3").EventEmitter,s=n("S3Hu"),c=n("69wI"),u=n("ghd6"),l=n("5wwa").ConfigurationAcquireFailedError,h=n("iqXr").version,d=0,p=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n=Object.assign({abortOnTimeout:!1,defaultTTL:r.ICE_SERVERS_DEFAULT_TTL,environment:r.DEFAULT_ENVIRONMENT,getConfiguration:o.getConfiguration,realm:r.DEFAULT_REALM,timeout:r.ICE_SERVERS_TIMEOUT_MS},n);var a=r.DEFAULT_ICE_SERVERS(n.environment),c=n.ecsServer||r.ECS_SERVER(n.environment,n.realm),l=n.log?n.log.createLog("default",i):new s("default",i,u.buildLogLevels("off"));return Object.defineProperties(i,{_abortOnTimeout:{value:n.abortOnTimeout},_currentPoll:{value:null,writable:!0},_defaultIceServers:{value:a},_defaultTTL:{value:n.defaultTTL},_ecsServer:{value:c},_getConfiguration:{value:n.getConfiguration},_instance:{value:++d},_nextPoll:{value:null,writable:!0},_log:{value:l},_status:{value:null,writable:!0},_stopped:{value:u.defer(),writable:!0},_timeout:{value:n.timeout},_token:{value:t}}),i._log.info("Created a new NTSIceServerSource"),i._log.debug("ECS server:",i._ecsServer),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a),i(e,[{key:"start",value:function(){return this.isStarted?this._log.warn("Already started"):(this._log.info("Starting"),this._currentPoll=function t(e){e._log.debug("Getting ECS configuration");var n={configUrl:e._ecsServer+"/v2/Configuration",body:{service:"video",sdk_version:h}};var i=new Error("Already stopped");var o=e._getConfiguration(e._token,n);var a=new c(o,e._timeout);return Promise.race([a,e._stopped.promise]).then(function(t){if(!t)throw i;var n=function(t,e){var n=u.getOrNull(e,"video.network_traversal_service");if(!n)throw new Error("network_traversal_service not available");n.warning&&t._log.warn(n.warning);var i=n.ice_servers;if(!i)throw new Error("ice_servers not available");t._log.info("Got ICE servers: "+JSON.stringify(i));var r=n.ttl||t._defaultTTL;return[i,r]}(e,t);return e._status="success",n}).catch(function(t){if(e._status="failure",!e.isStarted)throw i;if(a.isTimedOut){if(e._abortOnTimeout)throw e._log.warn("Getting ICE servers took too long"),new l;e._log.warn("Getting ICE servers took too long (using defaults)")}else t.code&&2===Math.floor(t.code/1e4)&&e.stop(),e._log.warn("Failed to get ICE servers (using defaults):",t);return[e._defaultIceServers,e._defaultTTL]}).then(function(n){var i=n[0],o=n[1];e.isStarted&&(e._log.info("Getting ICE servers again in "+o+" seconds"),e._nextPoll=setTimeout(function(){e.isStarted&&(e._currentPoll=t(e))},1e3*(o-r.ECS_TIMEOUT))),e._iceServers=i;try{e.emit("iceServers",i)}catch(t){}return i})}(this)),this._currentPoll}},{key:"stop",value:function(){this.isStarted?(this._log.info("Stopping"),this._currentPoll=null,clearTimeout(this._nextPoll),this._stopped.resolve(),this._stopped=u.defer(),this._log.debug("Stopped")):this._log.warn("Already stopped")}},{key:"toString",value:function(){return"[NTSIceServerSource #"+this._instance+"]"}},{key:"isStarted",get:function(){return!!this._currentPoll}},{key:"status",get:function(){return this._status}}]),e}();t.exports=p},Lh68:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("wl3V"),o=n("gEVb"),a={connected:["reconnecting","disconnected"],reconnecting:["connected","disconnected"],disconnected:[]},s=function(t){function e(t,n,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=Object.assign({RecordingSignaling:r},o);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"connected",a)),u=o.RecordingSignaling;return Object.defineProperties(s,{_mediaConnectionIsReconnecting:{writable:!0,value:!1},_options:{value:o},dominantSpeakerSid:{enumerable:!0,value:null,writable:!0},localParticipant:{enumerable:!0,value:t},name:{enumerable:!0,value:i},participants:{enumerable:!0,value:new Map},recording:{enumerable:!0,value:new u},sid:{enumerable:!0,value:n}}),s.on("mediaConnectionStateChanged",function(){return c(s)}),s.on("signalingConnectionStateChanged",function(){return c(s)}),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),i(e,[{key:"_disconnect",value:function(t){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[t]),!0)}},{key:"connectParticipant",value:function(t){var e=this;return"disconnected"!==t.state&&(!this.participants.has(t.sid)&&(this.participants.set(t.sid,t),t.on("stateChanged",function n(i){"disconnected"===i&&(t.removeListener("stateChanged",n),e.participants.delete(t.sid),e.emit("participantDisconnected",t))}),this.emit("participantConnected",t),!0))}},{key:"disconnect",value:function(){return this._disconnect()}},{key:"setDominantSpeaker",value:function(t){this.dominantSpeakerSid=t,this.emit("dominantSpeakerChanged")}}]),e}();function c(t){if("disconnected"!==t.state&&"disconnected"!==t.signalingConnectionState){var e=void 0;"reconnecting"===t.signalingConnectionState?e=t.signalingConnectionState:"failed"===t.mediaConnectionState?(t._mediaConnectionIsReconnecting=!0,e="reconnecting"):"new"===t.mediaConnectionState||"checking"===t.mediaConnectionState?e=t._mediaConnectionIsReconnecting?"reconnecting":"connected":(t._mediaConnectionIsReconnecting=!1,e="connected"),e!==t.state&&t.preempt(e)}}t.exports=s},LtqK:function(t,e,n){"use strict";(function(n,i){var r;!function(){var o,a="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";if(k="object"==typeof n&&"object"==typeof n.versions&&n.versions.node&&!n.browser){var s=n.versions.node.toString().replace("v","");a="Nodejs/"+s+" (NodeOS) AppleWebKit/"+s+" (KHTML, like Gecko) Nodejs/"+s+" Nodejs/"+s}o=void 0!==i?i:window,"undefined"==typeof window&&("undefined"==typeof window&&void 0!==i&&(i.navigator={userAgent:a,getUserMedia:function(){}},o.window=i),"undefined"==typeof location&&(o.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(o.screen={width:0,height:0}));var c=window.navigator;void 0!==c?(void 0!==c.webkitGetUserMedia&&(c.getUserMedia=c.webkitGetUserMedia),void 0!==c.mozGetUserMedia&&(c.getUserMedia=c.mozGetUserMedia)):c={getUserMedia:function(){},userAgent:a};var u=!!/Android|webOS|iPhone|iPad|iPod|BB10|BlackBerry|IEMobile|Opera Mini|Mobile|mobile/i.test(c.userAgent||""),l=!(-1===c.userAgent.indexOf("Edge")||!c.msSaveOrOpenBlob&&!c.msSaveBlob),h=!!window.opera||c.userAgent.indexOf(" OPR/")>=0,d=void 0!==window.InstallTrigger,p=/^((?!chrome|android).)*safari/i.test(c.userAgent),f=!!window.chrome&&!h,m="undefined"!=typeof document&&!!document.documentMode&&!l;function v(t,e){var n=0,i=!1,r=window.setInterval(function(){t()&&(window.clearInterval(r),e(i)),n++>50&&(window.clearInterval(r),e(i=!0))},10)}var g={Android:function(){return c.userAgent.match(/Android/i)},BlackBerry:function(){return c.userAgent.match(/BlackBerry|BB10/i)},iOS:function(){return c.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return c.userAgent.match(/Opera Mini/i)},Windows:function(){return c.userAgent.match(/IEMobile/i)},any:function(){return g.Android()||g.BlackBerry()||g.iOS()||g.Opera()||g.Windows()},getOsName:function(){var t="Unknown OS";return g.Android()&&(t="Android"),g.BlackBerry()&&(t="BlackBerry"),g.iOS()&&(t="iOS"),g.Opera()&&(t="Opera Mini"),g.Windows()&&(t="Windows"),t}};var _="Unknown OS",y="Unknown OS Version";var b,w,T=function(){for(var t,e=c.appVersion,n=c.userAgent,i="-",r=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],o=0;t=r[o];o++)if(t.r.test(n)){i=t.s;break}var a="-";switch(/Windows/.test(i)&&(/Windows (.*)/.test(i)&&(a=/Windows (.*)/.exec(i)[1]),i="Windows"),i){case"Mac OS X":/Mac OS X (10[\.\_\d]+)/.test(n)&&(a=/Mac OS X (10[\.\_\d]+)/.exec(n)[1]);break;case"Android":/Android ([\.\_\d]+)/.test(n)&&(a=/Android ([\.\_\d]+)/.exec(n)[1]);break;case"iOS":/OS (\d+)_(\d+)_?(\d+)?/.test(n)&&(a=(a=/OS (\d+)_(\d+)_?(\d+)?/.exec(e))[1]+"."+a[2]+"."+(0|a[3]))}return{osName:i,osVersion:a}}();T&&T.osName&&"-"!=T.osName?(_=T.osName,y=T.osVersion):g.any()&&"Android"==(_=g.getOsName())&&(y=!!(w=(b=(b||c.userAgent).toLowerCase()).match(/android\s([0-9\.]*)/))&&w[1]);var k="object"==typeof n&&"object"==typeof n.versions&&n.versions.node;"Unknown OS"===_&&k&&(_="Nodejs",y=n.versions.node.toString().replace("v",""));var S=!1,C=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(t){"undefined"!=typeof document&&"function"==typeof document.createElement&&(!S&&t in document.createElement("canvas")&&(S=!0),!C&&t in document.createElement("video")&&(C=!0))});var E=[],P=[],O=[],x=[];c.mediaDevices&&c.mediaDevices.enumerateDevices&&(c.enumerateDevices=function(t){var e=c.mediaDevices.enumerateDevices();e&&e.then?c.mediaDevices.enumerateDevices().then(t).catch(function(){t([])}):t([])});var R=!1;"undefined"!=typeof MediaStreamTrack&&"getSources"in MediaStreamTrack?R=!0:c.mediaDevices&&c.mediaDevices.enumerateDevices&&(R=!0);var A=!1,D=!1,I=!1,M=!1,$=!1;function L(t){if(R)if(!c.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(c.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!c.enumerateDevices&&c.enumerateDevices&&(c.enumerateDevices=c.enumerateDevices.bind(c)),c.enumerateDevices){E=[],P=[],O=[],x=[],A=!1,D=!1,I=!1,M=!1,$=!1;var e={};c.enumerateDevices(function(n){n.forEach(function(t){var n={};for(var i in t)try{"function"!=typeof t[i]&&(n[i]=t[i])}catch(t){}e[n.deviceId+n.label+n.kind]||("audio"===n.kind&&(n.kind="audioinput"),"video"===n.kind&&(n.kind="videoinput"),n.deviceId||(n.deviceId=n.id),n.id||(n.id=n.deviceId),n.label?("videoinput"!==n.kind||$||($=!0),"audioinput"!==n.kind||M||(M=!0)):(n.isCustomLabel=!0,"videoinput"===n.kind?n.label="Camera "+(x.length+1):"audioinput"===n.kind?n.label="Microphone "+(P.length+1):"audiooutput"===n.kind?n.label="Speaker "+(O.length+1):n.label="Please invoke getUserMedia once.",void 0!==j&&j.browser.isChrome&&j.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(n.label="HTTPs is required to get label of this "+n.kind+" device.")),"audioinput"===n.kind&&(A=!0,-1===P.indexOf(n)&&P.push(n)),"audiooutput"===n.kind&&(D=!0,-1===O.indexOf(n)&&O.push(n)),"videoinput"===n.kind&&(I=!0,-1===x.indexOf(n)&&x.push(n)),E.push(n),e[n.deviceId+n.label+n.kind]=n)}),void 0!==j&&(j.MediaDevices=E,j.hasMicrophone=A,j.hasSpeakers=D,j.hasWebcam=I,j.isWebsiteHasWebcamPermissions=$,j.isWebsiteHasMicrophonePermissions=M,j.audioInputDevices=P,j.audioOutputDevices=O,j.videoInputDevices=x),t&&t()})}else t&&t();else t&&t()}var j=window.DetectRTC||{};j.browser=function(){c.appVersion;var t,e,n,i=c.userAgent,r=c.appName,o=""+parseFloat(c.appVersion),a=parseInt(c.appVersion,10);if(h){r="Opera";try{a=(o=c.userAgent.split("OPR/")[1].split(" ")[0]).split(".")[0]}catch(t){o="0.0.0.0",a=0}}else m?((e=i.indexOf("rv:"))>0?o=i.substring(e+3):(e=i.indexOf("MSIE"),o=i.substring(e+5)),r="IE"):f?(e=i.indexOf("Chrome"),r="Chrome",o=i.substring(e+7)):p?(e=i.indexOf("Safari"),r="Safari",o=i.substring(e+7),-1!==(e=i.indexOf("Version"))&&(o=i.substring(e+8)),-1!==c.userAgent.indexOf("Version/")&&(o=c.userAgent.split("Version/")[1].split(" ")[0])):d?(e=i.indexOf("Firefox"),r="Firefox",o=i.substring(e+8)):(t=i.lastIndexOf(" ")+1)<(e=i.lastIndexOf("/"))&&(r=i.substring(t,e),o=i.substring(e+1),r.toLowerCase()===r.toUpperCase()&&(r=c.appName));return l&&(r="Edge",o=c.userAgent.split("Edge/")[1]),-1!==(n=o.search(/[; \)]/))&&(o=o.substring(0,n)),a=parseInt(""+o,10),isNaN(a)&&(o=""+parseFloat(c.appVersion),a=parseInt(c.appVersion,10)),{fullVersion:o,version:a,name:r,isPrivateBrowsing:!1}}(),function(t){var e;try{if(window.webkitRequestFileSystem)window.webkitRequestFileSystem(window.TEMPORARY,1,function(){e=!1},function(t){e=!0});else if(window.indexedDB&&/Firefox/.test(window.navigator.userAgent)){var n;try{(n=window.indexedDB.open("test")).onerror=function(){return!0}}catch(t){e=!0}void 0===e&&v(function(){return"done"===n.readyState},function(t){t||(e=!n.result)})}else if(function(t){var e=t.toLowerCase();if(0===e.indexOf("msie")&&0===e.indexOf("trident"))return!1;var n=/(?:msie|rv:)\s?([\d\.]+)/.exec(e);return!!(n&&parseInt(n[1],10)>=10)}(window.navigator.userAgent)){e=!1;try{window.indexedDB||(e=!0)}catch(t){e=!0}}else if(window.localStorage&&/Safari/.test(window.navigator.userAgent)){try{window.localStorage.setItem("test",1)}catch(t){e=!0}void 0===e&&(e=!1,window.localStorage.removeItem("test"))}}catch(t){e=!1}v(function(){return void 0!==e},function(n){t(e)})}(function(t){j.browser.isPrivateBrowsing=!!t}),j.browser["is"+j.browser.name]=!0,j.osName=_,j.osVersion=y;"object"==typeof n&&"object"==typeof n.versions&&n.versions["node-webkit"];var N=!1;["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","RTCIceGatherer"].forEach(function(t){N||t in window&&(N=!0)}),j.isWebRTCSupported=N,j.isORTCSupported="undefined"!=typeof RTCIceGatherer;var U=!1;(j.browser.isChrome&&j.browser.version>=35?U=!0:j.browser.isFirefox&&j.browser.version>=34?U=!0:j.browser.isEdge&&j.browser.version>=17?U=!0:"Android"===j.osName&&j.browser.isChrome&&(U=!0),/^(https:|chrome-extension:)$/g.test(location.protocol||""))||("undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(j.browser.isChrome||j.browser.isEdge||j.browser.isOpera)?U=!1:j.browser.isFirefox&&(U=!1));j.isScreenCapturingSupported=U;var X={isSupported:!1,isCreateMediaStreamSourceSupported:!1};["AudioContext","webkitAudioContext","mozAudioContext","msAudioContext"].forEach(function(t){X.isSupported||t in window&&(X.isSupported=!0,window[t]&&"createMediaStreamSource"in window[t].prototype&&(X.isCreateMediaStreamSourceSupported=!0))}),j.isAudioContextSupported=X.isSupported,j.isCreateMediaStreamSourceSupported=X.isCreateMediaStreamSourceSupported;var B=!1;j.browser.isChrome&&j.browser.version>31&&(B=!0),j.isRtpDataChannelsSupported=B;var F=!1;j.browser.isFirefox&&j.browser.version>28?F=!0:j.browser.isChrome&&j.browser.version>25?F=!0:j.browser.isOpera&&j.browser.version>=11&&(F=!0),j.isSctpDataChannelsSupported=F,j.isMobileDevice=u;var H=!1;c.getUserMedia?H=!0:c.mediaDevices&&c.mediaDevices.getUserMedia&&(H=!0),j.browser.isChrome&&j.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(H="Requires HTTPs"),"Nodejs"===j.osName&&(H=!1),j.isGetUserMediaSupported=H;var q,z,W,V="";screen.width&&(V+=(screen.width?screen.width:"")+" x "+(screen.height?screen.height:""));j.displayResolution=V,j.displayAspectRatio=(q=screen.width,z=screen.height,W=function t(e,n){return 0==n?e:t(n,e%n)}(q,z),q/W/(z/W)).toFixed(2),j.isCanvasSupportsStreamCapturing=S,j.isVideoSupportsStreamCapturing=C,"Chrome"==j.browser.name&&j.browser.version>=53&&(j.isCanvasSupportsStreamCapturing||(j.isCanvasSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features"),j.isVideoSupportsStreamCapturing||(j.isVideoSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features")),j.DetectLocalIPAddress=function(t,e){j.isWebRTCSupported&&function(t,e){if("undefined"!=typeof document&&"function"==typeof document.getElementById){var n={},i=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(!i){var r=document.getElementById("iframe");if(!r)return;var o=r.contentWindow;i=o.RTCPeerConnection||o.mozRTCPeerConnection||o.webkitRTCPeerConnection}if(i){var a=null;"Chrome"===j.browser&&j.browser.version<58&&(a={optional:[{RtpDataChannels:!0}]});var s=new i({iceServers:[{urls:"stun:stun.l.google.com:19302"}]},a);if(e&&(s.addStream?s.addStream(e):s.addTrack&&e.getTracks()[0]&&s.addTrack(e.getTracks()[0],e)),s.onicecandidate=function(t){t.candidate&&c(t.candidate.candidate)},!e)try{s.createDataChannel("sctp",{})}catch(t){}j.isPromisesSupported?s.createOffer().then(function(t){s.setLocalDescription(t).then(u)}):s.createOffer(function(t){s.setLocalDescription(t,u,function(){})},function(){})}}function c(e){var i=/([0-9]{1,3}(\.[0-9]{1,3}){3})/.exec(e);if(i){var r=i[1];void 0===n[r]&&t(r),n[r]=!0}}function u(){var t=s.localDescription.sdp.split("\n");t.forEach(function(t){0===t.indexOf("a=candidate:")&&c(t)})}}(function(e){e.match(/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/)?t("Local: "+e):t("Public: "+e)},e)},j.isWebSocketsSupported="WebSocket"in window&&2===window.WebSocket.CLOSING,j.isWebSocketsBlocked=!j.isWebSocketsSupported,"Nodejs"===j.osName&&(j.isWebSocketsSupported=!0,j.isWebSocketsBlocked=!1),j.checkWebSocketsSupport=function(t){t=t||function(){};try{var e,n=new WebSocket("wss://echo.websocket.org:443/");n.onopen=function(){j.isWebSocketsBlocked=!1,e=(new Date).getTime(),n.send("ping")},n.onmessage=function(){j.WebsocketLatency=(new Date).getTime()-e+"ms",t(),n.close(),n=null},n.onerror=function(){j.isWebSocketsBlocked=!0,t()}}catch(e){j.isWebSocketsBlocked=!0,t()}},j.load=function(t){L(t=t||function(){})},j.MediaDevices=void 0!==E?E:[],j.hasMicrophone=A,j.hasSpeakers=D,j.hasWebcam=I,j.isWebsiteHasWebcamPermissions=$,j.isWebsiteHasMicrophonePermissions=M,j.audioInputDevices=P,j.audioOutputDevices=O,j.videoInputDevices=x;var Y=!1;"undefined"!=typeof document&&"function"==typeof document.createElement&&"setSinkId"in document.createElement("video")&&(Y=!0),j.isSetSinkIdSupported=Y;var Z=!1;j.browser.isFirefox&&"undefined"!=typeof mozRTCPeerConnection?"getSenders"in mozRTCPeerConnection.prototype&&(Z=!0):j.browser.isChrome&&"undefined"!=typeof webkitRTCPeerConnection&&"getSenders"in webkitRTCPeerConnection.prototype&&(Z=!0),j.isRTPSenderReplaceTracksSupported=Z;var G=!1;j.browser.isFirefox&&j.browser.version>38&&(G=!0),j.isRemoteStreamProcessingSupported=G;var K=!1;"undefined"!=typeof MediaStreamTrack&&"applyConstraints"in MediaStreamTrack.prototype&&(K=!0),j.isApplyConstraintsSupported=K;var J=!1;j.browser.isFirefox&&j.browser.version>=43&&(J=!0),j.isMultiMonitorScreenCapturingSupported=J,j.isPromisesSupported=!!("Promise"in window),j.version="1.3.6",void 0===j&&(window.DetectRTC={});var Q=window.MediaStream;void 0===Q&&"undefined"!=typeof webkitMediaStream&&(Q=webkitMediaStream),j.MediaStream=void 0!==Q&&"function"==typeof Q&&Object.keys(Q.prototype),"undefined"!=typeof MediaStreamTrack?j.MediaStreamTrack=Object.keys(MediaStreamTrack.prototype):j.MediaStreamTrack=!1;var tt=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;j.RTCPeerConnection=void 0!==tt&&Object.keys(tt.prototype),window.DetectRTC=j,t.exports=j,void 0===(r=function(){return j}.apply(e,[]))||(t.exports=r)}()}).call(this,n("8oxB"),n("yLpj"))},M1q1:function(t,e,n){"use strict";var i=n("Qvpb"),r=n("xwWy").DEFAULT_LOG_LEVEL;function o(t,e){e=Object.assign({createLocalTracks:i,logLevel:r},e);var n={};n.logLevel=e.logLevel,delete e.logLevel;var o=e.createLocalTracks;return delete e.createLocalTracks,n[t]=!(Object.keys(e).length>0)||e,o(n).then(function(t){return t[0]})}t.exports={audio:function(t){return o("audio",t)},video:function(t){return o("video",t)}}},MItk:function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var a=n("ghd6"),s=n("xwWy").typeErrors,c=n("gJbR"),u=n("Rj+V"),l=n("2NPH"),h=n("2h1k").MediaStreamTrack,d=n("TTpt"),p=n("CSzv"),f=n("deyy"),m=n("LFO1"),v=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=(i=Object.assign({LocalAudioTrack:c,LocalVideoTrack:l,LocalDataTrack:u,MediaStreamTrack:h,LocalAudioTrackPublication:p,LocalVideoTrackPublication:m,LocalDataTrackPublication:f,shouldStopLocalTracks:!1,tracks:n},i)).shouldStopLocalTracks?new Set(n.filter(function(t){return"data"!==t.kind})):new Set,o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return Object.defineProperties(o,{_LocalAudioTrack:{value:i.LocalAudioTrack},_LocalDataTrack:{value:i.LocalDataTrack},_LocalVideoTrack:{value:i.LocalVideoTrack},_MediaStreamTrack:{value:i.MediaStreamTrack},_LocalAudioTrackPublication:{value:i.LocalAudioTrackPublication},_LocalDataTrackPublication:{value:i.LocalDataTrackPublication},_LocalVideoTrackPublication:{value:i.LocalVideoTrackPublication},_tracksToStop:{value:r}}),o._handleTrackSignalingEvents(),a.deprecateEvents("LocalParticipant",o,new Map([["trackAdded",null],["trackRemoved",null]]),o._log),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,d),r(e,[{key:"_addTrack",value:function(t){var n=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_addTrack",this).call(this,t);return n&&"disconnected"!==this.state&&this._addLocalTrack(t),n}},{key:"_addLocalTrack",value:function(t){this._signaling.addTrack(t._trackSender,t.name),this._log.info("Added a new "+a.trackClass(t,!0)+":",t.id),this._log.debug(a.trackClass(t,!0)+":",t)}},{key:"_removeTrack",value:function(t){var n=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_removeTrack",this).call(this,t);return n&&"disconnected"!==this.state&&(this._signaling.removeTrack(t._trackSender),this._log.info("Removed a "+a.trackClass(t,!0)+":",t.id),this._log.debug(a.trackClass(t,!0)+":",t)),n}},{key:"_getTrackEvents",value:function(){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_getTrackEvents",this).call(this).concat([["stopped","trackStopped"]])}},{key:"toString",value:function(){return"[LocalParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"}},{key:"_handleTrackSignalingEvents",value:function(){var t=this,e=this._log;if("disconnected"!==this.state){var n=this._signaling;this.on("trackDisabled",r),this.on("trackEnabled",o),this.tracks.forEach(function(e){t._addLocalTrack(e),t._getOrCreateLocalTrackPublication(e).catch(function(){})});var i=this;n.on("stateChanged",function t(a){e.debug("Transitioned to state:",a),"disconnected"===a&&(e.debug("Removing LocalTrack event listeners"),n.removeListener("stateChanged",t),i.removeListener("trackDisabled",r),i.removeListener("trackEnabled",o),e.info("LocalParticipant disconnected. Stopping "+i._tracksToStop.size+" automatically-acquired LocalTracks"),i._tracksToStop.forEach(function(t){t.stop()}))})}function r(t){var i=n.tracks.get(t.id);i&&(i.disable(),e.debug("Disabled the "+a.trackClass(t,!0)+":",t.id))}function o(t){var i=n.tracks.get(t.id);i&&(i.enable(),e.debug("Enabled the "+a.trackClass(t,!0)+":",t.id))}}},{key:"_getOrCreateLocalTrackPublication",value:function(t){var e=g(this.trackPublications,t);if(e)return e;var n=this._log,i=this,r=this._signaling.tracks.get(t.id);if(!r)return Promise.reject(new Error("Unexpected error: The "+t+" cannot be published"));function o(t){i.unpublishTrack(t.track)}return new Promise(function(s,c){r.on("updated",function u(){var l=r.error;if(l)return r.removeListener("updated",u),n.warn("Failed to publish the "+a.trackClass(t,!0)+": "+l.message),i._removeTrack(t),setTimeout(function(){i.emit("trackPublicationFailed",l,t)}),void c(l);if(!i.tracks.has(t.id))return r.removeListener("updated",u),void c(new Error("The "+t+" was unpublished"));var h=r.sid;if(h){r.removeListener("updated",u);var d={log:n,LocalAudioTrackPublication:i._LocalAudioTrackPublication,LocalDataTrackPublication:i._LocalDataTrackPublication,LocalVideoTrackPublication:i._LocalVideoTrackPublication};(e=g(i.trackPublications,t))||(e=a.asLocalTrackPublication(t,h,o,d),i._addTrackPublication(e)),"connected"===i._signaling.state&&setTimeout(function(){i.emit("trackPublished",e)}),s(e)}})})}},{key:"addTrack",value:function(t){return this._log.deprecated("LocalParticipant#addTrack has been deprecated. Use LocalParticipant#publishTrack instead."),a.validateLocalTrack(t,{LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack}),this.tracks.has(t.id)?null:(this.publishTrack(t).catch(function(){}),this.tracks.get(t.id))}},{key:"addTracks",value:function(t){if(this._log.deprecated("LocalParticipant#addTracks has been deprecated. Use LocalParticipant#publishTracks instead."),!Array.isArray(t))throw s.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return t=t.filter(function(t){return!this.tracks.has(t.id)},this),this.publishTracks(t).catch(function(){}),t.map(function(t){return this.tracks.get(t.id)},this)}},{key:"publishTrack",value:function(t,e){var n=g(this.trackPublications,t);if(n)return Promise.resolve(n);e=Object.assign({log:this._log,LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack},e);var i=void 0;try{i=a.asLocalTrack(t,e)}catch(t){return Promise.reject(t)}return i=this._addTrack(i)||this.tracks.get(i.id),this._getOrCreateLocalTrackPublication(i)}},{key:"publishTracks",value:function(t){if(!Array.isArray(t))throw s.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return Promise.all(t.map(this.publishTrack,this))}},{key:"removeTrack",value:function(t,e){this._log.deprecated("LocalParticipant#removeTrack has been deprecated. Use LocalParticipant#unpublishTrack instead.");var n=this.unpublishTrack(t);return e="boolean"!=typeof e||e,(t=n&&n.track)&&e&&"data"!==t.kind&&(t.stop(),this._log.info("Stopped LocalTrack:",t)),t}},{key:"removeTracks",value:function(t,e){return this._log.deprecated("LocalParticipant#removeTracks has been deprecated. Use LocalParticipant#unpublishTracks instead."),e="boolean"!=typeof e||e,this.unpublishTracks(t).map(function(t){var n=t.track;return e&&"data"!==n.kind&&n.stop(),n})}},{key:"setNetworkQualityConfiguration",value:function(t){if("object"!==(void 0===t?"undefined":i(t))||null===t)throw s.INVALID_TYPE("networkQualityConfiguration","NetworkQualityConfiguration");return["local","remote"].forEach(function(e){if(e in t&&"number"!=typeof t[e])throw s.INVALID_TYPE("networkQualityConfiguration."+e,"number")}),this._signaling.setNetworkQualityConfiguration(t),this}},{key:"setParameters",value:function(t){if(void 0!==t&&"object"!==(void 0===t?"undefined":i(t)))throw s.INVALID_TYPE("encodingParameters","EncodingParameters, null or undefined");return t?["maxAudioBitrate","maxVideoBitrate"].forEach(function(e){if(void 0!==t[e]&&"number"!=typeof t[e]&&null!==t[e])throw s.INVALID_TYPE("encodingParameters."+e,"number, null or undefined")}):null===t&&(t={maxAudioBitrate:null,maxVideoBitrate:null}),this._signaling.setParameters(t),this}},{key:"unpublishTrack",value:function(t){a.validateLocalTrack(t,{LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack});var e=this.tracks.get(t.id);if(!e)return null;this._signaling.tracks.get(e.id).publishFailed(new Error("The "+e+" was unpublished"));var n=g(this.trackPublications,e);return this._removeTrack(e),n&&this._removeTrackPublication(n),n}},{key:"unpublishTracks",value:function(t){var e=this;if(!Array.isArray(t))throw s.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return t.reduce(function(t,n){var i=e.unpublishTrack(n);return i?t.concat(i):t},[])}}]),e}();function g(t,e){return Array.from(t.values()).find(function(t){return t.track===e||t.track.mediaStreamTrack===e})||null}t.exports=v},Mibz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=function(){return function(t){var e=this;this.$wrapper=i(t),this._forms=i(t).find(".payment-form"),this.$submitter=i(t).find("[payment-forms-submitter]"),this.$submitter.on("click",function(t){t.preventDefault(),e._forms.filter(":visible").first().trigger("submit")}),this._forms.on("hc:form:blocked",function(){e.$submitter.prop("disabled",!0)}),this._forms.on("hc:form:free",function(){e.$submitter.prop("disabled",!1)})}}();i(document).on("hc:ready",function(t,e){t.preventDefault(),i(e||document).find("[payment-forms]").each(function(t,e){return new r(e)})})},"Mkr/":function(t,e,n){"use strict";t.exports=function(t){var e;((e=function(e,n,i,r){var o=i;if(void 0===i)throw new TypeError("Not enough arguments");if(this.ua=e,this.logger=e.getLogger("sip.clientcontext"),this.method=n,!(i=e.normalizeTarget(i)))throw new TypeError("Invalid target: "+o);(r=Object.create(r||Object.prototype)).extraHeaders=(r.extraHeaders||[]).slice(),this.request=new t.OutgoingRequest(this.method,i,this.ua,r.params,r.extraHeaders),r.body&&(this.body={},this.body.body=r.body,r.contentType&&(this.body.contentType=r.contentType),this.request.body=this.body),this.localIdentity=this.request.from,this.remoteIdentity=this.request.to,this.data={}}).prototype=Object.create(t.EventEmitter.prototype)).send=function(){return new t.RequestSender(this,this.ua).send(),this},e.prototype.cancel=function(e){(e=e||{}).extraHeaders=(e.extraHeaders||[]).slice();var n=t.Utils.getCancelReason(e.status_code,e.reason_phrase);this.request.cancel(n,e.extraHeaders),this.emit("cancel")},e.prototype.receiveResponse=function(e){var n=t.Utils.getReasonPhrase(e.status_code);switch(!0){case/^1[0-9]{2}$/.test(e.status_code):this.emit("progress",e,n);break;case/^2[0-9]{2}$/.test(e.status_code):this.ua.applicants[this]&&delete this.ua.applicants[this],this.emit("accepted",e,n);break;default:this.ua.applicants[this]&&delete this.ua.applicants[this],this.emit("rejected",e,n),this.emit("failed",e,n)}},e.prototype.onRequestTimeout=function(){this.emit("failed",null,t.C.causes.REQUEST_TIMEOUT)},e.prototype.onTransportError=function(){this.emit("failed",null,t.C.causes.CONNECTION_ERROR)},t.ClientContext=e}},NCuz:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("+qE3").EventEmitter,o=n("ghd6").buildLogLevels,a=n("xwWy").DEFAULT_LOG_LEVEL,s=n("S3Hu"),c=0,u=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=Object.assign({name:t,log:null,logLevel:a},i);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),u=String(i.name),l=o(i.logLevel),h=i.log?i.log.createLog("media",r):new s("media",r,l);return Object.defineProperties(r,{_id:{value:t},_instanceId:{value:++c},_log:{value:h},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:u}}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"id",get:function(){return this._id}}]),e}();t.exports=u},NOtv:function(t,e,n){(function(i){function r(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==i&&"env"in i&&(t=Object({NODE_ENV:"production"}).DEBUG),t}(e=t.exports=n("lv48")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))}),t.splice(o,0,i)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=r,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(r())}).call(this,n("8oxB"))},NSCw:function(t,e,n){"use strict";t.exports=function t(e){var n=e.actual,i=void 0===n?null:n,r=e.available,o=void 0===r?null:r,a=e.level,s=void 0===a?null:a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{actual:{value:i,enumerable:!0},available:{value:o,enumerable:!0},level:{value:s,enumerable:!0}})}},NXBa:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("akGs"),o=n("HNKe"),a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.id,t,n));return Object.defineProperties(i,{lastReport:{enumerable:!0,value:null,writable:!0}}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"next",value:function(t,e,n){var i=this.lastStats;this.lastStats=e,this.trackId=t;var r=o.of(t,i,e,n);return this.lastReport=r,r}}]),e}();t.exports=a},NgY6:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=n("GinS"),s=o,c=function(t){function e(e,n){var i=t.call(this,e)||this;return i._manager=n,s(i).on("hc:valueUpdated",function(){""===i.getValue()&&i._canBeDeleted()&&i.delete(),s(i._manager).trigger("hc:valueUpdated")}),i}return r(e,t),e.prototype.checkEraser=function(){this._canBeDeleted()?this.$eraser.addClass("active"):this.$eraser.removeClass("active")},e.prototype.delete=function(){this._manager.removeSelector(this),this.$wrapper.remove()},e.prototype._canBeDeleted=function(){return this._manager.selectorCanBeDeleted()},e}(a.Autocomplete),u=function(){function t(t){this.$wrapper=s(t),this.tpl=s(t).find(".selector-template").html(),this.$selectorsWrapper=s(t).find(".selectors"),this.$input=s(t).children('input[type="hidden"]'),this._selectors=[],this._init(),this._applyEvents()}return t.prototype.selectorCanBeCreated=function(){return 0===this._selectors.filter(function(t){return""===t.getValue()}).length},t.prototype.selectorCanBeDeleted=function(){return this._selectors.length>1},t.prototype.removeSelector=function(t){this._selectors=this._selectors.filter(function(e){return e!==t})},t.prototype._init=function(){var t=this;this.$selectorsWrapper.data("associated")&&this.$selectorsWrapper.data("associated").map(function(e){t._createSelector(e)})},t.prototype._createSelector=function(t){if(!1!==this.selectorCanBeCreated()){void 0===t&&(t={index:"",value:""});var e=s("<div>").html(this.tpl.replace(/%index%/gi,t.index).replace(/%value%/gi,t.value)).find(".autocomplete-wrapper");this.$selectorsWrapper.append(e);var n=new c(e,this);this._selectors.push(n),this._updateSelectors()}},t.prototype._updateSelectors=function(){this._selectors.map(function(t){return t.checkEraser()})},t.prototype._updateValue=function(){var t=[];this._selectors.map(function(e){""!==e.getValue()&&t.push(e.getValue())}),this._updateSelectors(),this.$input.val(t.join(","))},t.prototype._applyEvents=function(){var t=this;s(this).on("hc:valueUpdated",function(){return t._updateValue()}),this.$wrapper.on("click",".speciality-adder",function(e){t._createSelector()})},t}();s(document).on("hc:ready",function(t,e){t.preventDefault(),s(e||document).find("[speciality-selector]").each(function(t,e){return new u(e)})})},O22K:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("uBG5"),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.id,t));return Object.defineProperties(n,{_senders:{value:new Set}}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"addSender",value:function(t){return this._senders.add(t),this}},{key:"removeSender",value:function(t){return this._senders.delete(t),this}}]),e}();t.exports=o},P7XM:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},PvLD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,o=n("EVdn");i=o,r=function(){return function(t){var e=this;this.$card=i(t),this._url=i(t).find("h2 a").attr("href"),this.$card.on("click",".agenda, button",function(t){return t.stopPropagation()}),this.$card.on("click",function(){return window.location.href=e._url})}}(),i(document).on("hc:ready",function(t,e){t.preventDefault(),i(e||document).find(".directory .professional-card").each(function(t,e){return new r(e)})})},"Q/1B":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=n("gFX4"),o=function(){function t(){this._listeners=[],this._listnersAttachment=[],this._config=i("body").data("socket")||{},this._config.name&&(this._socket=r(this._config.url+"/user",{secure:!0,forceNew:!1}),this._registerEvents())}return t.prototype._connect=function(){this._socket.emit("register",{key:this._config.name,statusUrls:this._config.statusUrls}),this._activeRoom&&this._socket.emit("appointment:join",this._activeRoom)},t.prototype._joinRoom=function(t,e){this._activeRoom={roomId:t,urls:this._config.roomUrls,expectedParticipant:2,waitingTime:e},this._socket.emit("appointment:join",this._activeRoom)},t.prototype._registerEvents=function(){var t=this;this._socket.on("connect",function(){return t._connect()}),this._socket.on("notification:new",function(e){t._listeners.map(function(t){return t.process(e)})}),this._socket.on("notification:room:attachment:new",function(e){t._listnersAttachment.map(function(t){return t.process(e)})}),this._socket.on("appointment:start",function(){return i(document).trigger("hc:room:start")}),this._socket.on("appointment:interrupted",function(){return i(document).trigger("hc:room:interrupted")}),this._socket.on("appointment:resume",function(){return i(document).trigger("hc:room:resume")}),this._socket.on("appointment:ended",function(){return i(document).trigger("hc:room:ended")}),i(document).on("hc:notification:listener",function(e,n){t._listeners.push(n)}),i(document).on("hc:notification:room:attachment:listener",function(e,n){t._listnersAttachment.push(n)}),i(document).on("hc:professional:status:changed",function(e,n,i){t._socket.emit("status:changed",n,i)}),i(document).on("hc:appointment:join",function(e,n,i){return t._joinRoom(n,i)}),i(document).on("hc:appointment:requestEnd",function(){return t._socket.emit("appointment:requestEnd")}),i(document).trigger("hc:ws:ready")},t}();i(document).ready(function(){return new o})},QB7E:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var o=n("EYe3"),a=n("Ye3u"),s=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=Object.assign({LocalTrackPublicationV2:a},i);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Object.defineProperties(r,{_encodingParameters:{value:t},_removeListeners:{value:new Map},_LocalTrackPublicationV2:{value:i.LocalTrackPublicationV2},_publishedRevision:{writable:!0,value:0},_revision:{writable:!0,value:1},networkQualityConfiguration:{enumerable:!0,value:n},revision:{enumerable:!0,get:function(){return this._revision}}}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),i(e,[{key:"setParameters",value:function(t){return this._encodingParameters.update(t),this}},{key:"update",value:function(t){return this._publishedRevision>=t.revision?this:(this._publishedRevision=t.revision,t.tracks.forEach(function(t){var e=this.tracks.get(t.id);e&&e.update(t)},this),this)}},{key:"addTrack",value:function(t,n){var i=this,o=new this._LocalTrackPublicationV2(t,n);r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addTrack",this).call(this,o);var a=o.sid,s=function(){a!==o.sid?a=o.sid:i.didUpdate()};return o.on("updated",s),this._removeListener(o),this._removeListeners.set(o,function(){return o.removeListener("updated",s)}),this.didUpdate(),this}},{key:"_removeListener",value:function(t){var e=this._removeListeners.get(t);e&&e()}},{key:"getState",value:function(){return{revision:this.revision,tracks:Array.from(this.tracks.values()).map(function(t){return t.getState()})}}},{key:"didUpdate",value:function(){this._revision++,this.emit("updated")}},{key:"removeTrack",value:function(t){var n=this.tracks.get(t.id);if(!n)return!1;var i=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeTrack",this).call(this,n);return i&&(this._removeListener(n),this.didUpdate()),i}},{key:"setNetworkQualityConfiguration",value:function(t){this.networkQualityConfiguration.update(t)}}]),e}();t.exports=s},QH9v:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("UpXp"),o=n("ghd6").makeUUID,a=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o(),t,n,i));return Object.defineProperties(r,{_dataChannels:{value:new Set}}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"addDataChannel",value:function(t){return this._dataChannels.add(t),this}},{key:"removeDataChannel",value:function(t){return this._dataChannels.delete(t),this}},{key:"send",value:function(t){return this._dataChannels.forEach(function(e){try{e.send(t)}catch(t){}}),this}}]),e}();t.exports=a},QN7Q:function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}},QN8C:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=n("RbzC"),s=o,c=function(t){function e(e){var n=t.call(this)||this;return n.$el=s(e),n.$wrapper=n.$el.closest(".location"),n.$place=n.$wrapper.find("#search-place"),n.$el.on("click",function(t){t.preventDefault(),t.stopPropagation(),n.$wrapper.find("span").remove(),n._init()}),n}return r(e,t),e.prototype._init=function(){var t=this;this.getCity(this.$wrapper).then(function(e){t.$place.val(e.city),s(document).trigger("hc:map:setview",[e.coords[1],e.coords[0]])})},e}(a.Geolocation);e.Locator=c,s(document).on("hc:ready",function(t,e){t.preventDefault(),s(e||document).find("a[locator]").each(function(t,e){return new c(e)})})},"QZ+v":function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=n("Xiox"),s=o,c=function(t){function e(e){var n=t.call(this)||this;return n._modalSuffix=s(e).attr("modal-request"),s(e).on("click",function(t){return n._request(t,s(e).attr("href"))}),n}return r(e,t),e.prototype._request=function(t,e){var n=this;t.preventDefault(),t.stopPropagation(),void 0===s(t.target).attr("disabled")&&s.ajax({url:e,method:"GET",dataType:"html"}).done(function(t){return n._openModal(t)}).fail(function(){return n._openFailedModal()})},e}(a.ModalManager);e.ModalLink=c,s(document).on("hc:ready",function(t,e){t.preventDefault();var n=s(e||document);n.find("a[modal-request]").each(function(t,e){return new c(e)}),n.on("hc:modalLink:refresh",function(){n.find("a[modal-request]").each(function(t,e){return new c(e)})})})},Qvpb:function(t,e,n){"use strict";var i=n("ghd6").asLocalTrack,r=n("ghd6").buildLogLevels,o=n("2h1k").getUserMedia,a=n("gJbR"),s=n("Rj+V"),c=n("2NPH"),u=n("2h1k").MediaStreamTrack,l=n("S3Hu"),h=n("xwWy").DEFAULT_LOG_LEVEL,d=n("cV4H"),p=0;t.exports=function(t){var e=!(t&&("audio"in t||"video"in t));t=Object.assign({audio:e,getUserMedia:o,logLevel:h,LocalAudioTrack:a,LocalDataTrack:s,LocalVideoTrack:c,MediaStreamTrack:u,Log:l,video:e},t);var n="[createLocalTracks #"+ ++p+"]",f=r(t.logLevel),m=new t.Log("default",n,f),v=Object.assign({log:m},t);if(delete v.name,!1===t.audio&&!1===t.video)return m.info("Neither audio nor video requested, so returning empty LocalTracks"),Promise.resolve([]);if(t.tracks)return m.info("Adding user-provided LocalTracks"),m.debug("LocalTracks:",t.tracks),Promise.resolve(t.tracks);var g={audio:t.audio&&t.audio.name?{name:t.audio.name}:{},video:t.video&&t.video.name?{name:t.video.name}:{}};t.audio&&delete t.audio.name,t.video&&delete t.video.name;var _={audio:t.audio,video:t.video};return(t.audio&&t.audio.workaroundWebKitBug180748?d(m,t.getUserMedia,_):t.getUserMedia(_)).then(function(t){var e=t.getAudioTracks().concat(t.getVideoTracks());return m.info("Call to getUserMedia successful; got MediaStreamTracks:",e),e.map(function(t){return i(t,Object.assign(g[t.kind],v))})},function(t){throw m.warn("Call to getUserMedia failed:",t),t})}},ROvb:function(t,e,n){"use strict";var i=n("2h1k").RTCSessionDescription,r=n("9dY8").createPtToCodecName,o=n("9dY8").getMediaSections;function a(t){var e=r(t);t=function(t,e){return Array.from(e.keys()).reduce(function(t,n){var i=new RegExp("^a=rtpmap:"+n+" rtx.+$","gm");return(t.match(i)||[]).slice("rtx"===e.get(n)?1:0).reduce(function(t,e){var i=new RegExp("\r\n"+e),r=new RegExp("\r\na=fmtp:"+n+" apt=[0-9]+");return t.replace(i,"").replace(r,"")},t)},t)}(t,e);var n=function(t){var e=new Map;return t.forEach(function(t,n){var i=e.get(t)||new Set;return e.set(t,i.add(n))}),e}(e),i=n.get("rtx")||new Set,o=new Set,a=function(t,e){var n=Array.from(t).reduce(function(t,e){var n=e[0],i=e[1],r=t.get(i)||new Set;return t.set(i,r.add(n))},new Map);return Array.from(n).reduce(function(t,n){var i=n[0],r=Array.from(n[1]);return r.length>1?(r.forEach(function(t){e.add(t)}),t):t.set(i,r[0])},new Map)}(function(t,e,n,i){return Array.from(n).reduce(function(n,r){var o=new RegExp("a=fmtp:"+r+" apt=(\\d+)"),a=t.match(o);if(!a)return i.add(r),n;var s=Number.parseInt(a[1]);if(!e.has(s))return i.add(r),n;var c=e.get(s);return"rtx"===c?(i.add(r),n):n.set(r,s)},new Map)}(t,e,i,o),o),c=Array.from(o);return["h264","vp8","vp9"].reduce(function(t,e){var i=n.get(e)||new Set;return Array.from(i).reduce(function(t,e){return a.has(e)?t:t.add(e)},t)},new Set).forEach(function(e){if(c.length){var n=c.shift();t=function(t,e,n){return t.endsWith("\r\n")?t+"a=fmtp:"+e+" apt="+n+"\r\n":t+"\r\na=fmtp:"+e+" apt="+n}(t=s(t,n),n,e)}}),c.forEach(function(e){t=function(t,e){var n=new RegExp("a=rtpmap:"+e+".*\r\n","gm");return t.replace(n,"")}(t=s(t,e),e)}),t}function s(t,e){var n=new RegExp("a=fmtp:"+e+".*\r\n","gm");return t.replace(n,"")}t.exports=function(t){var e,n,r={type:t.type};return"rollback"!==t.type&&(r.sdp=(e=t.sdp,n=o(e),[e.split("\r\nm=")[0]].concat(n.map(a)).join("\r\n"))),new i(r)}},RbzC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=function(){return function(){var t=this;this.getCity=function(e){return new Promise(function(n,r){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(r){i.getJSON("https://api.mapbox.com/geocoding/v5/mapbox.places/"+r.coords.longitude+","+r.coords.latitude+".json?access_token="+t.accessToken).done(function(t){n({city:t.features.find(function(t){return"place"===t.place_type[0]}).text,coords:t.query})}).fail(function(t){i("<span>").text(i("body").data("text")["error-map-position"]).appendTo(e)})},function(t){i("<span>").text(i("body").data("text")["error-map-position"]).appendTo(e)}):i("<span>").text(i("body").data("text")["error-map-geolocation"]).appendTo(e)})},this.getCoords=function(e){return new Promise(function(n,r){i.getJSON("https://api.mapbox.com/geocoding/v5/mapbox.places/"+e.place+".json?access_token="+t.accessToken).done(function(t){n(t.features[0])})})},this.accessToken=i("#map").data("token")}}();e.Geolocation=r},"Rj+V":function(t,e,n){"use strict";var i=n("7tlc").inherits,r=n("z1nD");function o(t){var e=new r(t);return Object.setPrototypeOf(e,o.prototype),e}i(o,r),t.exports=o},S3Hu:function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=n("xwWy").DEFAULT_LOG_LEVEL,a=n("xwWy").typeErrors,s=void 0;var c=function(){function t(e,n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e)throw a.INVALID_TYPE("moduleName","string");if(!n)throw a.REQUIRED_ARGUMENT("component");"object"!==(void 0===r?"undefined":i(r))&&(r={}),p(r),Object.defineProperties(this,{_component:{value:n},_logLevels:{value:r},_warnings:{value:new Set},logLevel:{get:function(){return t.getLevelByName(r[e]||o)}},name:{get:n.toString.bind(n)}})}return r(t,[{key:"createLog",value:function(e,n){return new t(e,n,this._logLevels)}},{key:"setLevels",value:function(t){return p(t),Object.assign(this._logLevels,t),this}},{key:"log",value:function(e,n){var i=t._levels[e];if(!i)throw a.INVALID_VALUE("logLevel",l);if(this.logLevel<=e){var r=i.name,o=(new Date).toISOString().split("T").concat(["|",r,"in",this.name+":"]);i.logFn.apply(console,o.concat(n))}return this}},{key:"debug",value:function(){return this.log(t.DEBUG,[].slice.call(arguments))}},{key:"deprecated",value:function(t){var e=function(t){if((s=s||new Map).has(t))return s.get(t);var e=new Set;return s.set(t,e),e}(this._component.constructor);return e.has(t)?this:(e.add(t),this.warn(t))}},{key:"info",value:function(){return this.log(t.INFO,[].slice.call(arguments))}},{key:"warn",value:function(){return this.log(t.WARN,[].slice.call(arguments))}},{key:"warnOnce",value:function(t){return this._warnings.has(t)?this:(this._warnings.add(t),this.warn(t))}},{key:"error",value:function(){return this.log(t.ERROR,[].slice.call(arguments))}},{key:"throw",value:function(e,n){throw e.clone&&(e=e.clone(n)),this.log(t.ERROR,e),e}}],[{key:"getLevelByName",value:function(e){return isNaN(e)?(d(e=e.toUpperCase()),t[e]):parseInt(e,10)}}]),t}();Object.defineProperties(c,{DEBUG:{value:0},INFO:{value:1},WARN:{value:2},ERROR:{value:3},OFF:{value:4},_levels:{value:[{name:"DEBUG",logFn:console.log},{name:"INFO",logFn:console.info},{name:"WARN",logFn:console.warn},{name:"ERROR",logFn:console.error},{name:"OFF",logFn:function(){}}]}});var u={},l=[],h=c._levels.map(function(t,e){return u[t.name]=!0,l.push(e),t.name});function d(t){if(!(t in u))throw a.INVALID_VALUE("level",h)}function p(t){Object.keys(t).forEach(function(e){d(t[e].toUpperCase())})}t.exports=c},"SAu+":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=[].slice.call(arguments,1),r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(i)))),o=Error.apply(r,i);return o.name="TwilioError",Object.defineProperty(r,"code",{value:t,enumerable:!0}),Object.getOwnPropertyNames(o).forEach(function(t){Object.defineProperty(this,t,{value:o[t],enumerable:!0})},r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,Error),i(e,[{key:"toString",value:function(){var t=this.message?": "+this.message:"";return this.name+" "+this.code+t}}]),e}();t.exports=r},STyX:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{availableSend:{enumerable:!0,value:i},recv:{enumerable:!0,value:n},rtt:{enumerable:!0,value:r},send:{enumerable:!0,value:e}})}return i(t,null,[{key:"of",value:function(e,n){var i=(n.timestamp-e.timestamp)/1e3,r=n.bytesSent-e.bytesSent,o=n.bytesReceived-e.bytesReceived;return new t(i>0?r/i*8:0,i>0?o/i*8:0,n.availableOutgoingBitrate,n.currentRoundTripTime)}}]),t}();t.exports=r},Sgbe:function(t,e,n){"use strict";var i=n("+qE3").EventEmitter;t.exports=function(t){function e(){i.call(this)}return e.prototype=Object.create(i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),e.prototype.off=function(e,n){return"SIP.EventEmitter#off is deprecated and may be removed in future SIP.js versions.\n","Please use removeListener or removeAllListeners instead.\n","See here for more details:\n","http://nodejs.org/api/events.html#events_emitter_removelistener_event_listener",t.warn("SIP.EventEmitter#off is deprecated and may be removed in future SIP.js versions.\nPlease use removeListener or removeAllListeners instead.\nSee here for more details:\nhttp://nodejs.org/api/events.html#events_emitter_removelistener_event_listener"),arguments.length<2?this.removeAllListeners.apply(this,arguments):this.removeListener(e,n)},e}},SmKZ:function(t,e,n){"use strict";t.exports=function(t){var e;return(e=function(n,i,r){var o,a;if(void 0===i)throw new TypeError("Not enough arguments");if(this.logger=n.ua.getLogger("sip.invitecontext.dtmf",n.id),this.owner=n,this.direction=null,o=(r=r||{}).duration||null,a=r.interToneGap||null,"string"==typeof i)i=i.toUpperCase();else{if("number"!=typeof i)throw new TypeError("Invalid tone: "+i);i=i.toString()}if(!i.match(/^[0-9A-D#*]$/))throw new TypeError("Invalid tone: "+i);if(this.tone=i,o&&!t.Utils.isDecimal(o))throw new TypeError("Invalid tone duration: "+o);if(o?o<e.C.MIN_DURATION?(this.logger.warn('"duration" value is lower than the minimum allowed, setting it to '+e.C.MIN_DURATION+" milliseconds"),o=e.C.MIN_DURATION):o>e.C.MAX_DURATION?(this.logger.warn('"duration" value is greater than the maximum allowed, setting it to '+e.C.MAX_DURATION+" milliseconds"),o=e.C.MAX_DURATION):o=Math.abs(o):o=e.C.DEFAULT_DURATION,this.duration=o,a&&!t.Utils.isDecimal(a))throw new TypeError("Invalid interToneGap: "+a);a?a<e.C.MIN_INTER_TONE_GAP?(this.logger.warn('"interToneGap" value is lower than the minimum allowed, setting it to '+e.C.MIN_INTER_TONE_GAP+" milliseconds"),a=e.C.MIN_INTER_TONE_GAP):a=Math.abs(a):a=e.C.DEFAULT_INTER_TONE_GAP,this.interToneGap=a}).prototype=Object.create(t.EventEmitter.prototype),e.prototype.send=function(e){var n,i={};if(this.direction="outgoing",this.owner.status!==t.Session.C.STATUS_CONFIRMED&&this.owner.status!==t.Session.C.STATUS_WAITING_FOR_ACK)throw new t.Exceptions.InvalidStateError(this.owner.status);n=(e=e||{}).extraHeaders?e.extraHeaders.slice():[],i.contentType="application/dtmf-relay",i.body="Signal= "+this.tone+"\r\n",i.body+="Duration= "+this.duration,this.request=this.owner.dialog.sendRequest(this,t.C.INFO,{extraHeaders:n,body:i}),this.owner.emit("dtmf",this.request,this)},e.prototype.receiveResponse=function(e){var n;switch(!0){case/^1[0-9]{2}$/.test(e.status_code):break;case/^2[0-9]{2}$/.test(e.status_code):this.emit("succeeded",{originator:"remote",response:e});break;default:n=t.Utils.sipErrorCause(e.status_code),this.emit("failed",e,n)}},e.prototype.onRequestTimeout=function(){this.emit("failed",null,t.C.causes.REQUEST_TIMEOUT),this.owner.onRequestTimeout()},e.prototype.onTransportError=function(){this.emit("failed",null,t.C.causes.CONNECTION_ERROR),this.owner.onTransportError()},e.prototype.onDialogError=function(e){this.emit("failed",e,t.C.causes.DIALOG_ERROR),this.owner.onDialogError(e)},e.prototype.init_incoming=function(t){this.direction="incoming",this.request=t,t.reply(200),this.tone&&this.duration?this.owner.emit("dtmf",t,this):this.logger.warn("invalid INFO DTMF received, discarded")},e.C={MIN_DURATION:70,MAX_DURATION:6e3,DEFAULT_DURATION:100,MIN_INTER_TONE_GAP:50,DEFAULT_INTER_TONE_GAP:500},e}},Sz1H:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=function(){return function(t){var e=i(t).find(".all-days input"),n=i(t).find('.days input[type="checkbox"]');e.on("change",function(){n.each(function(t,n){return i(n).prop("checked",e.prop("checked"))}),n.trigger("hc:change")}),n.on("change",function(t){var r=!0;n.each(function(t,e){return r=r&&i(e).prop("checked")}),e.prop("checked",r),e.trigger("hc:change")})}}(),o=function(){function t(t){var e=this;this.$field=i(t),this._name=this.$field.data("linked-field"),""!==this._name&&this.$field.on("change",function(){return e._update()})}return t.prototype._update=function(){var t=this;i('[data-linked-field="'+this._name+'"]').each(function(e,n){n!==t.$field.get(0)&&i(n).val(t.$field.val()).trigger("hc:change")})},t}();i(document).on("hc:ready",function(t,e){t.preventDefault();var n=i(e||document);n.find(".days-wrapper").each(function(t,e){return new r(e)}),n.find("[data-linked-field]").each(function(t,e){return new o(e)})})},T3m5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=function(){function t(t){var e=this,n=i("body").data("calendar").google;void 0!==gapi&&gapi.load("client:auth2",function(){return e._init(n)}),this.$el=i(t)}return t.prototype._init=function(t){var e=this;gapi.client.init({apiKey:t.apiKey,clientId:t.clientId,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scope:"https://www.googleapis.com/auth/calendar"}).then(function(){gapi.auth2.getAuthInstance().isSignedIn.listen(function(t){return e._signInStatus=t}),e._signInStatus=gapi.auth2.getAuthInstance().isSignedIn.get(),i(document).on("hc:agenda:google",function(){return e._add(i(e.$el))})}).catch(function(t){i(document).on("hc:agenda:google",function(t){t.preventDefault(),t.stopPropagation()})})},t.prototype._add=function(t){var e=this;if(!1!==this._signInStatus){var n=JSON.parse(t.attr("google-calendar")),r={summary:n.title||"rdv",description:n.description||"",start:{dateTime:new Date(n.start)},end:{dateTime:new Date(n.end)}};gapi.client.calendar.events.insert({calendarId:"primary",resource:r}).execute(function(t){"confirmed"===t.status?i(document).find(".success-block").show():i(document).find(".error-block").show()})}else gapi.auth2.getAuthInstance().signIn().then(function(){return window.setTimeout(function(){return e._add(t)},1)}).catch(function(){return null})},t}();i(document).on("hc:ready",function(t,e){t.preventDefault(),i(e||document).find('[value="google"]').each(function(t,e){return new r(e)})})},TM7a:function(t,e,n){"use strict";t.exports=function(t,e,n){n="number"==typeof n?n:250;var i=t.createMediaStreamSource(e),r=t.createAnalyser();r.fftSize=2048,i.connect(r);var o=new Uint8Array(r.fftSize),a=!1;return setTimeout(function(){a=!0},n),function t(){return a?Promise.resolve(!0):(r.getByteTimeDomainData(o),o.some(function(t){return t})?Promise.resolve(!1):(e="number"==typeof e?e:0,new Promise(function(t){return setTimeout(t,e)})).then(t));var e}().then(function(t){return i.disconnect(),t},function(t){throw i.disconnect(),t})}},TTpt:function(t,e,n){"use strict";var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=n("6frX"),a=n("8vSI"),s=n("Vh62"),c=n("m8+h"),u=n("Ds+w"),l=n("6vXP"),h=n("+qE3").EventEmitter,d=n("ghd6"),p=0,f=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),r=function(t){var e=t.map(function(t){return[t._id,t]}),n=e.filter(function(t){return"audio"===t[1].kind}),i=e.filter(function(t){return"video"===t[1].kind}),r=e.filter(function(t){return"data"===t[1].kind});return{audioTracks:n,dataTracks:r,tracks:e,videoTracks:i}}((n=Object.assign({RemoteAudioTrack:o,RemoteAudioTrackPublication:a,RemoteDataTrack:s,RemoteDataTrackPublication:c,RemoteVideoTrack:u,RemoteVideoTrackPublication:l,tracks:[]},n)).tracks),h=n.log.createLog("default",i),d=new Map(r.audioTracks),f=new Map(r.dataTracks),v=new Map(r.tracks),g=new Map(r.videoTracks);return Object.defineProperties(i,{_RemoteAudioTrack:{value:n.RemoteAudioTrack},_RemoteAudioTrackPublication:{value:n.RemoteAudioTrackPublication},_RemoteDataTrack:{value:n.RemoteDataTrack},_RemoteDataTrackPublication:{value:n.RemoteDataTrackPublication},_RemoteVideoTrack:{value:n.RemoteVideoTrack},_RemoteVideoTrackPublication:{value:n.RemoteVideoTrackPublication},_instanceId:{value:++p},_log:{value:h},_signaling:{value:t},_trackEventReemitters:{value:new Map},_trackPublicationEventReemitters:{value:new Map},_trackSignalingUpdatedEventCallbacks:{value:new Map},audioTracks:{enumerable:!0,value:d},audioTrackPublications:{enumerable:!0,value:new Map},dataTracks:{enumerable:!0,value:f},dataTrackPublications:{enumerable:!0,value:new Map},identity:{enumerable:!0,get:function(){return t.identity}},networkQualityLevel:{enumerable:!0,get:function(){return t.networkQualityLevel}},networkQualityStats:{enumerable:!0,get:function(){return t.networkQualityStats}},sid:{enumerable:!0,get:function(){return t.sid}},state:{enumerable:!0,get:function(){return t.state}},tracks:{enumerable:!0,value:v},trackPublications:{enumerable:!0,value:new Map},videoTracks:{enumerable:!0,value:g},videoTrackPublications:{enumerable:!0,value:new Map}}),i.tracks.forEach(m.bind(null,i)),t.on("networkQualityLevelChanged",function(){return i.emit("networkQualityLevelChanged",i.networkQualityLevel,i.networkQualityStats&&(i.networkQualityStats.audio||i.networkQualityStats.video)?i.networkQualityStats:null)}),function(t,e){var n=t._log;if("disconnected"===t.state)return;e.on("stateChanged",function i(r){n.debug("Transitioned to state:",r),t.emit(r,t),"disconnected"===r&&(n.debug("Removing Track event reemitters"),e.removeListener("stateChanged",i),t.tracks.forEach(function(e){t._trackEventReemitters.get(e._id).forEach(function(t,n){e.removeListener(n,t)})}),t._trackEventReemitters.clear(),t.trackPublications.forEach(function(e){t._trackPublicationEventReemitters.get(e.trackSid).forEach(function(t,n){e.removeListener(n,t)})}),t._trackPublicationEventReemitters.clear())})}(i,t),h.info("Created a new Participant"+(i.identity?": "+i.identity:"")),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,h),r(e,[{key:"_getTrackEvents",value:function(){return[["dimensionsChanged","trackDimensionsChanged"],["disabled","trackDisabled"],["enabled","trackEnabled"],["message","trackMessage"],["started","trackStarted"]]}},{key:"_getTrackPublicationEvents",value:function(){return[]}},{key:"toString",value:function(){return"[Participant #"+this._instanceId+": "+this.sid+"]"}},{key:"_addTrack",value:function(t){var e=this._log;return this.tracks.has(t._id)?null:(this.tracks.set(t._id,t),{audio:this.audioTracks,video:this.videoTracks,data:this.dataTracks}[t.kind].set(t._id,t),m(this,t),e.info("Added a new "+d.trackClass(t)+":",t._id),e.debug(d.trackClass(t)+":",t),this.emit("trackAdded",t),t)}},{key:"_addTrackPublication",value:function(t){var e=this._log;return this.trackPublications.has(t.trackSid)?null:(this.trackPublications.set(t.trackSid,t),{audio:this.audioTrackPublications,data:this.dataTrackPublications,video:this.videoTrackPublications}[t.kind].set(t.trackSid,t),function(t,e){var n=new Map;if("disconnected"===t.state)return;t._getTrackPublicationEvents().forEach(function(r){var o=i(r,2),a=o[0],s=o[1];n.set(a,function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];t.emit.apply(t,[s].concat(i,[e]))}),e.on(a,n.get(a))}),t._trackPublicationEventReemitters.set(e.trackSid,n)}(this,t),e.info("Added a new "+d.trackPublicationClass(t)+":",t.trackSid),e.debug(d.trackPublicationClass(t)+":",t),t)}},{key:"_handleTrackSignalingEvents",value:function(){var t=this._log,e=this;if("disconnected"!==this.state){var n=this._RemoteAudioTrack,i=this._RemoteAudioTrackPublication,r=this._RemoteVideoTrack,o=this._RemoteVideoTrackPublication,a=this._RemoteDataTrack,s=this._RemoteDataTrackPublication,c=this._signaling;c.on("trackAdded",u),c.on("trackRemoved",l),c.tracks.forEach(u),c.on("stateChanged",function e(n){"disconnected"===n&&(t.debug("Removing event listeners"),c.removeListener("stateChanged",e),c.removeListener("trackAdded",u),c.removeListener("trackRemoved",l))})}function u(n){var r=new(0,{audio:i,data:s,video:o}[n.kind])(n,{log:t});e._addTrackPublication(r);var a=n.isSubscribed;a&&h(n),e._trackSignalingUpdatedEventCallbacks.set(n.sid,function(){if(a!==n.isSubscribed){if(a=n.isSubscribed)return void h(n);!function(t){var n=d.flatMap(e.tracks).find(function(e){return e.sid===t.sid}),i=e.trackPublications.get(t.sid);n&&e._removeTrack(n,i)}(n)}}),n.on("updated",e._trackSignalingUpdatedEventCallbacks.get(n.sid))}function l(t){t.isSubscribed&&t.setTrackTransceiver(null);var n=e._trackSignalingUpdatedEventCallbacks.get(t.sid);n&&(t.removeListener("updated",n),e._trackSignalingUpdatedEventCallbacks.delete(t.id));var i=e.trackPublications.get(t.sid);i&&e._removeTrackPublication(i)}function h(i){var o={audio:n,video:r,data:a}[i.kind],s=e.trackPublications.get(i.sid),c=i.trackTransceiver;if(o&&i.kind===c.kind){var u="data"===i.kind?new o(c,{log:t,name:i.name}):new o(c,i.isEnabled,{log:t,name:i.name});e._addTrack(u,s)}}}},{key:"_deleteTrack",value:function(t){this.tracks.delete(t._id),{audio:this.audioTracks,video:this.videoTracks,data:this.dataTracks}[t.kind].delete(t._id),(this._trackEventReemitters.get(t._id)||new Map).forEach(function(e,n){t.removeListener(n,e)});var e=this._log;e.info("Removed a "+d.trackClass(t)+":",t._id),e.debug(d.trackClass(t)+":",t)}},{key:"_removeTrack",value:function(t){return this.tracks.has(t._id)?(t=this.tracks.get(t._id),this._deleteTrack(t),this.emit("trackRemoved",t),t):null}},{key:"_removeTrackPublication",value:function(t){if(!(t=this.trackPublications.get(t.trackSid)))return null;this.trackPublications.delete(t.trackSid),{audio:this.audioTrackPublications,data:this.dataTrackPublications,video:this.videoTrackPublications}[t.kind].delete(t.trackSid),(this._trackPublicationEventReemitters.get(t.trackSid)||new Map).forEach(function(e,n){t.removeListener(n,e)});var e=this._log;return e.info("Removed a "+d.trackPublicationClass(t)+":",t.trackSid),e.debug(d.trackPublicationClass(t)+":",t),t}}]),e}();function m(t,e){var n=new Map;"disconnected"!==t.state&&(t._getTrackEvents().forEach(function(i){var r=i[0],o=i[1];n.set(r,function(){var e=[o].concat([].slice.call(arguments));return t.emit.apply(t,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))}),e.on(r,n.get(r))}),t._trackEventReemitters.set(e._id,n))}t.exports=f},TZWu:function(t,e,n){"use strict";(function(e){t.exports=function(t,n){var i,r={STATUS_INIT:0,STATUS_STARTING:1,STATUS_READY:2,STATUS_USER_CLOSED:3,STATUS_NOT_READY:4,CONFIGURATION_ERROR:1,NETWORK_ERROR:2,ALLOWED_METHODS:["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"],ACCEPTED_BODY_TYPES:["application/sdp","application/dtmf-relay"],MAX_FORWARDS:70,TAG_LENGTH:10};function o(e){if(e instanceof Function)return e.initialize||(e.initialize=function(){return t.Utils.Promise.resolve()}),e}((i=function(i){var o=this;function a(t){return o.emit.bind(o,t)}r.ACCEPTED_BODY_TYPES=r.ACCEPTED_BODY_TYPES.toString(),this.log=new t.LoggerFactory,this.logger=this.getLogger("sip.ua"),this.cache={credentials:{}},this.configuration={},this.dialogs={},this.applicants={},this.data={},this.sessions={},this.subscriptions={},this.transport=null,this.contact=null,this.status=r.STATUS_INIT,this.error=null,this.transactions={nist:{},nict:{},ist:{},ict:{}},this.transportRecoverAttempts=0,this.transportRecoveryTimer=null,Object.defineProperties(this,{transactionsCount:{get:function(){var t,e=["nist","nict","ist","ict"],n=0;for(t in e)n+=Object.keys(this.transactions[e[t]]).length;return n}},nictTransactionsCount:{get:function(){return Object.keys(this.transactions.nict).length}},nistTransactionsCount:{get:function(){return Object.keys(this.transactions.nist).length}},ictTransactionsCount:{get:function(){return Object.keys(this.transactions.ict).length}},istTransactionsCount:{get:function(){return Object.keys(this.transactions.ist).length}}}),void 0===i?i={}:("string"==typeof i||i instanceof String)&&(i={uri:i}),i.log&&(i.log.hasOwnProperty("builtinEnabled")&&(this.log.builtinEnabled=i.log.builtinEnabled),i.log.hasOwnProperty("level")&&(this.log.level=i.log.level),i.log.hasOwnProperty("connector")&&(this.log.connector=i.log.connector));try{this.loadConfig(i)}catch(t){throw this.status=r.STATUS_NOT_READY,this.error=r.CONFIGURATION_ERROR,t}this.registerContext=new t.RegisterContext(this),this.registerContext.on("failed",a("registrationFailed")),this.registerContext.on("registered",a("registered")),this.registerContext.on("unregistered",a("unregistered")),this.configuration.autostart&&this.start(),"function"==typeof n.addEventListener&&(e.chrome&&e.chrome.app&&e.chrome.app.runtime||n.addEventListener("unload",this.stop.bind(this)))}).prototype=Object.create(t.EventEmitter.prototype)).register=function(t){return this.configuration.register=!0,this.registerContext.register(t),this},i.prototype.unregister=function(t){this.configuration.register=!1;var e=this.registerContext;return this.afterConnected(e.unregister.bind(e,t)),this},i.prototype.isRegistered=function(){return this.registerContext.registered},i.prototype.isConnected=function(){return!!this.transport&&this.transport.connected},i.prototype.afterConnected=function(t){this.isConnected()?t():this.once("connected",t)},i.prototype.invite=function(e,n){var i=new t.InviteClientContext(this,e,n);return this.afterConnected(i.invite.bind(i)),i},i.prototype.subscribe=function(e,n,i){var r=new t.Subscription(this,e,n,i);return this.afterConnected(r.subscribe.bind(r)),r},i.prototype.message=function(e,n,i){if(void 0===n)throw new TypeError("Not enough arguments");return(i=Object.create(i||Object.prototype)).contentType||(i.contentType="text/plain"),i.body=n,this.request(t.C.MESSAGE,e,i)},i.prototype.request=function(e,n,i){var r=new t.ClientContext(this,e,n,i);return this.afterConnected(r.send.bind(r)),r},i.prototype.stop=function(){var e,n,i,o=this;if(this.logger.log("user requested closure..."),this.status===r.STATUS_USER_CLOSED)return this.logger.warn("UA already closed"),this;for(e in t.Timers.clearTimeout(this.transportRecoveryTimer),this.logger.log("closing registerContext"),this.registerContext.close(),this.sessions)this.logger.log("closing session "+e),this.sessions[e].terminate();for(n in this.subscriptions)this.logger.log("unsubscribing from subscription "+n),this.subscriptions[n].close();for(i in this.applicants)this.applicants[i].close();return this.status=r.STATUS_USER_CLOSED,0===this.nistTransactionsCount&&0===this.nictTransactionsCount?this.transport&&this.transport.disconnect():this.on("transactionDestroyed",function t(){0===o.nistTransactionsCount&&0===o.nictTransactionsCount&&(o.removeListener("transactionDestroyed",t),o.transport.disconnect())}),this},i.prototype.start=function(){var e;return this.logger.log("user requested startup..."),this.status===r.STATUS_INIT?(e=this.getNextWsServer(),this.status=r.STATUS_STARTING,new t.Transport(this,e)):this.status===r.STATUS_USER_CLOSED?(this.logger.log("resuming"),this.status=r.STATUS_READY,this.transport.connect()):this.status===r.STATUS_STARTING?this.logger.log("UA is in STARTING status, not opening new connection"):this.status===r.STATUS_READY?this.logger.log("UA is in READY status, not resuming"):this.logger.error("Connection is down. Auto-Recovery system is trying to connect"),this},i.prototype.normalizeTarget=function(e){return t.Utils.normalizeTarget(e,this.configuration.hostportParams)},i.prototype.saveCredentials=function(t){return this.cache.credentials[t.realm]=this.cache.credentials[t.realm]||{},this.cache.credentials[t.realm][t.uri]=t,this},i.prototype.getCredentials=function(t){var e,n;return e=t.ruri.host,this.cache.credentials[e]&&this.cache.credentials[e][t.ruri]&&((n=this.cache.credentials[e][t.ruri]).method=t.method),n},i.prototype.getLogger=function(t,e){return this.log.getLogger(t,e)},i.prototype.onTransportClosed=function(e){var n,i,r,o=["nict","ict","nist","ist"];for(e.server.status=t.Transport.C.STATUS_DISCONNECTED,this.logger.log("connection state set to "+t.Transport.C.STATUS_DISCONNECTED),r=o.length,n=0;n<r;n++)for(i in this.transactions[o[n]])this.transactions[o[n]][i].onTransportError();this.contact.pub_gruu||this.closeSessionsOnTransportError()},i.prototype.onTransportError=function(e){var n;this.logger.log("transport "+e.server.ws_uri+" failed | connection state set to "+t.Transport.C.STATUS_ERROR),e.server.status=t.Transport.C.STATUS_ERROR,this.emit("disconnected",{transport:e}),this.status!==r.STATUS_USER_CLOSED&&((n=this.getNextWsServer())?new t.Transport(this,n):(this.closeSessionsOnTransportError(),this.error&&this.error===r.NETWORK_ERROR||(this.status=r.STATUS_NOT_READY,this.error=r.NETWORK_ERROR),this.recoverTransport()))},i.prototype.onTransportConnected=function(e){this.transport=e,this.transportRecoverAttempts=0,e.server.status=t.Transport.C.STATUS_READY,this.logger.log("connection state set to "+t.Transport.C.STATUS_READY),this.status!==r.STATUS_USER_CLOSED&&(this.status=r.STATUS_READY,this.error=null,this.configuration.register&&this.configuration.authenticationFactory.initialize().then(function(){this.registerContext.onTransportConnected()}.bind(this)),this.emit("connected",{transport:e}))},i.prototype.onTransportConnecting=function(t,e){this.emit("connecting",{transport:t,attempts:e})},i.prototype.newTransaction=function(t){this.transactions[t.type][t.id]=t,this.emit("newTransaction",{transaction:t})},i.prototype.destroyTransaction=function(t){delete this.transactions[t.type][t.id],this.emit("transactionDestroyed",{transaction:t})},i.prototype.receiveRequest=function(e){var n,i,o,a,s,c=e.method,u=this;function l(t){return t&&t.user===e.ruri.user}if(!(l(this.configuration.uri)||l(this.contact.uri)||l(this.contact.pub_gruu)||l(this.contact.temp_gruu)))return this.logger.warn("Request-URI does not point to us"),void(e.method!==t.C.ACK&&e.reply_sl(404));if(e.ruri.scheme!==t.C.SIPS){if(!t.Transactions.checkTransaction(this,e))if(c===t.C.OPTIONS?(new t.Transactions.NonInviteServerTransaction(e,this),e.reply(200,null,["Allow: "+t.UA.C.ALLOWED_METHODS.toString(),"Accept: "+r.ACCEPTED_BODY_TYPES])):c===t.C.MESSAGE?((o=new t.ServerContext(this,e)).body=e.body,o.content_type=e.getHeader("Content-Type")||"text/plain",e.reply(200,null),this.emit("message",o)):c!==t.C.INVITE&&c!==t.C.ACK&&new t.ServerContext(this,e),e.to_tag)(n=this.findDialog(e))?(c===t.C.INVITE&&new t.Transactions.InviteServerTransaction(e,this),n.receiveRequest(e)):c===t.C.NOTIFY?(i=this.findSession(e))?i.receiveRequest(e):(this.logger.warn("received NOTIFY request for a non existent session"),e.reply(481,"Subscription does not exist")):c!==t.C.ACK&&e.reply(481);else switch(c){case t.C.INVITE:if(a=this.configuration.replaces!==t.C.supported.UNSUPPORTED&&e.parseHeader("replaces")){if(!(s=this.dialogs[a.call_id+a.replaces_to_tag+a.replaces_from_tag]))return void e.reply_sl(481,null);if(s.owner.status===t.Session.C.STATUS_TERMINATED)return void e.reply_sl(603,null);if(s.state===t.Dialog.C.STATUS_CONFIRMED&&a.early_only)return void e.reply_sl(486,null)}var h=this.configuration.mediaHandlerFactory.isSupported;!h||h()?((i=new t.InviteServerContext(this,e)).replacee=s&&s.owner,i.on("invite",function(){u.emit("invite",this)})):(this.logger.warn("INVITE received but WebRTC is not supported"),e.reply(488));break;case t.C.BYE:e.reply(481);break;case t.C.CANCEL:(i=this.findSession(e))?i.receiveRequest(e):this.logger.warn("received CANCEL request for a non existent session");break;case t.C.ACK:break;case t.C.NOTIFY:this.configuration.allowLegacyNotifications&&this.listeners("notify").length>0?(e.reply(200,null),u.emit("notify",{request:e})):e.reply(481,"Subscription does not exist");break;default:e.reply(405)}}else e.reply_sl(416)},i.prototype.findSession=function(t){return this.sessions[t.call_id+t.from_tag]||this.sessions[t.call_id+t.to_tag]||null},i.prototype.findDialog=function(t){return this.dialogs[t.call_id+t.from_tag+t.to_tag]||this.dialogs[t.call_id+t.to_tag+t.from_tag]||null},i.prototype.getNextWsServer=function(){var e,n,i,r=[];for(n=this.configuration.wsServers.length,e=0;e<n;e++)(i=this.configuration.wsServers[e]).status!==t.Transport.C.STATUS_ERROR&&(0===r.length?r.push(i):i.weight>r[0].weight?r=[i]:i.weight===r[0].weight&&r.push(i));return r[e=Math.floor(Math.random()*r.length)]},i.prototype.closeSessionsOnTransportError=function(){var t;for(t in this.sessions)this.sessions[t].onTransportError();this.registerContext.onTransportClosed()},i.prototype.recoverTransport=function(e){var n,i,r,o,a;for(o=(e=e||this).transportRecoverAttempts,i=e.configuration.wsServers.length,n=0;n<i;n++)e.configuration.wsServers[n].status=0;a=e.getNextWsServer(),(r=Math.floor(Math.random()*Math.pow(2,o)+1)*e.configuration.connectionRecoveryMinInterval)>e.configuration.connectionRecoveryMaxInterval&&(this.logger.log("time for next connection attempt exceeds connectionRecoveryMaxInterval, resetting counter"),r=e.configuration.connectionRecoveryMinInterval,o=0),this.logger.log("next connection attempt in "+r+" seconds"),this.transportRecoveryTimer=t.Timers.setTimeout(function(){e.transportRecoverAttempts=o+1,new t.Transport(e,a)},1e3*r)},i.prototype.loadConfig=function(e){var n,r,a,s,c,u={viaHost:t.Utils.createRandomToken(12)+".invalid",uri:new t.URI("sip","anonymous."+t.Utils.createRandomToken(6),"anonymous.invalid",null,null),wsServers:[{scheme:"WSS",sip_uri:"<sip:edge.sip.onsip.com;transport=ws;lr>",status:0,weight:0,ws_uri:"wss://edge.sip.onsip.com"}],password:null,registerExpires:600,register:!0,registrarServer:null,wsServerMaxReconnection:3,wsServerReconnectionTimeout:4,connectionRecoveryMinInterval:2,connectionRecoveryMaxInterval:30,keepAliveInterval:0,extraSupported:[],usePreloadedRoute:!1,userAgentString:t.C.USER_AGENT,iceCheckingTimeout:5e3,noAnswerTimeout:60,stunServers:["stun:stun.l.google.com:19302"],turnServers:[],traceSip:!1,hackViaTcp:!1,hackIpInContact:!1,hackWssInTransport:!1,hackAllowUnregisteredOptionTags:!1,hackCleanJitsiSdpImageattr:!1,hackStripTcp:!1,contactTransport:"ws",forceRport:!1,autostart:!0,rel100:t.C.supported.UNSUPPORTED,replaces:t.C.supported.UNSUPPORTED,mediaHandlerFactory:t.WebRTC.MediaHandler.defaultFactory,authenticationFactory:o(function(e){return new t.DigestAuthentication(e)}),allowLegacyNotifications:!1};function l(t,n){var i=t.replace(/([a-z][A-Z])/g,function(t){return t[0]+"_"+t[1].toLowerCase()});if(t!==i){var r=e.hasOwnProperty(t);e.hasOwnProperty(i)&&(n.warn(i+" is deprecated, please use "+t),r&&n.warn(t+" overriding "+i)),e[t]=r?e[t]:e[i]}}for(n in i.configuration_check.mandatory){if(l(n,this.logger),!e.hasOwnProperty(n))throw new t.Exceptions.ConfigurationError(n);if(r=e[n],void 0===(a=i.configuration_check.mandatory[n](r)))throw new t.Exceptions.ConfigurationError(n,r);u[n]=a}t.Utils.optionsOverride(e,"rel100","reliable",!0,this.logger,t.C.supported.UNSUPPORTED);var h=["stunServers","turnServers"];for(n in i.configuration_check.optional)if(l(n,this.logger),e.hasOwnProperty(n)){if((r=e[n])instanceof Array&&0===r.length&&h.indexOf(n)<0)continue;if(null===r||""===r||void 0===r)continue;if("number"==typeof r&&isNaN(r))continue;if(void 0===(a=i.configuration_check.optional[n](r)))throw new t.Exceptions.ConfigurationError(n,r);u[n]=a}if(u.connectionRecoveryMaxInterval<u.connectionRecoveryMinInterval)throw new t.Exceptions.ConfigurationError("connectionRecoveryMaxInterval",u.connectionRecoveryMaxInterval);for(n in 0===u.displayName&&(u.displayName="0"),u.instanceId||(u.instanceId=t.Utils.newUUID()),u.sipjsId=t.Utils.createRandomToken(5),(s=u.uri.clone()).user=null,u.hostportParams=s.toRaw().replace(/^sip:/i,""),u.authorizationUser||(u.authorizationUser=u.uri.user),u.registrarServer||((c=u.uri.clone()).user=null,u.registrarServer=c),u.noAnswerTimeout=1e3*u.noAnswerTimeout,u.hackIpInContact&&("boolean"==typeof u.hackIpInContact?u.viaHost=t.Utils.getRandomTestNetIP():"string"==typeof u.hackIpInContact&&(u.viaHost=u.hackIpInContact)),u.hackWssInTransport&&(u.contactTransport="wss"),this.contact={pub_gruu:null,temp_gruu:null,uri:new t.URI("sip",t.Utils.createRandomToken(8),u.viaHost,null,{transport:u.contactTransport}),toString:function(t){var e=(t=t||{}).anonymous||null,n=t.outbound||null,i="<";return i+=e?(this.temp_gruu||"sip:anonymous@anonymous.invalid;transport="+u.contactTransport).toString():(this.pub_gruu||this.uri).toString(),n&&(i+=";ob"),i+=">"}},t.Utils.optionsOverride(u,"media","mediaConstraints",!0,this.logger),u)i.configuration_skeleton[n].value=u[n];for(n in Object.defineProperties(this.configuration,i.configuration_skeleton),u)i.configuration_skeleton[n].value="";for(n in this.logger.log("configuration parameters after validation:"),u)switch(n){case"uri":case"registrarServer":case"mediaHandlerFactory":this.logger.log(" "+n+": "+u[n]);break;case"password":this.logger.log(" "+n+": NOT SHOWN");break;default:this.logger.log(" "+n+": "+JSON.stringify(u[n]))}},i.configuration_skeleton=function(){var t,e={},n=["sipjsId","hostportParams","uri","wsServers","authorizationUser","connectionRecoveryMaxInterval","connectionRecoveryMinInterval","keepAliveInterval","extraSupported","displayName","hackViaTcp","hackIpInContact","hackWssInTransport","hackAllowUnregisteredOptionTags","hackCleanJitsiSdpImageattr","hackStripTcp","contactTransport","forceRport","iceCheckingTimeout","instanceId","noAnswerTimeout","password","registerExpires","registrarServer","reliable","rel100","replaces","userAgentString","autostart","stunServers","traceSip","turnServers","usePreloadedRoute","wsServerMaxReconnection","wsServerReconnectionTimeout","mediaHandlerFactory","media","mediaConstraints","authenticationFactory","allowLegacyNotifications","via_core_value","viaHost"];for(t in n)e[n[t]]={value:"",writable:!1,configurable:!1};return e.register={value:"",writable:!0,configurable:!1},e}(),i.configuration_check={mandatory:{},optional:{uri:function(e){var n;return/^sip:/i.test(e)||(e=t.C.SIP+":"+e),(n=t.URI.parse(e))&&n.user?n:void 0},wsServers:function(e){var n,i,r;if("string"==typeof e)e=[{ws_uri:e}];else{if(!(e instanceof Array))return;for(i=e.length,n=0;n<i;n++)"string"==typeof e[n]&&(e[n]={ws_uri:e[n]})}if(0===e.length)return!1;for(i=e.length,n=0;n<i;n++){if(!e[n].ws_uri)return;if(e[n].weight&&!Number(e[n].weight))return;if(-1===(r=t.Grammar.parse(e[n].ws_uri,"absoluteURI")))return;if(["wss","ws","udp"].indexOf(r.scheme)<0)return;e[n].sip_uri="<sip:"+r.host+(r.port?":"+r.port:"")+";transport="+r.scheme.replace(/^wss$/i,"ws")+";lr>",e[n].weight||(e[n].weight=0),e[n].status=0,e[n].scheme=r.scheme.toUpperCase()}return e},authorizationUser:function(e){return-1===t.Grammar.parse('"'+e+'"',"quoted_string")?void 0:e},connectionRecoveryMaxInterval:function(e){var n;if(t.Utils.isDecimal(e)&&(n=Number(e))>0)return n},connectionRecoveryMinInterval:function(e){var n;if(t.Utils.isDecimal(e)&&(n=Number(e))>0)return n},displayName:function(e){return-1===t.Grammar.parse('"'+e+'"',"displayName")?void 0:e},hackViaTcp:function(t){if("boolean"==typeof t)return t},hackIpInContact:function(e){return"boolean"==typeof e?e:"string"==typeof e&&-1!==t.Grammar.parse(e,"host")?e:void 0},iceCheckingTimeout:function(e){if(t.Utils.isDecimal(e))return Math.max(500,e)},hackWssInTransport:function(t){if("boolean"==typeof t)return t},hackAllowUnregisteredOptionTags:function(t){if("boolean"==typeof t)return t},hackCleanJitsiSdpImageattr:function(t){if("boolean"==typeof t)return t},hackStripTcp:function(t){if("boolean"==typeof t)return t},contactTransport:function(t){if("string"==typeof t)return t},forceRport:function(t){if("boolean"==typeof t)return t},instanceId:function(e){if("string"==typeof e)return/^uuid:/i.test(e)&&(e=e.substr(5)),-1===t.Grammar.parse(e,"uuid")?void 0:e},keepAliveInterval:function(e){var n;if(t.Utils.isDecimal(e)&&(n=Number(e))>0)return n},extraSupported:function(t){var e,n;if(t instanceof Array){for(n=t.length,e=0;e<n;e++)if("string"!=typeof t[e])return;return t}},noAnswerTimeout:function(e){var n;if(t.Utils.isDecimal(e)&&(n=Number(e))>0)return n},password:function(t){return String(t)},rel100:function(e){return e===t.C.supported.REQUIRED?t.C.supported.REQUIRED:e===t.C.supported.SUPPORTED?t.C.supported.SUPPORTED:t.C.supported.UNSUPPORTED},replaces:function(e){return e===t.C.supported.REQUIRED?t.C.supported.REQUIRED:e===t.C.supported.SUPPORTED?t.C.supported.SUPPORTED:t.C.supported.UNSUPPORTED},register:function(t){if("boolean"==typeof t)return t},registerExpires:function(e){var n;if(t.Utils.isDecimal(e)&&(n=Number(e))>0)return n},registrarServer:function(e){var n;if("string"==typeof e)return/^sip:/i.test(e)||(e=t.C.SIP+":"+e),(n=t.URI.parse(e))?n.user?void 0:n:void 0},stunServers:function(e){var n,i,r;if("string"==typeof e)e=[e];else if(!(e instanceof Array))return;for(i=e.length,n=0;n<i;n++){if(r=e[n],/^stuns?:/.test(r)||(r="stun:"+r),-1===t.Grammar.parse(r,"stun_URI"))return;e[n]=r}return e},traceSip:function(t){if("boolean"==typeof t)return t},turnServers:function(e){var n,i,r,o,a,s;for(e instanceof Array||(e=[e]),r=e.length,n=0;n<r;n++){if((o=e[n]).server&&(o.urls=[o.server]),!o.urls||!o.username||!o.password)return;for(o.urls instanceof Array?a=o.urls.length:(o.urls=[o.urls],a=1),i=0;i<a;i++)if(s=o.urls[i],/^turns?:/.test(s)||(s="turn:"+s),-1===t.Grammar.parse(s,"turn_URI"))return}return e},userAgentString:function(t){if("string"==typeof t)return t},usePreloadedRoute:function(t){if("boolean"==typeof t)return t},wsServerMaxReconnection:function(e){var n;if(t.Utils.isDecimal(e)&&(n=Number(e))>0)return n},wsServerReconnectionTimeout:function(e){var n;if(t.Utils.isDecimal(e)&&(n=Number(e))>0)return n},autostart:function(t){if("boolean"==typeof t)return t},mediaHandlerFactory:function(e){if(e instanceof Function){var n=function(){var n=e.apply(this,arguments);function i(e){if(n[e].length>1){var i="getDescription"===e;n[e]=t.Utils.promisify(n,e,i)}}return i("getDescription"),i("setDescription"),n};return n.isSupported=e.isSupported,n}},authenticationFactory:o,allowLegacyNotifications:function(t){if("boolean"==typeof t)return t}}},i.C=r,t.UA=i}}).call(this,n("yLpj"))},TypT:function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},UQcK:function(t,e,n){"use strict";t.exports=function(t){Object.defineProperties(this,{track:{enumerable:!0,value:t,writable:!0}})}},"UZ/N":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("2xLa"),o=n("akGs"),a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.id,t,n));return Object.defineProperties(i,{lastReport:{enumerable:!0,value:null,writable:!0}}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),i(e,[{key:"next",value:function(t,e){var n=this.lastStats;this.lastStats=e,this.trackId=t;var i=r.of(t,n,e);return this.lastReport=i,i}}]),e}();t.exports=a},UpXp:function(t,e,n){"use strict";var i=n("Jhn5"),r=function(t){function e(t,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"data"));return Object.defineProperties(o,{maxPacketLifeTime:{enumerable:!0,value:n},maxRetransmits:{enumerable:!0,value:i},ordered:{enumerable:!0,value:r}}),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),e}();t.exports=r},Uxeu:function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,r=t.indexOf("["),o=t.indexOf("]");-1!=r&&-1!=o&&(t=t.substring(0,r)+t.substring(r,o).replace(/:/g,";")+t.substring(o,t.length));for(var a=n.exec(t||""),s={},c=14;c--;)s[i[c]]=a[c]||"";return-1!=r&&-1!=o&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},VDRh:function(t,e,n){"use strict";t.exports=function(t){var e=function(t,e){t=t,e=e};return e.prototype=Object.create(t.prototype,{isReady:{value:function(){}},close:{value:function(){}},getDescription:{value:function(t){t=t}},hasDescription:{value:function(t){t=t}},setDescription:{value:function(t){t=t}}}),e}},VUT2:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("+qE3").EventEmitter,o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Object.defineProperties(n,{_dataChannel:{value:t},_messageQueue:{value:[]}}),t.addEventListener("open",function(){n._messageQueue.splice(0).forEach(function(t){return n._publish(t)})}),t.addEventListener("message",function(t){var e=t.data;try{var i=JSON.parse(e);n.emit("message",i)}catch(t){}}),n.publish({type:"ready"}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"_publish",value:function(t){var e=JSON.stringify(t);try{this._dataChannel.send(e)}catch(t){}}},{key:"publish",value:function(t){var e=this._dataChannel;return"closing"!==e.readyState&&"closed"!==e.readyState&&("connecting"===e.readyState?(this._messageQueue.push(t),!0):(this._publish(t),!0))}}]),e}();t.exports=o},Vh62:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("ghd6").deprecateEvents,o=n("NCuz"),a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.id,"data",n));return Object.defineProperties(i,{_isSubscribed:{value:!0,writable:!0},_sid:{value:null,writable:!0},isEnabled:{enumerable:!0,value:!0},maxPacketLifeTime:{enumerable:!0,value:t.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:t.maxRetransmits},ordered:{enumerable:!0,value:t.ordered},reliable:{enumerable:!0,value:null===t.maxPacketLifeTime&&null===t.maxRetransmits}}),r("RemoteDataTrack",i,new Map([["unsubscribed",null]]),i._log),t.on("message",function(t){i.emit("message",t,i)}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),i(e,[{key:"_setEnabled",value:function(){}},{key:"_setSid",value:function(t){this._sid||(this._sid=t)}},{key:"_unsubscribe",value:function(){this._isSubscribed&&(this._isSubscribed=!1,this.emit("unsubscribed",this))}},{key:"id",get:function(){return this._log.deprecated("RemoteDataTrack#id has been deprecated and is scheduled for removal in twilio-video.js@2.0.0. Use the parent RemoteTrackPublication's .trackName or .trackSid instead."),this._id}},{key:"isSubscribed",get:function(){return this._log.deprecated("RemoteDataTrack#isSubscribed has been deprecated and is scheduled for removal in twilio-video.js@2.0.0. Use the parent RemoteTrackPublication's .isSubscribed instead."),this._isSubscribed}},{key:"sid",get:function(){return this._sid}}]),e}();t.exports=a},Vkbc:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("ghd6"),o=n("9dY8").getMediaSections;function a(){return{matched:new Set,unmatched:new Set}}var s=function(){function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!(this instanceof t))return new t;Object.defineProperties(this,{audio:{enumerable:!0,value:a()},video:{enumerable:!0,value:a()}})}return i(t,[{key:"match",value:function(t){return function(t){var e=Array.from(t.unmatched);if(!e.length)return null;var n=e[0];return t.matched.add(n),t.unmatched.delete(n),n}(this[t.track.kind])}},{key:"update",value:function(t){["audio","video"].forEach(function(e){var n,i;n=this[e],i=function(t,e){var n=o(e,t);return new Set(r.flatMap(n,function(t){return t.match(new RegExp("msid: ?(.+) +(.+) ?$","mg"))||[]}).map(function(t){return t.match(new RegExp("msid: ?(.+) +(.+) ?$"))[2]}))}(e,t),i=new Set(i),r.difference(n.matched,i).forEach(n.matched.delete,n.matched),n.unmatched=r.difference(i,n.matched)},this)}}]),t}();t.exports=s},VkrI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=function(){function t(t){this.$el=i(t),this.$source=i('[clipboard-source="'+i(t).attr("clipboard")+'"]'),this.$result=i('[clipboard-result="'+i(t).attr("clipboard")+'"]'),this.$target=i("<textarea>"),this._applyEvents()}return t.prototype._copy=function(){var t=this,e=this.$source.text();this.$target.appendTo("body").val(e).get(0).select(),document.execCommand("copy")&&(this.$result.addClass("active"),window.setTimeout(function(){return t.$result.removeClass("active")},5e3)),this.$target.detach()},t.prototype._applyEvents=function(){var t=this;this.$el.on("click",function(e){e.stopPropagation(),e.preventDefault(),t._copy()})},t}();e.Clipboard=r,i(document).on("hc:ready",function(t,e){t.preventDefault(),i(e||document).find("[clipboard]").each(function(t,e){return new r(e)})})},VnzU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=function(){function t(t){var e=this;this.$input=i(t),this.$label=i(this.$input.closest(".form-field-upload").find("label")),this._placeholder=this.$label.text(),this.$wrapper=i('<div class="input-file-wrapper">'),this.$remover=i('<span class="file-remover">'),this.$wrapper.prependTo(this.$input.closest(".form-field-upload")).append(this.$label).append(this.$input).append(this.$remover),this.$label.text("").append(i("<span>")),this._update(),this.$input.on("change",function(){var t=e.$input[0].files[0].name;e._update(t),e.$wrapper.addClass("filled")}),this.$remover.on("click",function(){return e._empty()})}return t.prototype._update=function(t){void 0===t&&(t=null),null===t&&(t=this._placeholder),this.$label.find("span").text(t)},t.prototype._empty=function(){this.$input.val(""),this._update(),this.$wrapper.removeClass("filled")},t}(),o=function(){return function(t){var e=this;this.$input=i(t),this.$form=this.$input.closest("form"),this.$input.on("change",function(){return e.$form.trigger("submit")})}}(),a=function(){function t(t){var e=this;this.$input=i(t),this.$form=this.$input.closest("form"),this.$confirm=this.$form.closest(".form").find(".form-actions a.next"),this.$back=this.$form.closest(".form").find(".form-actions button"),this.$oldActionFile=this.$form.find(".old-file").find(".action-file"),this.$dragBox=this.$input.closest(".upload-field"),this._url=this.$form.attr("action"),this._tooLargeMsg=this.$input.data("too-large"),this.$wrapperProgressBars=this.$form.find(".progress"),this.$oldActionFile.on("click",function(t){t.preventDefault(),i(t.target).closest(".content-file").remove()}),this.$dragBox.on("dragover",function(t){t.preventDefault(),t.stopPropagation(),e.$dragBox.addClass("drag-over")}),this.$dragBox.on("dragleave",function(t){t.preventDefault(),t.stopPropagation(),e.$dragBox.removeClass("drag-over")}),this.$dragBox.on("drop",function(t){t.originalEvent.dataTransfer&&t.originalEvent.dataTransfer.files.length&&(t.preventDefault(),t.stopPropagation(),e._manageFile(t.originalEvent.dataTransfer.files))}),this.$input.on("change",function(t){t.preventDefault(),t.stopPropagation(),e._manageFile(t.currentTarget.files)})}return t.prototype._manageFile=function(t){void 0===this.$input.attr("no-upload")?this._upload(t):this._showFile(t)},t.prototype._createFileWrapper=function(t){var e=i('<div class="content-file">'),n=i("<div>").addClass("description-file"),r=i('<span class="name-file">');return r.text(t[0].name),n.append(r).appendTo(e),e},t.prototype._showFile=function(t){var e=this._createFileWrapper(t);this.$form.find(".response-block").remove(),this.$wrapperProgressBars.html(""),this.$wrapperProgressBars.append(e),this.$form.find(".form-actions button").attr("disabled",!1)},t.prototype._upload=function(t){var e=this;this._switchActive(!1,this.$confirm,this.$back);var n=this._createFileWrapper(t),r=i('<div class="bar">'),o=n.find(".name-file"),a=i('<span class="action-file">'),s=!1;n.find(".description-file").append(a),n.append(r),this.$wrapperProgressBars.append(n),a.text(i("body").data("text")["delete-file-upload"]),a.on("click",function(t){t.preventDefault(),t.stopPropagation(),n.remove(),e.$input.val(""),s=!0,e._check()}),i.ajax({url:this._url,type:"POST",contentType:!1,cache:!1,processData:!1,data:new FormData(this.$form[0]),xhr:function(){var t=new XMLHttpRequest;return t.upload.addEventListener("progress",function(t){if(t.lengthComputable){var e=Math.round(100*t.loaded/t.total);r.width(e+"%")}},!1),t}}).done(function(t){e.$dragBox.removeClass("drag-over"),s?e._delete(t.url,n):a.off("click").on("click",function(i){i.preventDefault(),i.stopPropagation(),e._delete(t.url,n).done(function(){return n.remove()})})}).fail(function(t){n.addClass("error-file"),t.responseJSON?o.text(t.responseJSON.message):413===t.status&&o.text(i("body").data("text")["error-size-file-upload"])}).always(function(){r.remove(),e._switchActive(!0,e.$back),e._check()})},t.prototype._delete=function(t,e){var n=this,r=e.find(".name-file");return i.ajax({url:t,type:"POST",contentType:!1,cache:!1,processData:!1}).fail(function(t){n._switchActive(!0,n.$back),r.text(t.responseJSON.message)}).always(function(){return n._check()})},t.prototype._check=function(){var t=this.$form.find(".content-file").get().reduce(function(t,e){return i(e).hasClass("error-file")||t},!1);this._switchActive(!t,this.$confirm)},t.prototype._switchActive=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];e.forEach(function(e){return e.attr("disabled",!t)})},t}();i(document).on("hc:ready",function(t,e){t.preventDefault(),i(e||document).find('input[type="file"]').each(function(t,e){1===i(e).closest(".auto-submit").length?new o(e):1===i(e).closest(".drag-drop").length?new a(e):new r(e)})})},Vo14:function(t,e,n){var i=n("NOtv")("socket.io-parser"),r=n("cpc2"),o=n("cD5x"),a=n("49sm"),s=n("+SKG");function c(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=c,e.Decoder=h;var u=e.ERROR+'"encode error"';function l(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var r=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===r)return u;n+=r}return i("encoded %j as %s",t,n),n}function h(){this.reconstructor=null}function d(t){this.reconPack=t,this.buffers=[]}function p(t){return{type:e.ERROR,data:"parser error: "+t}}c.prototype.encode=function(t,n){(i("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)?function(t,e){o.removeBlobs(t,function(t){var n=o.deconstructPacket(t),i=l(n.packet),r=n.buffers;r.unshift(i),e(r)})}(t,n):n([l(t)])},r(h.prototype),h.prototype.add=function(t){var n;if("string"==typeof t)n=function(t){var n=0,r={type:Number(t.charAt(0))};if(null==e.types[r.type])return p("unknown packet type "+r.type);if(e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type){for(var o="";"-"!==t.charAt(++n)&&(o+=t.charAt(n),n!=t.length););if(o!=Number(o)||"-"!==t.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===t.charAt(n+1))for(r.nsp="";++n;){var s=t.charAt(n);if(","===s)break;if(r.nsp+=s,n===t.length)break}else r.nsp="/";var c=t.charAt(n+1);if(""!==c&&Number(c)==c){for(r.id="";++n;){var s=t.charAt(n);if(null==s||Number(s)!=s){--n;break}if(r.id+=t.charAt(n),n===t.length)break}r.id=Number(r.id)}if(t.charAt(++n)){var u=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(n)),l=!1!==u&&(r.type===e.ERROR||a(u));if(!l)return p("invalid payload");r.data=u}return i("decoded %s as %j",t,r),r}(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new d(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},Vtwm:function(t,e,n){"use strict";t.exports=function(t){var e;(e=function(e){var n={};this.registrar=e.configuration.registrarServer,this.expires=e.configuration.registerExpires,this.contact=e.contact.toString(),this.contact+=";reg-id=1",this.contact+=';+sip.instance="<urn:uuid:'+e.configuration.instanceId+'>"',this.call_id=t.Utils.createRandomToken(22),this.cseq=80,this.to_uri=e.configuration.uri,n.to_uri=this.to_uri,n.to_displayName=e.configuration.displayName,n.call_id=this.call_id,n.cseq=this.cseq,t.Utils.augment(this,t.ClientContext,[e,"REGISTER",this.registrar,{params:n}]),this.registrationTimer=null,this.registrationExpiredTimer=null,this.registered=!1,this.logger=e.getLogger("sip.registercontext")}).prototype={register:function(e){var n,i=this;this.options=e||{},(n=(this.options.extraHeaders||[]).slice()).push("Contact: "+this.contact+";expires="+this.expires),n.push("Allow: "+t.UA.C.ALLOWED_METHODS.toString()),this.closeHeaders=this.options.closeWithHeaders?(this.options.extraHeaders||[]).slice():[],this.receiveResponse=function(e){var n,r,o,a=e.getHeaders("contact").length;if(e.cseq===this.cseq)switch(null!==this.registrationTimer&&(t.Timers.clearTimeout(this.registrationTimer),this.registrationTimer=null),!0){case/^1[0-9]{2}$/.test(e.status_code):this.emit("progress",e);break;case/^2[0-9]{2}$/.test(e.status_code):if(this.emit("accepted",e),e.hasHeader("expires")&&(r=e.getHeader("expires")),null!==this.registrationExpiredTimer&&(t.Timers.clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=null),!a){this.logger.warn("no Contact header in response to REGISTER, response ignored");break}for(;a--;){if((n=e.parseHeader("contact",a)).uri.user===this.ua.contact.uri.user){r=n.getParam("expires");break}n=null}if(!n){this.logger.warn("no Contact header pointing to us, response ignored");break}r||(r=this.expires),this.registrationTimer=t.Timers.setTimeout(function(){i.registrationTimer=null,i.register(i.options)},1e3*r-3e3),this.registrationExpiredTimer=t.Timers.setTimeout(function(){i.logger.warn("registration expired"),i.registered&&i.unregistered(null,t.C.causes.EXPIRES)},1e3*r),n.hasParam("temp-gruu")&&(this.ua.contact.temp_gruu=t.URI.parse(n.getParam("temp-gruu").replace(/"/g,""))),n.hasParam("pub-gruu")&&(this.ua.contact.pub_gruu=t.URI.parse(n.getParam("pub-gruu").replace(/"/g,""))),this.registered=!0,this.emit("registered",e||null);break;case/^423$/.test(e.status_code):e.hasHeader("min-expires")?(this.expires=e.getHeader("min-expires"),this.register(this.options)):(this.logger.warn("423 response received for REGISTER without Min-Expires"),this.registrationFailure(e,t.C.causes.SIP_FAILURE_CODE));break;default:o=t.Utils.sipErrorCause(e.status_code),this.registrationFailure(e,o)}},this.onRequestTimeout=function(){this.registrationFailure(null,t.C.causes.REQUEST_TIMEOUT)},this.onTransportError=function(){this.registrationFailure(null,t.C.causes.CONNECTION_ERROR)},this.cseq++,this.request.cseq=this.cseq,this.request.setHeader("cseq",this.cseq+" REGISTER"),this.request.extraHeaders=n,this.send()},registrationFailure:function(t,e){this.emit("failed",t||null,e||null)},onTransportClosed:function(){this.registered_before=this.registered,null!==this.registrationTimer&&(t.Timers.clearTimeout(this.registrationTimer),this.registrationTimer=null),null!==this.registrationExpiredTimer&&(t.Timers.clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=null),this.registered&&this.unregistered(null,t.C.causes.CONNECTION_ERROR)},onTransportConnected:function(){this.register(this.options)},close:function(){var t={all:!1,extraHeaders:this.closeHeaders};this.registered_before=this.registered,this.unregister(t)},unregister:function(e){var n;e=e||{},this.registered||e.all?(n=(e.extraHeaders||[]).slice(),this.registered=!1,null!==this.registrationTimer&&(t.Timers.clearTimeout(this.registrationTimer),this.registrationTimer=null),e.all?(n.push("Contact: *"),n.push("Expires: 0")):n.push("Contact: "+this.contact+";expires=0"),this.receiveResponse=function(e){var n;switch(!0){case/^1[0-9]{2}$/.test(e.status_code):this.emit("progress",e);break;case/^2[0-9]{2}$/.test(e.status_code):this.emit("accepted",e),null!==this.registrationExpiredTimer&&(t.Timers.clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=null),this.unregistered(e);break;default:n=t.Utils.sipErrorCause(e.status_code),this.unregistered(e,n)}},this.onRequestTimeout=function(){},this.onTransportError=function(){},this.cseq++,this.request.cseq=this.cseq,this.request.setHeader("cseq",this.cseq+" REGISTER"),this.request.extraHeaders=n,this.send()):this.logger.warn("already unregistered")},unregistered:function(t,e){this.registered=!1,this.emit("unregistered",t||null,e||null)}},t.RegisterContext=e}},VwEg:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=function(){function t(t){this.$el=i(t),this.$switchers=i("[referring-selector-switcher]"),this.$oppositeElts=i("[referring-selector-hide]"),this._applyEvents()}return t.prototype._update=function(){this.$el.hasClass("active")?(this.$el.removeClass("active"),this.$oppositeElts.show()):(this.$el.addClass("active"),this.$oppositeElts.hide())},t.prototype._applyEvents=function(){var t=this;this.$switchers.on("click",function(e){e.preventDefault(),e.stopPropagation(),t._update()})},t}();i(document).on("hc:ready",function(t,e){t.preventDefault(),i(e||document).find("[referring-selector]").each(function(t,e){return new r(e)})})},W4Bv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,o=n("EVdn");i=o,r=function(){function t(t){var e=this;this.$form=i(t),this._screenLimit=i(window).data("smallScreenLimit"),i(window).on("resize",function(){return e._applyEvents()}),this._applyEvents()}return t.prototype._deactivate=function(t){t.preventDefault(),t.stopPropagation(),this.$form.removeClass("active"),this.$form.closest("body").removeClass("filter-active")},t.prototype._activate=function(t){t.preventDefault(),t.stopPropagation(),this.$form.addClass("active"),this.$form.closest("body").addClass("filter-active")},t.prototype._applyEvents=function(){var t=this;this.$form.off("click change"),i(document).width()<this._screenLimit?(this.$form.on("click",".trigger",function(e){return t._activate(e)}),this.$form.on("click",".header .close",function(e){return t._deactivate(e)})):this.$form.on("change",function(){return t.$form[0].submit()})},t}(),i(document).on("hc:ready",function(t,e){t.preventDefault(),i(e||document).find(".directory-filter-form").each(function(t,e){return new r(e)})})},WG0r:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a,s,c,u=n("EVdn");o=u,a=function(){function t(t){this.$target=o('[request-target="'+o(t).attr("dynamic-request")+'"]').first()}return t.prototype._apply=function(t){var e=o(t);this.$target.html(e),o(document).trigger("hc:ready",this.$target)},t}(),s=function(t){function e(e){var n=t.call(this,e)||this;return o(e).on("click",function(t){return n._request(t,o(e))}),n}return r(e,t),e.prototype._request=function(t,e){var n=this;t.preventDefault(),t.stopPropagation(),o.ajax({url:e.attr("href"),dataType:"html"}).done(function(t){return n._apply(t)})},e}(a),c=function(t){function e(e){var n=t.call(this,e)||this;return o(e).on("submit",function(t){return n._request(t,o(e))}),void 0!==o(e).attr("autorequest")&&o(e).on("change",function(){return o(e).trigger("submit")}),n}return r(e,t),e.prototype._request=function(t,e){var n=this;t.preventDefault(),t.stopPropagation();var i={url:e.attr("action"),method:e.attr("method"),dataType:"html",data:e.serialize()};FormData&&"multipart/form-data"===e.attr("enctype")&&(i.processData=!1,i.contentType=!1,i.data=new FormData(e.get(0))),o.ajax(i).done(function(t){return n._apply(t)})},e}(a),o(document).on("hc:ready",function(t,e){t.preventDefault();var n=o(e||document);n.find("a[dynamic-request]").each(function(t,e){return new s(e)}),n.find("form[dynamic-request]").each(function(t,e){return new c(e)})}),o(document).on("hc:refresh:pager",function(t,e){o('a[dynamic-request="'+e+'"] .current').parent().trigger("click")})},WG3P:function(t,e,n){"use strict";t.exports=function(t){t=t;var e={AllBrowsers:{maskDtls:function(t){return t&&(t=t.replace(/ UDP\/TLS\/RTP\/SAVP/gim," RTP/SAVP")),t},unmaskDtls:function(t){return t.replace(/ RTP\/SAVP/gim," UDP/TLS/RTP/SAVP")}},Firefox:{isFirefox:function(){return"undefined"!=typeof mozRTCPeerConnection},cannotHandleExtraWhitespace:function(t){return this.isFirefox()&&t&&(t=t.replace(/ \r\n/g,"\r\n")),t},hasMissingCLineInSDP:function(t){var e,n;if(t.indexOf("c=")>t.indexOf("m=")){n=t.match(/m=.*\r\n.*/g);for(var i=0;i<n.length;i++)n[i].toString().search(/i=.*/)>=0?(e=t.indexOf(n[i].toString())+n[i].toString().length,"c="!==t.substr(e,2)&&(t=t.substr(0,e)+"\r\nc=IN IP4 0.0.0.0"+t.substr(e))):n[i].toString().search(/c=.*/)<0&&(e=t.indexOf(n[i].toString().match(/.*/))+n[i].toString().match(/.*/).toString().length,t=t.substr(0,e)+"\r\nc=IN IP4 0.0.0.0"+t.substr(e))}return t}},Chrome:{needsExplicitlyInactiveSDP:function(t){var n,i;return e.Firefox.isFirefox()&&-1!==(i=t.indexOf("m=video 0"))?(n=(n=t.substr(i)).replace(/\r\nc=IN IP4.*\r\n$/,"\r\nc=IN IP4 0.0.0.0\r\na=inactive\r\n"),t.substr(0,i)+n):t},getsConfusedAboutGUM:function(t){t.mediaHandler&&t.mediaHandler.close()}}};return e}},WHMX:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("Ivmz"),o=function(t){function e(t,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i,r));return Object.defineProperties(o,{_error:{value:null,writable:!0}}),o.setSid(t),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"subscribeFailed",value:function(t){return this.error||(this._error=t,this.emit("updated")),this}},{key:"error",get:function(){return this._error}},{key:"isSubscribed",get:function(){return!!this.trackTransceiver}}]),e}();t.exports=o},WLGk:function(t,e,n){(function(e){var i=n("49sm"),r=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===r.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===r.call(File);t.exports=function t(n){if(!n||"object"!=typeof n)return!1;if(i(n)){for(var r=0,s=n.length;r<s;r++)if(t(n[r]))return!0;return!1}if("function"==typeof e&&e.isBuffer&&e.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||o&&n instanceof Blob||a&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return t(n.toJSON(),!0);for(var c in n)if(Object.prototype.hasOwnProperty.call(n,c)&&t(n[c]))return!0;return!1}}).call(this,n("tjlA").Buffer)},Wm4p:function(t,e,n){(function(t){var i,r=n("dkv/"),o=n("WLGk"),a=n("ypnn"),s=n("zMFY"),c=n("oIG/");t&&t.ArrayBuffer&&(i=n("g5Dd"));var u="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),h=u||l;e.protocol=3;var d=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=r(d),f={type:"error",data:"parser error"},m=n("14A5");function v(t,e,n){for(var i=new Array(t.length),r=s(t.length,n),o=function(t,n,r){e(n,function(e,n){i[t]=n,r(e,i)})},a=0;a<t.length;a++)o(a,t[a],r)}e.encodePacket=function(n,i,r,o){"function"==typeof i&&(o=i,i=!1),"function"==typeof r&&(o=r,r=null);var a=void 0===n.data?void 0:n.data.buffer||n.data;if(t.ArrayBuffer&&a instanceof ArrayBuffer)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var r=t.data,o=new Uint8Array(r),a=new Uint8Array(1+r.byteLength);a[0]=d[t.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return i(a.buffer)}(n,i,o);if(m&&a instanceof t.Blob)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);if(h)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var r=new FileReader;return r.onload=function(){t.data=r.result,e.encodePacket(t,n,!0,i)},r.readAsArrayBuffer(t.data)}(t,n,i);var r=new Uint8Array(1);r[0]=d[t.type];var o=new m([r.buffer,t.data]);return i(o)}(n,i,o);if(a&&a.base64)return function(t,n){var i="b"+e.packets[t.type]+t.data.data;return n(i)}(n,o);var s=d[n.type];return void 0!==n.data&&(s+=r?c.encode(String(n.data),{strict:!1}):String(n.data)),o(""+s)},e.encodeBase64Packet=function(n,i){var r,o="b"+e.packets[n.type];if(m&&n.data instanceof t.Blob){var a=new FileReader;return a.onload=function(){var t=a.result.split(",")[1];i(o+t)},a.readAsDataURL(n.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(t){for(var s=new Uint8Array(n.data),c=new Array(s.length),u=0;u<s.length;u++)c[u]=s[u];r=String.fromCharCode.apply(null,c)}return o+=t.btoa(r),i(o)},e.decodePacket=function(t,n,i){if(void 0===t)return f;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(i&&!1===(t=function(t){try{t=c.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return f;var r=t.charAt(0);return Number(r)==r&&p[r]?t.length>1?{type:p[r],data:t.substring(1)}:{type:p[r]}:f}r=new Uint8Array(t)[0];var o=a(t,1);return m&&"blob"===n&&(o=new m([o])),{type:p[r],data:o}},e.decodeBase64Packet=function(t,e){var n=p[t.charAt(0)];if(!i)return{type:n,data:{base64:!0,data:t.substr(1)}};var r=i.decode(t.substr(1));return"blob"===e&&m&&(r=new m([r])),{type:n,data:r}},e.encodePayload=function(t,n,i){"function"==typeof n&&(i=n,n=null);var r=o(t);if(n&&r)return m&&!h?e.encodePayloadAsBlob(t,i):e.encodePayloadAsArrayBuffer(t,i);if(!t.length)return i("0:");v(t,function(t,i){e.encodePacket(t,!!r&&n,!1,function(t){i(null,function(t){return t.length+":"+t}(t))})},function(t,e){return i(e.join(""))})},e.decodePayload=function(t,n,i){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,i);var r;if("function"==typeof n&&(i=n,n=null),""===t)return i(f,0,1);for(var o,a,s="",c=0,u=t.length;c<u;c++){var l=t.charAt(c);if(":"===l){if(""===s||s!=(o=Number(s)))return i(f,0,1);if(s!=(a=t.substr(c+1,o)).length)return i(f,0,1);if(a.length){if(r=e.decodePacket(a,n,!1),f.type===r.type&&f.data===r.data)return i(f,0,1);if(!1===i(r,c+o,u))return}c+=o,s=""}else s+=l}return""!==s?i(f,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));v(t,function(t,n){e.encodePacket(t,!0,!0,function(t){return n(null,t)})},function(t,e){var i=e.reduce(function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2},0),r=new Uint8Array(i),o=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var i=new Uint8Array(t.length),a=0;a<t.length;a++)i[a]=t.charCodeAt(a);n=i.buffer}r[o++]=e?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)r[o++]=parseInt(s[a]);r[o++]=255;for(i=new Uint8Array(n),a=0;a<i.length;a++)r[o++]=i[a]}),n(r.buffer)})},e.encodePayloadAsBlob=function(t,n){v(t,function(t,n){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);t=i.buffer,e[0]=0}var o=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),a=new Uint8Array(o.length+1);for(r=0;r<o.length;r++)a[r]=parseInt(o[r]);if(a[o.length]=255,m){var s=new m([e.buffer,a.buffer,t]);n(null,s)}})},function(t,e){return n(new m(e))})},e.decodePayloadAsBinary=function(t,n,i){"function"==typeof n&&(i=n,n=null);for(var r=t,o=[];r.byteLength>0;){for(var s=new Uint8Array(r),c=0===s[0],u="",l=1;255!==s[l];l++){if(u.length>310)return i(f,0,1);u+=s[l]}r=a(r,2+u.length),u=parseInt(u);var h=a(r,0,u);if(c)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(t){var d=new Uint8Array(h);h="";for(l=0;l<d.length;l++)h+=String.fromCharCode(d[l])}o.push(h),r=a(r,u)}var p=o.length;o.forEach(function(t,r){i(e.decodePacket(t,n,!0),r,p)})}}).call(this,n("yLpj"))},Wst4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=function(){function t(t){this.$el=i(t),this.$conditioner=i('[conditioner="'+i(t).attr("condition-by")+'"]'),this._applyEvents(),this._update()}return t.prototype._update=function(){this._getState()?this.$el.show():this.$el.hide()},t.prototype._getState=function(){return this.$conditioner.get(0)instanceof HTMLInputElement?this.$conditioner.prop("checked"):this.$conditioner.find("input").get().reduce(function(t,e){return 1==+i(e).val()&&i(e).prop("checked")||t},!1)},t.prototype._applyEvents=function(){var t=this;this.$conditioner.get(0)instanceof HTMLInputElement?this.$conditioner.on("change",function(){return t._update()}):this.$conditioner.on("change","input",function(){return t._update()})},t}();i(document).on("hc:ready",function(t,e){t.preventDefault(),i(e||document).find("[condition-by]").each(function(t,e){return new r(e)})})},X8Hv:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=function(){function t(t,e){void 0===e&&(e="toggler");var n=this,i="INPUT"===t.tagName?"change":"click";this.$trigger=o(t),this.$target=o('.toggler-target[name="'+o(t).attr(e)+'"]'),this._refreshOpenState(),this._improveRender(),this.$trigger.on(i,function(t){return n._toggle(t)}),this.$target.on("hc:toggled",function(){return n._refreshOpenState()}),this._apply()}return t.prototype._improveRender=function(){this.$trigger.html(o("<span>").html(this.$trigger.html()))},t.prototype._refreshOpenState=function(){this._openState=this.$target.hasClass("open")},t.prototype._toggle=function(t){t.preventDefault(),t.stopPropagation(),this._openState=!this._openState,this._apply()},t.prototype._apply=function(){this._openState?(this.$target.addClass("open"),this.$trigger.addClass("open")):(this.$target.removeClass("open"),this.$trigger.removeClass("open")),this.$target.trigger("hc:toggled")},t}(),s=function(t){function e(e){var n=t.call(this,e,"toggler-nav")||this;return o(window).on("hashchange",function(){n._openState=!1,n._apply()}),n}return r(e,t),e.prototype._improveRender=function(){},e}(a),c=function(){function t(t){var e=this;this.$trigger=o(t),this.$targets=o('.toggler-target[name="'+o(t).attr("toggler-state")+'"]'),this.$trigger.on("change",function(t){return e._apply()}),this._apply()}return t.prototype._apply=function(){var t=this.$trigger.prop("checked");this.$targets.each(function(e,n){var i="checked"===o(n).attr("active-state");t===i?o(n).addClass("open"):o(n).removeClass("open")}),o(document).trigger("hc:toggle:state:update")},t}();o(document).on("hc:ready",function(t,e){t.preventDefault();var n=o(e||document);n.find("[toggler]").each(function(t,e){return new a(e)}),n.find("[toggler-nav]").each(function(t,e){return new s(e)}),n.find("[toggler-state]").each(function(t,e){return new c(e)})})},XI6i:function(t,e,n){"use strict";var i=n("hkYD"),r=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),e}();t.exports=r},XNsM:function(t,e,n){"use strict";t.exports=function(t){var e=n("arFK"),i=Object.defineProperties({},{version:{get:function(){return e.version}},name:{get:function(){return e.title}}});return n("85wm")(i,t),i.LoggerFactory=n("jsp/")(t.console),i.EventEmitter=n("Sgbe")(t.console),i.C=n("v+J8")(i.name,i.version),i.Exceptions=n("YJcM"),i.Timers=n("f1iV")(t.timers),i.Transport=t.Transport(i,t.WebSocket),n("yHhL")(i),n("ISn3")(i),n("r/r0")(i),n("kmIY")(i),n("6rGI")(i),n("s1MW")(i),n("uFp+")(i),n("Vtwm")(i),i.MediaHandler=n("VDRh")(i.EventEmitter),n("Mkr/")(i),n("Yedn")(i),n("bSB8")(i,t),n("yTRr")(i),i.WebRTC=n("yByE")(i,t),n("TZWu")(i,t),i.Hacks=n("WG3P")(i),n("rbex")(i),i.DigestAuthentication=n("lC1u")(i.Utils),i.Grammar=n("85dL")(i),i}},Xiox:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn");e.openedModal=null,e.originalScroll=0;var r=/^#modal(-([a-z-]*))?/;i(window).on("hashchange",function(t){null!==e.openedModal&&!1===r.test(window.location.hash)&&i(e.openedModal).trigger("close")}),i(window).on("load",function(){var t=r.exec(window.location.hash);null!==t&&(void 0!==t[2]&&i('[modal-request="'+t[2]+'"]').first().trigger("click"),window.history.replaceState(null,null,window.location.href.replace(window.location.hash,"")))});var o=function(){function t(){var t=this;this._replacementInProgress=!1,this._previousHash="",i(this).on("close",function(e,n){return t._closeModal(n)})}return Object.defineProperty(t.prototype,"wrapper",{get:function(){return this.$wrapper},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"replacementInProgress",{get:function(){return this._replacementInProgress},set:function(t){this._replacementInProgress=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modalSuffix",{get:function(){return this._modalSuffix?"-"+this._modalSuffix:""},enumerable:!0,configurable:!0}),t.prototype._openModal=function(t){var n=this;!1!==this._checkResponseAttribute(t)&&(null!==e.openedModal&&(e.openedModal.replacementInProgress=!0,i(e.openedModal).trigger("close")),this.$wrapper=i(t),e.openedModal=this,e.originalScroll=window.scrollY,i("body").append(this.$wrapper),i("body").addClass("modal-opened"),window.setTimeout(function(){return window.scrollTo(0,1e5)},100),this.$wrapper.find("[modal-close]").on("click",function(t){return n._closeModal(t)}),i(document).trigger("hc:ready",this.$wrapper),window.location.hash&&!1===r.test(window.location.hash)&&(this._previousHash=window.location.hash.replace("#","")),window.location.hash="modal"+this.modalSuffix,i(this).trigger("hc:modal:opened"))},t.prototype._closeModal=function(t){if(i(this).trigger("hc:modal:beforeclose"),t){if(t.target!==t.currentTarget)return void(this.replacementInProgress=!1);t.preventDefault(),t.stopPropagation()}window.scrollTo(0,e.originalScroll),i("body").removeClass("modal-opened"),this.$wrapper.remove(),e.openedModal=null,window.history.replaceState(null,null,window.location.href.replace(window.location.hash,"")),i(document).trigger("hc:modal:closed"),""!==this._previousHash&&(window.location.hash=this._previousHash),this._previousHash=""},t.prototype._openFailedModal=function(){var t=i(".modal-failure").html();this._openModal(t)},t.prototype._checkResponseAttribute=function(t){var n=i(t),r=!0;if(n.length>1&&(n=n.filter(".modal-content")),void 0!==n.data("target")){var o=i(n.data("target")).first();o.html(n.html()),i(document).trigger("hc:ready",o),r=!1}if(void 0!==n.data("redirect")&&(window.location.href=n.data("redirect"),r=!1),void 0!==n.attr("close-modal")&&(null!==e.openedModal&&i(e.openedModal).trigger("close"),r=!1),void 0!==n.data("event")){var a=n.data("event").split("|"),s=a.shift();i(document).trigger(s,a)}return r},t}();e.ModalManager=o},Y2K2:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=n("AYob"),s=o,c=function(t){function e(e){var n=t.call(this,e)||this;return n._critical=!0,n}return r(e,t),e.prototype._check=function(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.enumerateDevices().then(function(t){return t.reduce(function(t,e){return"audioinput"===e.kind||t},!1)}):Promise.reject("incompatible browser")},e}(a.PrerequisiteChecker);e.MicroChecker=c;var u=function(t){function e(e){var n=t.call(this,e)||this;n._precision=255,n._stream=null,n.$wrapper.addClass("micro-checker");var i=["AudioContext","webkitAudioContext"].find(function(t){return void 0!==window[t]});return i&&(n._audioCtx=new window[i],n._analyser=n._audioCtx.createAnalyser(),n._processor=new c(n.$wrapper)),n}return r(e,t),e.prototype._check=function(){var t=this;this._processor.check().then(function(){return navigator.mediaDevices.getUserMedia({audio:!0})}).then(function(e){if(t._stream=e,t._audioCtx){t._audioCtx.createMediaStreamSource(e).connect(t._analyser);var n=new Uint8Array(t._analyser.fftSize);t._redraw(n)}}).catch(function(e){return t._showError()})},e.prototype._stop=function(){window.cancelAnimationFrame(this._redrawRequest),this._visualizer.querySelector("mask path").setAttribute("d",""),null!==this._stream&&this._stream.getTracks().map(function(t){return t.stop()}),this._stream=null},e.prototype._createPreview=function(){this._visualizer=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._visualizer.setAttribute("viewBox","0 0 "+this._precision+" "+this._precision),this._visualizer.setAttribute("preserveAspectRatio","none");var t=document.createElementNS("http://www.w3.org/2000/svg","mask");t.id="visualizer-mask";var e=document.createElementNS("http://www.w3.org/2000/svg","path");t.appendChild(e);var n=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");s(n).attr({x1:"0%",y1:"0%",x2:"100%",y2:"0%"}),n.id="vizualizer-gradient";var i=document.createElementNS("http://www.w3.org/2000/svg","stop");i.setAttribute("offset","50%"),i.classList.add("start"),n.appendChild(i);var r=document.createElementNS("http://www.w3.org/2000/svg","stop");r.setAttribute("offset","100%"),r.classList.add("end"),n.appendChild(r);var o=document.createElementNS("http://www.w3.org/2000/svg","rect");s(o).attr({x:0,y:0,width:"100%",height:"100%",mask:"url(#"+t.id+")",fill:"url(#"+n.id+")"}),s(this._visualizer).append(t).append(n).append(o).appendTo(this.$preview)},e.prototype._redraw=function(t){var e=this;this._redrawRequest=window.requestAnimationFrame(function(){return e._redraw(t)}),this._analyser.getByteTimeDomainData(t);for(var n=[],i=0;i<this._precision;i++){var r=Math.floor(t[i])-Math.floor(t[i])%5,o=0===i?"M":"L";n.push(o+" "+i+", "+r)}this._visualizer.querySelector("mask path").setAttribute("d",n.join(" "))},e}(a.PrerequisiteCheckerWithPreview),l=function(t){function e(e){var n=t.call(this,e)||this;return n.$wrapper.addClass("speaker-checker"),n}return r(e,t),e.prototype._check=function(){this._player.play()},e.prototype._stop=function(){this._player.pause(),this._player.currentTime=0},e.prototype._createPreview=function(){this._player=document.createElement("audio");var t=s("<source>"),e=s("<source>");t.attr("src","/sounds/notif-infinite.mp3"),e.attr("src","/sounds/notif-infinite.ogg"),this._player.loop=!0,s(this._player).append(t,e).appendTo(this.$wrapper)},e}(a.PrerequisiteCheckerWithPreview);s(document).on("hc:ready",function(t,e){t.preventDefault();var n=s(e||document);n.find("[prerequisite-micro-checker]").each(function(t,e){return new u(e)}),n.find("[prerequisite-speaker-checker]").each(function(t,e){return new l(e)})})},YJcM:function(t,e,n){"use strict";var i;t.exports={ConfigurationError:(i=function(t,e){this.code=1,this.name="CONFIGURATION_ERROR",this.parameter=t,this.value=e,this.message=this.value?"Invalid value "+JSON.stringify(this.value)+' for parameter "'+this.parameter+'"':"Missing parameter: "+this.parameter},i.prototype=new Error,i),InvalidStateError:function(){var t=function(t){this.code=2,this.name="INVALID_STATE_ERROR",this.status=t,this.message="Invalid status: "+t};return t.prototype=new Error,t}(),NotSupportedError:function(){var t=function(t){this.code=3,this.name="NOT_SUPPORTED_ERROR",this.message=t};return t.prototype=new Error,t}(),GetDescriptionError:function(){var t=function(t){this.code=4,this.name="GET_DESCRIPTION_ERROR",this.message=t};return t.prototype=new Error,t}()}},YMQy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=n("3h4Y"),o=n("Z7UH"),a=n("xDJS"),s=n("qbp5"),c=i,u=function(){function t(t){this.$wrapper=c(t).find(".room-wrapper"),this.$waitingRoom=this.$wrapper.find(".waiting-room"),this.$consultationRoom=this.$wrapper.find(".consultation-room"),this.$errorRoom=this.$wrapper.find(".error-room"),this._options=c.extend({},o.defaultOptions,c(t).data("room-options")),this._timer=new s.Timer(c(t).find(".timer"),this._options),this._registerEvents(),this._attemptConnection()}return t.prototype._attemptConnection=function(){var t=this;c.ajax(this._options.urls.token).done(function(e){r.connect(e.token,{audio:!0,name:t._options.name,video:!0!==t._options.anonymous}).then(function(e){return t._rejoin(e)},function(){return t._displayError("unexpected")})})},t.prototype._displayError=function(t){this.$waitingRoom.hide(),this.$errorRoom.html(this._options.texts[t]).show()},t.prototype._rejoin=function(t){this._room=new a.Room(this.$consultationRoom,t,this._options)},t.prototype._ready=function(){c(window).off("beforeunload"),c(window).on("beforeunload",function(){return""}),this.$waitingRoom.hide(),this.$errorRoom.hide(),this.$consultationRoom.addClass("active"),this._timer.start()},t.prototype._interruptionStart=function(){this._displayError("interruption")},t.prototype._interruptionEnd=function(){this._ready()},t.prototype._clean=function(){c(window).off("beforeunload"),this._room&&(this._room.disconnect(),this._room=null),this._timer.stop()},t.prototype._panelMode=function(){this.$wrapper.toggleClass("panel-mode")},t.prototype._fullscreenMode=function(){var t=this.$consultationRoom.find(".consultation").get(0);o.fullScreenApi.toggleFullScreen(t)},t.prototype._nextStep=function(){this.$wrapper.find(".document-panel form").each(function(t,e){c(e).data("changed")&&c(e).trigger("submit")}),this._clean(),document.location.href=this._options.urls.end},t.prototype._registerEvents=function(){var t=this;c(document).on("hc:room:start",function(){return t._ready()}).on("hc:room:interrupted",function(){return t._interruptionStart()}).on("hc:room:resume",function(){return t._interruptionEnd()}).on("hc:room:panel:switch",function(){return t._panelMode()}).on("hc:room:fullscreen:switch",function(){return t._fullscreenMode()}).on("hc:room:ended",function(){return t._nextStep()});this.$consultationRoom.on("fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",".consultation",function(t){c(t.target).toggleClass("fulscreen-mode")})},t}();e.RoomManager=u,c(document).on("hc:ready",function(t,e){t.preventDefault(),c(e||document).find(".consultation-page").each(function(t,e){return new u(e)})})},Ye3u:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("shdM"),o=n("5wwa").createTwilioError,a=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"getState",value:function(){return{enabled:this.isEnabled,id:this.id,kind:this.kind,name:this.name}}},{key:"update",value:function(t){switch(t.state){case"ready":this.setSid(t.sid);break;case"failed":var e=t.error;this.publishFailed(o(e.code,e.message))}return this}}]),e}();t.exports=a},Yedn:function(t,e,n){"use strict";t.exports=function(t){var e;((e=function(e,n){this.ua=e,this.logger=e.getLogger("sip.servercontext"),this.request=n,n.method===t.C.INVITE?this.transaction=new t.Transactions.InviteServerTransaction(n,e):this.transaction=new t.Transactions.NonInviteServerTransaction(n,e),n.body&&(this.body=n.body),n.hasHeader("Content-Type")&&(this.contentType=n.getHeader("Content-Type")),this.method=n.method,this.data={},this.localIdentity=n.to,this.remoteIdentity=n.from}).prototype=Object.create(t.EventEmitter.prototype)).progress=function(t){return(t=Object.create(t||Object.prototype)).statusCode||(t.statusCode=180),t.minCode=100,t.maxCode=199,t.events=["progress"],this.reply(t)},e.prototype.accept=function(t){return(t=Object.create(t||Object.prototype)).statusCode||(t.statusCode=200),t.minCode=200,t.maxCode=299,t.events=["accepted"],this.reply(t)},e.prototype.reject=function(t){return(t=Object.create(t||Object.prototype)).statusCode||(t.statusCode=480),t.minCode=300,t.maxCode=699,t.events=["rejected","failed"],this.reply(t)},e.prototype.reply=function(e){var n,i=(e=e||{}).statusCode||100,r=e.minCode||100,o=e.maxCode||699,a=t.Utils.getReasonPhrase(i,e.reasonPhrase),s=e.extraHeaders||[],c=e.body,u=e.events||[];if(i<r||i>o)throw new TypeError("Invalid statusCode: "+i);return n=this.request.reply(i,a,s,c),u.forEach(function(t){this.emit(t,n,a)},this),this},e.prototype.onRequestTimeout=function(){this.emit("failed",null,t.C.causes.REQUEST_TIMEOUT)},e.prototype.onTransportError=function(){this.emit("failed",null,t.C.causes.CONNECTION_ERROR)},t.ServerContext=e}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},Yvos:function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},Z7UH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions={name:"room-"+Math.ceil(1e3*Math.random()),patientRoom:!1,duration:0,anonymous:!1,urls:{token:"#",end:"#"},texts:{remaining:"",unexpected:"",interruption:""}},e.fullScreenApi={requestFullScreen:function(t){t.requestFullScreen?t.requestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullScreen&&t.msRequestFullScreen()},exitFullScreen:function(){var t=["exitFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"].find(function(t){return void 0!==document[t]});void 0!==t&&document[t]()},isFullScreen:function(t){var e=null,n=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(function(t){return void 0!==document[t]});return void 0!==n&&(e=document[n]),e===t},toggleFullScreen:function(t){e.fullScreenApi.isFullScreen(t)?e.fullScreenApi.exitFullScreen():e.fullScreenApi.requestFullScreen(t)}}},"Zej/":function(t,e,n){var i,r,o;!function(a){"use strict";r=[n("EVdn")],void 0===(o="function"==typeof(i=function(t){var e=window.Slick||{};(e=function(){var e=0;return function(n,i){var r,o=this;o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(n),appendDots:t(n),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,n){return t('<button type="button" />').text(n+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},t.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.focussed=!1,o.interrupted=!1,o.hidden="hidden",o.paused=!0,o.positionProp=null,o.respondTo=null,o.rowCount=1,o.shouldClick=!0,o.$slider=t(n),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.visibilityChange="visibilitychange",o.windowWidth=0,o.windowTimer=null,r=t(n).data("slick")||{},o.options=t.extend({},o.defaults,i,r),o.currentSlide=o.options.initialSlide,o.originalSettings=o.options,void 0!==document.mozHidden?(o.hidden="mozHidden",o.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(o.hidden="webkitHidden",o.visibilityChange="webkitvisibilitychange");o.autoPlay=t.proxy(o.autoPlay,o),o.autoPlayClear=t.proxy(o.autoPlayClear,o),o.autoPlayIterator=t.proxy(o.autoPlayIterator,o),o.changeSlide=t.proxy(o.changeSlide,o),o.clickHandler=t.proxy(o.clickHandler,o),o.selectHandler=t.proxy(o.selectHandler,o),o.setPosition=t.proxy(o.setPosition,o),o.swipeHandler=t.proxy(o.swipeHandler,o),o.dragHandler=t.proxy(o.dragHandler,o),o.keyHandler=t.proxy(o.keyHandler,o),o.instanceUid=e++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.registerBreakpoints(),o.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,n,i){var r=this;if("boolean"==typeof n)i=n,n=null;else if(n<0||n>=r.slideCount)return!1;r.unload(),"number"==typeof n?0===n&&0===r.$slides.length?t(e).appendTo(r.$slideTrack):i?t(e).insertBefore(r.$slides.eq(n)):t(e).insertAfter(r.$slides.eq(n)):!0===i?t(e).prependTo(r.$slideTrack):t(e).appendTo(r.$slideTrack),r.$slides=r.$slideTrack.children(this.options.slide),r.$slideTrack.children(this.options.slide).detach(),r.$slideTrack.append(r.$slides),r.$slides.each(function(e,n){t(n).attr("data-slick-index",e)}),r.$slidesCache=r.$slides,r.reinit()},e.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},e.prototype.animateSlide=function(e,n){var i={},r=this;r.animateHeight(),!0===r.options.rtl&&!1===r.options.vertical&&(e=-e),!1===r.transformsEnabled?!1===r.options.vertical?r.$slideTrack.animate({left:e},r.options.speed,r.options.easing,n):r.$slideTrack.animate({top:e},r.options.speed,r.options.easing,n):!1===r.cssTransitions?(!0===r.options.rtl&&(r.currentLeft=-r.currentLeft),t({animStart:r.currentLeft}).animate({animStart:e},{duration:r.options.speed,easing:r.options.easing,step:function(t){t=Math.ceil(t),!1===r.options.vertical?(i[r.animType]="translate("+t+"px, 0px)",r.$slideTrack.css(i)):(i[r.animType]="translate(0px,"+t+"px)",r.$slideTrack.css(i))},complete:function(){n&&n.call()}})):(r.applyTransition(),e=Math.ceil(e),!1===r.options.vertical?i[r.animType]="translate3d("+e+"px, 0px, 0px)":i[r.animType]="translate3d(0px,"+e+"px, 0px)",r.$slideTrack.css(i),n&&setTimeout(function(){r.disableTransition(),n.call()},r.options.speed))},e.prototype.getNavTarget=function(){var e=this.options.asNavFor;return e&&null!==e&&(e=t(e).not(this.$slider)),e},e.prototype.asNavFor=function(e){var n=this.getNavTarget();null!==n&&"object"==typeof n&&n.each(function(){var n=t(this).slick("getSlick");n.unslicked||n.slideHandler(e,!0)})},e.prototype.applyTransition=function(t){var e=this,n={};!1===e.options.fade?n[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:n[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},e.prototype.autoPlay=function(){var t=this;t.autoPlayClear(),t.slideCount>t.options.slidesToShow&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0&&(t.direction=1))),t.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=t(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=t(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,n,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(i.$slider.addClass("slick-dotted"),n=t("<ul />").addClass(i.options.dotsClass),e=0;e<=i.getDotCount();e+=1)n.append(t("<li />").append(i.options.customPaging.call(this,i,e)));i.$dots=n.appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,n){t(n).attr("data-slick-index",e).data("originalStyling",t(n).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var t,e,n,i,r,o,a,s=this;if(i=document.createDocumentFragment(),o=s.$slider.children(),s.options.rows>0){for(a=s.options.slidesPerRow*s.options.rows,r=Math.ceil(o.length/a),t=0;t<r;t++){var c=document.createElement("div");for(e=0;e<s.options.rows;e++){var u=document.createElement("div");for(n=0;n<s.options.slidesPerRow;n++){var l=t*a+(e*s.options.slidesPerRow+n);o.get(l)&&u.appendChild(o.get(l))}c.appendChild(u)}i.appendChild(c)}s.$slider.empty().append(i),s.$slider.children().children().children().css({width:100/s.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,n){var i,r,o,a=this,s=!1,c=a.$slider.width(),u=window.innerWidth||t(window).width();if("window"===a.respondTo?o=u:"slider"===a.respondTo?o=c:"min"===a.respondTo&&(o=Math.min(u,c)),a.options.responsive&&a.options.responsive.length&&null!==a.options.responsive){for(i in r=null,a.breakpoints)a.breakpoints.hasOwnProperty(i)&&(!1===a.originalSettings.mobileFirst?o<a.breakpoints[i]&&(r=a.breakpoints[i]):o>a.breakpoints[i]&&(r=a.breakpoints[i]));null!==r?null!==a.activeBreakpoint?(r!==a.activeBreakpoint||n)&&(a.activeBreakpoint=r,"unslick"===a.breakpointSettings[r]?a.unslick(r):(a.options=t.extend({},a.originalSettings,a.breakpointSettings[r]),!0===e&&(a.currentSlide=a.options.initialSlide),a.refresh(e)),s=r):(a.activeBreakpoint=r,"unslick"===a.breakpointSettings[r]?a.unslick(r):(a.options=t.extend({},a.originalSettings,a.breakpointSettings[r]),!0===e&&(a.currentSlide=a.options.initialSlide),a.refresh(e)),s=r):null!==a.activeBreakpoint&&(a.activeBreakpoint=null,a.options=a.originalSettings,!0===e&&(a.currentSlide=a.options.initialSlide),a.refresh(e),s=r),e||!1===s||a.$slider.trigger("breakpoint",[a,s])}},e.prototype.changeSlide=function(e,n){var i,r,o,a=this,s=t(e.currentTarget);switch(s.is("a")&&e.preventDefault(),s.is("li")||(s=s.closest("li")),o=a.slideCount%a.options.slidesToScroll!=0,i=o?0:(a.slideCount-a.currentSlide)%a.options.slidesToScroll,e.data.message){case"previous":r=0===i?a.options.slidesToScroll:a.options.slidesToShow-i,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide-r,!1,n);break;case"next":r=0===i?a.options.slidesToScroll:i,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide+r,!1,n);break;case"index":var c=0===e.data.index?0:e.data.index||s.index()*a.options.slidesToScroll;a.slideHandler(a.checkNavigable(c),!1,n),s.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(t){var e,n;if(e=this.getNavigableIndexes(),n=0,t>e[e.length-1])t=e[e.length-1];else for(var i in e){if(t<e[i]){t=n;break}n=e[i]}return t},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(t("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",t.proxy(e.interrupt,e,!0)).off("mouseleave.slick",t.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),t(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().off("click.slick",e.selectHandler),t(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),t(window).off("resize.slick.slick-"+e.instanceUid,e.resize),t("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),t(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var t,e=this;e.options.rows>0&&((t=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(t))},e.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},e.prototype.destroy=function(e){var n=this;n.autoPlayClear(),n.touchObject={},n.cleanUpEvents(),t(".slick-cloned",n.$slider).detach(),n.$dots&&n.$dots.remove(),n.$prevArrow&&n.$prevArrow.length&&(n.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.prevArrow)&&n.$prevArrow.remove()),n.$nextArrow&&n.$nextArrow.length&&(n.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.nextArrow)&&n.$nextArrow.remove()),n.$slides&&(n.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){t(this).attr("style",t(this).data("originalStyling"))}),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.detach(),n.$list.detach(),n.$slider.append(n.$slides)),n.cleanUpRows(),n.$slider.removeClass("slick-slider"),n.$slider.removeClass("slick-initialized"),n.$slider.removeClass("slick-dotted"),n.unslicked=!0,e||n.$slider.trigger("destroy",[n])},e.prototype.disableTransition=function(t){var e=this,n={};n[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},e.prototype.fadeSlide=function(t,e){var n=this;!1===n.cssTransitions?(n.$slides.eq(t).css({zIndex:n.options.zIndex}),n.$slides.eq(t).animate({opacity:1},n.options.speed,n.options.easing,e)):(n.applyTransition(t),n.$slides.eq(t).css({opacity:1,zIndex:n.options.zIndex}),e&&setTimeout(function(){n.disableTransition(t),e.call()},n.options.speed))},e.prototype.fadeSlideOut=function(t){var e=this;!1===e.cssTransitions?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(n){n.stopImmediatePropagation();var i=t(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=i.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var t=this,e=0,n=0,i=0;if(!0===t.options.infinite)if(t.slideCount<=t.options.slidesToShow)++i;else for(;e<t.slideCount;)++i,e=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)i=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++i,e=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else i=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return i-1},e.prototype.getLeft=function(t){var e,n,i,r,o=this,a=0;return o.slideOffset=0,n=o.$slides.first().outerHeight(!0),!0===o.options.infinite?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideWidth*o.options.slidesToShow*-1,r=-1,!0===o.options.vertical&&!0===o.options.centerMode&&(2===o.options.slidesToShow?r=-1.5:1===o.options.slidesToShow&&(r=-2)),a=n*o.options.slidesToShow*r),o.slideCount%o.options.slidesToScroll!=0&&t+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(t>o.slideCount?(o.slideOffset=(o.options.slidesToShow-(t-o.slideCount))*o.slideWidth*-1,a=(o.options.slidesToShow-(t-o.slideCount))*n*-1):(o.slideOffset=o.slideCount%o.options.slidesToScroll*o.slideWidth*-1,a=o.slideCount%o.options.slidesToScroll*n*-1))):t+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(t+o.options.slidesToShow-o.slideCount)*o.slideWidth,a=(t+o.options.slidesToShow-o.slideCount)*n),o.slideCount<=o.options.slidesToShow&&(o.slideOffset=0,a=0),!0===o.options.centerMode&&o.slideCount<=o.options.slidesToShow?o.slideOffset=o.slideWidth*Math.floor(o.options.slidesToShow)/2-o.slideWidth*o.slideCount/2:!0===o.options.centerMode&&!0===o.options.infinite?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:!0===o.options.centerMode&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),e=!1===o.options.vertical?t*o.slideWidth*-1+o.slideOffset:t*n*-1+a,!0===o.options.variableWidth&&(i=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow),e=!0===o.options.rtl?i[0]?-1*(o.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,!0===o.options.centerMode&&(i=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow+1),e=!0===o.options.rtl?i[0]?-1*(o.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,e+=(o.$list.width()-i.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(t){return this.options[t]},e.prototype.getNavigableIndexes=function(){var t,e=this,n=0,i=0,r=[];for(!1===e.options.infinite?t=e.slideCount:(n=-1*e.options.slidesToScroll,i=-1*e.options.slidesToScroll,t=2*e.slideCount);n<t;)r.push(n),n=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return r},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,n,i=this;return n=!0===i.options.centerMode?i.slideWidth*Math.floor(i.options.slidesToShow/2):0,!0===i.options.swipeToSlide?(i.$slideTrack.find(".slick-slide").each(function(r,o){if(o.offsetLeft-n+t(o).outerWidth()/2>-1*i.swipeLeft)return e=o,!1}),Math.abs(t(e).attr("data-slick-index")-i.currentSlide)||1):i.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},e.prototype.init=function(e){var n=this;t(n.$slider).hasClass("slick-initialized")||(t(n.$slider).addClass("slick-initialized"),n.buildRows(),n.buildOut(),n.setProps(),n.startLoad(),n.loadSlider(),n.initializeEvents(),n.updateArrows(),n.updateDots(),n.checkResponsive(!0),n.focusHandler()),e&&n.$slider.trigger("init",[n]),!0===n.options.accessibility&&n.initADA(),n.options.autoplay&&(n.paused=!1,n.autoPlay())},e.prototype.initADA=function(){var e=this,n=Math.ceil(e.slideCount/e.options.slidesToShow),i=e.getNavigableIndexes().filter(function(t){return t>=0&&t<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(n){var r=i.indexOf(n);if(t(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+n,tabindex:-1}),-1!==r){var o="slick-slide-control"+e.instanceUid+r;t("#"+o).length&&t(this).attr({"aria-describedby":o})}}),e.$dots.attr("role","tablist").find("li").each(function(r){var o=i[r];t(this).attr({role:"presentation"}),t(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+r,"aria-controls":"slick-slide"+e.instanceUid+o,"aria-label":r+1+" of "+n,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var r=e.currentSlide,o=r+e.options.slidesToShow;r<o;r++)e.options.focusOnChange?e.$slides.eq(r).attr({tabindex:"0"}):e.$slides.eq(r).removeAttr("tabindex");e.activateADA()},e.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow.on("keydown.slick",t.keyHandler),t.$nextArrow.on("keydown.slick",t.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&(t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&e.slideCount>e.options.slidesToShow&&t("li",e.$dots).on("mouseenter.slick",t.proxy(e.interrupt,e,!0)).on("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",t.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),t(document).on(e.visibilityChange,t.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,t.proxy(e.orientationChange,e)),t(window).on("resize.slick.slick-"+e.instanceUid,t.proxy(e.resize,e)),t("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(e.setPosition)},e.prototype.initUI=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.show()},e.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){var e,n,i,r=this;function o(e){t("img[data-lazy]",e).each(function(){var e=t(this),n=t(this).attr("data-lazy"),i=t(this).attr("data-srcset"),o=t(this).attr("data-sizes")||r.$slider.attr("data-sizes"),a=document.createElement("img");a.onload=function(){e.animate({opacity:0},100,function(){i&&(e.attr("srcset",i),o&&e.attr("sizes",o)),e.attr("src",n).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),r.$slider.trigger("lazyLoaded",[r,e,n])})},a.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,e,n])},a.src=n})}if(!0===r.options.centerMode?!0===r.options.infinite?(n=r.currentSlide+(r.options.slidesToShow/2+1),i=n+r.options.slidesToShow+2):(n=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),i=r.options.slidesToShow/2+1+2+r.currentSlide):(n=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,i=Math.ceil(n+r.options.slidesToShow),!0===r.options.fade&&(n>0&&n--,i<=r.slideCount&&i++)),e=r.$slider.find(".slick-slide").slice(n,i),"anticipated"===r.options.lazyLoad)for(var a=n-1,s=i,c=r.$slider.find(".slick-slide"),u=0;u<r.options.slidesToScroll;u++)a<0&&(a=r.slideCount-1),e=(e=e.add(c.eq(a))).add(c.eq(s)),a--,s++;o(e),r.slideCount<=r.options.slidesToShow?o(r.$slider.find(".slick-slide")):r.currentSlide>=r.slideCount-r.options.slidesToShow?o(r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow)):0===r.currentSlide&&o(r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var t=this;t.autoPlay(),t.options.autoplay=!0,t.paused=!1,t.focussed=!1,t.interrupted=!1},e.prototype.postSlide=function(e){var n=this;if(!n.unslicked&&(n.$slider.trigger("afterChange",[n,e]),n.animating=!1,n.slideCount>n.options.slidesToShow&&n.setPosition(),n.swipeLeft=null,n.options.autoplay&&n.autoPlay(),!0===n.options.accessibility&&(n.initADA(),n.options.focusOnChange))){var i=t(n.$slides.get(n.currentSlide));i.attr("tabindex",0).focus()}},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(t){t.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var n,i,r,o,a,s=this,c=t("img[data-lazy]",s.$slider);c.length?(n=c.first(),i=n.attr("data-lazy"),r=n.attr("data-srcset"),o=n.attr("data-sizes")||s.$slider.attr("data-sizes"),(a=document.createElement("img")).onload=function(){r&&(n.attr("srcset",r),o&&n.attr("sizes",o)),n.attr("src",i).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===s.options.adaptiveHeight&&s.setPosition(),s.$slider.trigger("lazyLoaded",[s,n,i]),s.progressiveLazyLoad()},a.onerror=function(){e<3?setTimeout(function(){s.progressiveLazyLoad(e+1)},500):(n.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,n,i]),s.progressiveLazyLoad())},a.src=i):s.$slider.trigger("allImagesLoaded",[s])},e.prototype.refresh=function(e){var n,i,r=this;i=r.slideCount-r.options.slidesToShow,!r.options.infinite&&r.currentSlide>i&&(r.currentSlide=i),r.slideCount<=r.options.slidesToShow&&(r.currentSlide=0),n=r.currentSlide,r.destroy(!0),t.extend(r,r.initials,{currentSlide:n}),r.init(),e||r.changeSlide({data:{message:"index",index:n}},!1)},e.prototype.registerBreakpoints=function(){var e,n,i,r=this,o=r.options.responsive||null;if("array"===t.type(o)&&o.length){for(e in r.respondTo=r.options.respondTo||"window",o)if(i=r.breakpoints.length-1,o.hasOwnProperty(e)){for(n=o[e].breakpoint;i>=0;)r.breakpoints[i]&&r.breakpoints[i]===n&&r.breakpoints.splice(i,1),i--;r.breakpoints.push(n),r.breakpointSettings[n]=o[e].settings}r.breakpoints.sort(function(t,e){return r.options.mobileFirst?t-e:e-t})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(t,e,n){var i=this;if(t="boolean"==typeof t?!0===(e=t)?0:i.slideCount-1:!0===e?--t:t,i.slideCount<1||t<0||t>i.slideCount-1)return!1;i.unload(),!0===n?i.$slideTrack.children().remove():i.$slideTrack.children(this.options.slide).eq(t).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,i.reinit()},e.prototype.setCSS=function(t){var e,n,i=this,r={};!0===i.options.rtl&&(t=-t),e="left"==i.positionProp?Math.ceil(t)+"px":"0px",n="top"==i.positionProp?Math.ceil(t)+"px":"0px",r[i.positionProp]=t,!1===i.transformsEnabled?i.$slideTrack.css(r):(r={},!1===i.cssTransitions?(r[i.animType]="translate("+e+", "+n+")",i.$slideTrack.css(r)):(r[i.animType]="translate3d("+e+", "+n+", 0px)",i.$slideTrack.css(r)))},e.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},e.prototype.setFade=function(){var e,n=this;n.$slides.each(function(i,r){e=n.slideWidth*i*-1,!0===n.options.rtl?t(r).css({position:"relative",right:e,top:0,zIndex:n.options.zIndex-2,opacity:0}):t(r).css({position:"relative",left:e,top:0,zIndex:n.options.zIndex-2,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:n.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,n,i,r,o,a=this,s=!1;if("object"===t.type(arguments[0])?(i=arguments[0],s=arguments[1],o="multiple"):"string"===t.type(arguments[0])&&(i=arguments[0],r=arguments[1],s=arguments[2],"responsive"===arguments[0]&&"array"===t.type(arguments[1])?o="responsive":void 0!==arguments[1]&&(o="single")),"single"===o)a.options[i]=r;else if("multiple"===o)t.each(i,function(t,e){a.options[t]=e});else if("responsive"===o)for(n in r)if("array"!==t.type(a.options.responsive))a.options.responsive=[r[n]];else{for(e=a.options.responsive.length-1;e>=0;)a.options.responsive[e].breakpoint===r[n].breakpoint&&a.options.responsive.splice(e,1),e--;a.options.responsive.push(r[n])}s&&(a.unload(),a.reinit())},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),!1===t.options.fade?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},e.prototype.setSlideClasses=function(t){var e,n,i,r,o=this;if(n=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(t).addClass("slick-current"),!0===o.options.centerMode){var a=o.options.slidesToShow%2==0?1:0;e=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(t>=e&&t<=o.slideCount-1-e?o.$slides.slice(t-e+a,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(i=o.options.slidesToShow+t,n.slice(i-e+1+a,i+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?n.eq(n.length-1-o.options.slidesToShow).addClass("slick-center"):t===o.slideCount-1&&n.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(t).addClass("slick-center")}else t>=0&&t<=o.slideCount-o.options.slidesToShow?o.$slides.slice(t,t+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):n.length<=o.options.slidesToShow?n.addClass("slick-active").attr("aria-hidden","false"):(r=o.slideCount%o.options.slidesToShow,i=!0===o.options.infinite?o.options.slidesToShow+t:t,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-t<o.options.slidesToShow?n.slice(i-(o.options.slidesToShow-r),i+r).addClass("slick-active").attr("aria-hidden","false"):n.slice(i,i+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==o.options.lazyLoad&&"anticipated"!==o.options.lazyLoad||o.lazyLoad()},e.prototype.setupInfinite=function(){var e,n,i,r=this;if(!0===r.options.fade&&(r.options.centerMode=!1),!0===r.options.infinite&&!1===r.options.fade&&(n=null,r.slideCount>r.options.slidesToShow)){for(i=!0===r.options.centerMode?r.options.slidesToShow+1:r.options.slidesToShow,e=r.slideCount;e>r.slideCount-i;e-=1)n=e-1,t(r.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n-r.slideCount).prependTo(r.$slideTrack).addClass("slick-cloned");for(e=0;e<i+r.slideCount;e+=1)n=e,t(r.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n+r.slideCount).appendTo(r.$slideTrack).addClass("slick-cloned");r.$slideTrack.find(".slick-cloned").find("[id]").each(function(){t(this).attr("id","")})}},e.prototype.interrupt=function(t){t||this.autoPlay(),this.interrupted=t},e.prototype.selectHandler=function(e){var n=this,i=t(e.target).is(".slick-slide")?t(e.target):t(e.target).parents(".slick-slide"),r=parseInt(i.attr("data-slick-index"));r||(r=0),n.slideCount<=n.options.slidesToShow?n.slideHandler(r,!1,!0):n.slideHandler(r)},e.prototype.slideHandler=function(t,e,n){var i,r,o,a,s,c=null,u=this;if(e=e||!1,!(!0===u.animating&&!0===u.options.waitForAnimate||!0===u.options.fade&&u.currentSlide===t))if(!1===e&&u.asNavFor(t),i=t,c=u.getLeft(i),a=u.getLeft(u.currentSlide),u.currentLeft=null===u.swipeLeft?a:u.swipeLeft,!1===u.options.infinite&&!1===u.options.centerMode&&(t<0||t>u.getDotCount()*u.options.slidesToScroll))!1===u.options.fade&&(i=u.currentSlide,!0!==n&&u.slideCount>u.options.slidesToShow?u.animateSlide(a,function(){u.postSlide(i)}):u.postSlide(i));else if(!1===u.options.infinite&&!0===u.options.centerMode&&(t<0||t>u.slideCount-u.options.slidesToScroll))!1===u.options.fade&&(i=u.currentSlide,!0!==n&&u.slideCount>u.options.slidesToShow?u.animateSlide(a,function(){u.postSlide(i)}):u.postSlide(i));else{if(u.options.autoplay&&clearInterval(u.autoPlayTimer),r=i<0?u.slideCount%u.options.slidesToScroll!=0?u.slideCount-u.slideCount%u.options.slidesToScroll:u.slideCount+i:i>=u.slideCount?u.slideCount%u.options.slidesToScroll!=0?0:i-u.slideCount:i,u.animating=!0,u.$slider.trigger("beforeChange",[u,u.currentSlide,r]),o=u.currentSlide,u.currentSlide=r,u.setSlideClasses(u.currentSlide),u.options.asNavFor&&(s=(s=u.getNavTarget()).slick("getSlick")).slideCount<=s.options.slidesToShow&&s.setSlideClasses(u.currentSlide),u.updateDots(),u.updateArrows(),!0===u.options.fade)return!0!==n?(u.fadeSlideOut(o),u.fadeSlide(r,function(){u.postSlide(r)})):u.postSlide(r),void u.animateHeight();!0!==n&&u.slideCount>u.options.slidesToShow?u.animateSlide(c,function(){u.postSlide(r)}):u.postSlide(r)}},e.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,n,i,r=this;return t=r.touchObject.startX-r.touchObject.curX,e=r.touchObject.startY-r.touchObject.curY,n=Math.atan2(e,t),(i=Math.round(180*n/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0?!1===r.options.rtl?"left":"right":i<=360&&i>=315?!1===r.options.rtl?"left":"right":i>=135&&i<=225?!1===r.options.rtl?"right":"left":!0===r.options.verticalSwiping?i>=35&&i<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(t){var e,n,i=this;if(i.dragging=!1,i.swiping=!1,i.scrolling)return i.scrolling=!1,!1;if(i.interrupted=!1,i.shouldClick=!(i.touchObject.swipeLength>10),void 0===i.touchObject.curX)return!1;if(!0===i.touchObject.edgeHit&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe){switch(n=i.swipeDirection()){case"left":case"down":e=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.currentDirection=0;break;case"right":case"up":e=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.currentDirection=1}"vertical"!=n&&(i.slideHandler(e),i.touchObject={},i.$slider.trigger("swipe",[i,n]))}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,n,i,r,o,a,s=this;return o=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!s.dragging||s.scrolling||o&&1!==o.length)&&(e=s.getLeft(s.currentSlide),s.touchObject.curX=void 0!==o?o[0].pageX:t.clientX,s.touchObject.curY=void 0!==o?o[0].pageY:t.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),a=Math.round(Math.sqrt(Math.pow(s.touchObject.curY-s.touchObject.startY,2))),!s.options.verticalSwiping&&!s.swiping&&a>4?(s.scrolling=!0,!1):(!0===s.options.verticalSwiping&&(s.touchObject.swipeLength=a),n=s.swipeDirection(),void 0!==t.originalEvent&&s.touchObject.swipeLength>4&&(s.swiping=!0,t.preventDefault()),r=(!1===s.options.rtl?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),!0===s.options.verticalSwiping&&(r=s.touchObject.curY>s.touchObject.startY?1:-1),i=s.touchObject.swipeLength,s.touchObject.edgeHit=!1,!1===s.options.infinite&&(0===s.currentSlide&&"right"===n||s.currentSlide>=s.getDotCount()&&"left"===n)&&(i=s.touchObject.swipeLength*s.options.edgeFriction,s.touchObject.edgeHit=!0),!1===s.options.vertical?s.swipeLeft=e+i*r:s.swipeLeft=e+i*(s.$list.height()/s.listWidth)*r,!0===s.options.verticalSwiping&&(s.swipeLeft=e+i*r),!0!==s.options.fade&&!1!==s.options.touchMove&&(!0===s.animating?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft))))},e.prototype.swipeStart=function(t){var e,n=this;if(n.interrupted=!0,1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow)return n.touchObject={},!1;void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==e?e.pageX:t.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==e?e.pageY:t.clientY,n.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},e.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").end(),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var t=this;t.options.autoplay&&(document[t.hidden]?t.interrupted=!0:t.interrupted=!1)},t.fn.slick=function(){var t,n,i=this,r=arguments[0],o=Array.prototype.slice.call(arguments,1),a=i.length;for(t=0;t<a;t++)if("object"==typeof r||void 0===r?i[t].slick=new e(i[t],r):n=i[t].slick[r].apply(i[t].slick,o),void 0!==n)return n;return i}})?i.apply(e,r):i)||(t.exports=o)}()},ZfiD:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("STyX"),o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{lastReport:{enumerable:!0,value:new r(0,0),writable:!0},lastStats:{enumerable:!0,value:null,writable:!0}})}return i(t,[{key:"next",value:function(t){var e=this.lastStats;if(this.lastStats=t,e){var n=e.id===t.id?r.of(e,t):new r(0,0);this.lastReport=n}return this.lastReport}}]),t}();t.exports=o},Zh92:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=n("Xiox"),s=o,c=function(t){function e(e){var n=t.call(this)||this;return""!==s(e).attr("modal-autoload")?n._request(s(e).attr("modal-autoload")):n._openModal(s(e).html()),n}return r(e,t),e.prototype._request=function(t){var e=this;s.ajax(t).done(function(t){return e._openModal(t)}).fail(function(){return e._openFailedModal()})},e}(a.ModalManager);s(document).on("hc:ready",function(t,e){t.preventDefault(),s(e||document).find("[modal-autoload]").each(function(t,e){return new c(e)})})},aQcx:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var o=n("O22K");t.exports=function(t){return function(e){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e=Object.assign({},e);var i=new o(t),r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,e));return Object.defineProperties(r,{_didCallEnd:{value:!1,writable:!0},_trackSender:{value:i},isEnabled:{enumerable:!0,get:function(){return t.enabled}},isStopped:{get:function(){return"ended"===t.readyState}}}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),i(n,[{key:"_end",value:function(){this._didCallEnd||(r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_end",this).call(this),this._didCallEnd=!0,this.emit("stopped",this))}},{key:"enable",value:function(t){return(t="boolean"!=typeof t||t)!==this.mediaStreamTrack.enabled&&(this._log.info((t?"En":"Dis")+"abling"),this.mediaStreamTrack.enabled=t,this.emit(t?"enabled":"disabled",this)),this}},{key:"disable",value:function(){return this.enable(!1)}},{key:"stop",value:function(){return this._log.info("Stopping"),this.mediaStreamTrack.stop(),this._end(),this}}]),n}()}},akGs:function(t,e,n){"use strict";t.exports=function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{id:{enumerable:!0,value:e,writable:!0},trackId:{enumerable:!0,value:n,writable:!0},lastStats:{enumerable:!0,value:i,writable:!0}})}},akSB:function(t,e,n){(function(t){var i=n("AdPF"),r=n("0z79"),o=n("Cl5A"),a=n("CIKq");e.polling=function(e){var n=!1,a=!1,s=!1!==e.jsonp;if(t.location){var c="https:"===location.protocol,u=location.port;u||(u=c?443:80),n=e.hostname!==location.hostname||u!==e.port,a=e.secure!==c}if(e.xdomain=n,e.xscheme=a,"open"in new i(e)&&!e.forceJSONP)return new r(e);if(!s)throw new Error("JSONP disabled");return new o(e)},e.websocket=a}).call(this,n("yLpj"))},arFK:function(t){t.exports={name:"@twilio/sip.js",title:"SIP.js",description:"A simple, intuitive, and powerful JavaScript signaling library",version:"0.7.7",main:"src/index.js",browser:{"./src/environment.js":"./src/environment_browser.js"},homepage:"http://sipjs.com",author:"OnSIP <developer@onsip.com> (http://sipjs.com/authors/)",contributors:[{url:"https://github.com/onsip/SIP.js/blob/master/THANKS.md"}],repository:{type:"git",url:"https://github.com/onsip/SIP.js.git"},keywords:["sip","websocket","webrtc","library","javascript"],devDependencies:{beefy:"^2.1.5",browserify:"^4.1.8",grunt:"~0.4.0","grunt-browserify":"^4.0.1","grunt-cli":"~0.1.6","grunt-contrib-copy":"^0.5.0","grunt-contrib-jasmine":"^1.0.3","grunt-contrib-jshint":">0.5.0","grunt-contrib-uglify":"~0.2.0","grunt-peg":"~1.3.1","grunt-trimtrailingspaces":"^0.4.0",pegjs:"^0.8.0","release-tool":"^0.2.2"},engines:{node:">=0.12"},license:"MIT",scripts:{repl:"beefy test/repl.js --open",build:"grunt build",test:"grunt travis --verbose"},_resolved:"https://registry.npmjs.org/@twilio/sip.js/-/sip.js-0.7.7.tgz",_integrity:"sha1-z/UPZvmyldRvIZc3tyeAx9Dm31I=",_from:"@twilio/sip.js@0.7.7"}},b9Z9:function(t,e,n){"use strict";var i=n("i99/"),r=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),r=null;return"number"==typeof n.frameWidthReceived&&"number"==typeof n.frameHeightReceived&&(r={},Object.defineProperties(r,{width:{value:n.frameWidthReceived,enumerable:!0},height:{value:n.frameHeightReceived,enumerable:!0}})),Object.defineProperties(i,{dimensions:{value:r,enumerable:!0},frameRate:{value:"number"==typeof n.frameRateReceived?n.frameRateReceived:null,enumerable:!0}}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),e}();t.exports=r},bPX7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=function(){function t(t){var e=this;this.$el=i(t),this.$name=this.$el.find(".navigator"),this.$message=this.$el.find(".alert-message");var n={alertNav:this.$el.attr("alertNavigator"),alertVer:this.$el.attr("alertVersion")};if(this.$el.find(".icon-close").on("click",function(t){e.$el.hide(),sessionStorage.setItem("alertNav","hide")}),!sessionStorage.getItem("alertNav")){var r=this.$el.find(".dl-navigator"),o=this._get_browser();switch(o.name){case"Chrome":Number(o.version)<64&&(this._showAlert(o.name,n.alertVer),r.attr("href","https://www.google.com/chrome/"));break;case"Firefox":Number(o.version)<58&&(this._showAlert(o.name,n.alertVer),r.attr("href","https://www.mozilla.org/fr/firefox/new/"));break;case"Safari":Number(o.version)<11&&(this._showAlert(o.name,n.alertVer),r.attr("href","https://www.apple.com/fr/safari/"));break;default:this._showAlert(null,n.alertNav),r.attr("href","https://www.google.com/chrome/")}}}return t.prototype._showAlert=function(t,e){t?this.$name.text(t):this.$name.text("Chrome"),this.$message.text(e),this.$el.show()},t.prototype._get_browser=function(){var t=navigator.userAgent,e=null,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===n[1]&&null!==(e=t.match(/\bOPR|Edge\/(\d+)/))?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})},t}();i(document).on("hc:ready",function(t,e){t.preventDefault();var n=i(e||document);n.find(".compatibility-warning").each(function(t,e){return new r(e)}),n.find("[data-user-logged]").each(function(t,e){i(e).data("user-logged")||sessionStorage.removeItem("alertNav")})})},bSB8:function(t,e,n){"use strict";t.exports=function(t,e){var i,r,o,a=n("SmKZ")(t),s=n("jOJy")(t.Timers),c={STATUS_NULL:0,STATUS_INVITE_SENT:1,STATUS_1XX_RECEIVED:2,STATUS_INVITE_RECEIVED:3,STATUS_WAITING_FOR_ANSWER:4,STATUS_ANSWERED:5,STATUS_WAITING_FOR_PRACK:6,STATUS_WAITING_FOR_ACK:7,STATUS_CANCELED:8,STATUS_TERMINATED:9,STATUS_ANSWERED_WAITING_FOR_PRACK:10,STATUS_EARLY_MEDIA:11,STATUS_CONFIRMED:12};(i=function(e){this.status=c.STATUS_NULL,this.dialog=null,this.earlyDialogs={},this.mediaHandlerFactory=e||t.WebRTC.MediaHandler.defaultFactory,this.hasOffer=!1,this.hasAnswer=!1,this.timers={ackTimer:null,expiresTimer:null,invite2xxTimer:null,userNoAnswerTimer:null,rel1xxTimer:null,prackTimer:null},this.startTime=null,this.endTime=null,this.tones=null,this.local_hold=!1,this.remote_hold=!1,this.pending_actions={actions:[],length:function(){return this.actions.length},isPending:function(t){for(var e=0,n=this.actions.length;e<n;e++)if(this.actions[e].name===t)return!0;return!1},shift:function(){return this.actions.shift()},push:function(t){this.actions.push({name:t})},pop:function(t){for(var e=0,n=this.actions.length;e<n;e++)this.actions[e].name===t&&(this.actions.splice(e,1),n--,e--)}},this.early_sdp=null,this.rel100=t.C.supported.UNSUPPORTED}).prototype={dtmf:function(e,n){var i=[],r=this;if(n=n||{},void 0===e)throw new TypeError("Not enough arguments");if(this.status!==c.STATUS_CONFIRMED&&this.status!==c.STATUS_WAITING_FOR_ACK)throw new t.Exceptions.InvalidStateError(this.status);if("string"!=typeof e&&"number"!=typeof e||!e.toString().match(/^[0-9A-D#*,]+$/i))throw new TypeError("Invalid tones: "+e);for(e=e.toString().split("");e.length>0;)i.push(new a(this,e.shift(),n));if(this.tones)return this.tones=this.tones.concat(i),this;var o=function(){var e,i;if(r.status===c.STATUS_TERMINATED||!r.tones||0===r.tones.length)return r.tones=null,this;(e=r.tones.shift()).on("failed",function(){r.tones=null}),e.send(n),i=e.duration+e.interToneGap,t.Timers.setTimeout(o,i)};return this.tones=i,o(),this},bye:function(e){var n=(e=Object.create(e||Object.prototype)).statusCode;if(this.status===c.STATUS_TERMINATED)return this.logger.error("Error: Attempted to send BYE in a terminated session."),this;if(this.logger.log("terminating Session"),n&&(n<200||n>=700))throw new TypeError("Invalid statusCode: "+n);return e.receiveResponse=function(){},this.sendRequest(t.C.BYE,e).terminated()},refer:function(e,n){var i=((n=n||{}).extraHeaders||[]).slice(),r=e instanceof t.InviteServerContext||e instanceof t.InviteClientContext,o=e;if(void 0===e)throw new TypeError("Not enough arguments");if(this.status!==c.STATUS_CONFIRMED)throw new t.Exceptions.InvalidStateError(this.status);if(r)e='"'+e.remoteIdentity.friendlyName+'" <'+e.dialog.remote_target.toString()+"?Replaces="+e.dialog.id.call_id+"%3Bto-tag%3D"+e.dialog.id.remote_tag+"%3Bfrom-tag%3D"+e.dialog.id.local_tag+">";else{try{e=t.Grammar.parse(e,"Refer_To").uri||e}catch(t){this.logger.debug(".refer() cannot parse Refer_To from",e),this.logger.debug("...falling through to normalizeTarget()")}if(!(e=this.ua.normalizeTarget(e)))throw new TypeError("Invalid target: "+o)}return i.push("Contact: "+this.contact),i.push("Allow: "+t.UA.C.ALLOWED_METHODS.toString()),i.push("Refer-To: "+e),this.sendRequest(t.C.REFER,{extraHeaders:i,body:n.body,receiveResponse:function(t){/^2[0-9]{2}$/.test(t.status_code)&&(r||e.scheme&&e.scheme.match("^sips?$"))&&this.terminate()}.bind(this)}),this},followRefer:function(n){return function(n,i){var r=i.parseHeader("refer-to"),o=r.uri;if(o.scheme.match("^sips?$")){var a=[],s=o.getHeader("Replaces");void 0!==s&&a.push("Replaces: "+decodeURIComponent(s)),o.clearHeaders();var c=this.mediaHandler.getReferMedia,u=c?c.call(this.mediaHandler):this.mediaHint;t.Hacks.Chrome.getsConfusedAboutGUM(this);var l=this.ua.invite(o,{media:u,params:{to_displayName:r.friendlyName},extraHeaders:a});n.call(this,i,l),this.terminate()}else{var h=o.toString();"function"==typeof e.open?e.open(h):this.logger.warn("referred to non-SIP URI but `open` isn't in the environment: "+h)}}.bind(this,n)},sendRequest:function(e,n){n=n||{};var i=this,r=new t.OutgoingRequest(e,this.dialog.remote_target,this.ua,{cseq:n.cseq||(this.dialog.local_seqnum+=1),call_id:this.dialog.id.call_id,from_uri:this.dialog.local_uri,from_tag:this.dialog.id.local_tag,to_uri:this.dialog.remote_uri,to_tag:this.dialog.id.remote_tag,route_set:this.dialog.route_set,statusCode:n.statusCode,reasonPhrase:n.reasonPhrase},n.extraHeaders||[],n.body);return new t.RequestSender({request:r,onRequestTimeout:function(){i.onRequestTimeout()},onTransportError:function(){i.onTransportError()},receiveResponse:n.receiveResponse||function(t){i.receiveNonInviteResponse(t)}},this.ua).send(),this.emit(e.toLowerCase(),r),this},close:function(){var e;if(this.status===c.STATUS_TERMINATED)return this;for(e in this.logger.log("closing INVITE session "+this.id),this.mediaHandler&&this.mediaHandler.close(),this.timers)t.Timers.clearTimeout(this.timers[e]);for(e in this.dialog&&(this.dialog.terminate(),delete this.dialog),this.earlyDialogs)this.earlyDialogs[e].terminate(),delete this.earlyDialogs[e];return this.status=c.STATUS_TERMINATED,delete this.ua.sessions[this.id],this},createDialog:function(e,n,i){var r,o,a=e["UAS"===n?"to_tag":"from_tag"],s=e["UAS"===n?"from_tag":"to_tag"],c=e.call_id+a+s;if(o=this.earlyDialogs[c],i)return!!o||((o=new t.Dialog(this,e,n,t.Dialog.C.STATUS_EARLY)).error?(this.logger.error(o.error),this.failed(e,t.C.causes.INTERNAL_ERROR),!1):(this.earlyDialogs[c]=o,!0));if(o){for(var u in o.update(e,n),this.dialog=o,delete this.earlyDialogs[c],this.earlyDialogs)this.earlyDialogs[u].terminate(),delete this.earlyDialogs[u];return!0}return(r=new t.Dialog(this,e,n)).error?(this.logger.error(r.error),this.failed(e,t.C.causes.INTERNAL_ERROR),!1):(this.to_tag=e.to_tag,this.dialog=r,!0)},isReadyToReinvite:function(){return this.mediaHandler.isReady()&&!this.dialog.uac_pending_reply&&!this.dialog.uas_pending_reply},mute:function(t){var e=this.mediaHandler.mute(t);e&&this.onmute(e)},unmute:function(t){var e=this.mediaHandler.unmute(t);e&&this.onunmute(e)},hold:function(){if(this.status!==c.STATUS_WAITING_FOR_ACK&&this.status!==c.STATUS_CONFIRMED)throw new t.Exceptions.InvalidStateError(this.status);this.mediaHandler.hold(),this.isReadyToReinvite()?!0!==this.local_hold&&(this.onhold("local"),this.sendReinvite()):this.pending_actions.isPending("unhold")?this.pending_actions.pop("unhold"):this.pending_actions.isPending("hold")||this.pending_actions.push("hold")},unhold:function(e){if(this.status!==c.STATUS_WAITING_FOR_ACK&&this.status!==c.STATUS_CONFIRMED)throw new t.Exceptions.InvalidStateError(this.status);this.mediaHandler.unhold(),this.isReadyToReinvite()?!1!==this.local_hold&&(this.onunhold("local"),this.sendReinvite(e)):this.pending_actions.isPending("hold")?this.pending_actions.pop("hold"):this.pending_actions.isPending("unhold")||this.pending_actions.push("unhold")},isOnHold:function(){return{local:this.local_hold,remote:this.remote_hold}},receiveReinvite:function(e){var n=this;if(!this.mediaHandler.hasDescription(e))return this.logger.warn("invalid Content-Type"),void e.reply(415);this.mediaHandler.setDescription(e).then(this.mediaHandler.getDescription.bind(this.mediaHandler,this.mediaHint)).then(function(t){var i=["Contact: "+n.contact];e.reply(200,null,i,t,function(){n.status=c.STATUS_WAITING_FOR_ACK,n.setInvite2xxTimer(e,t),n.setACKTimer(),n.remote_hold&&!n.mediaHandler.remote_hold?n.onunhold("remote"):!n.remote_hold&&n.mediaHandler.remote_hold&&n.onhold("remote")})}).catch(function(i){var r;i instanceof t.Exceptions.GetDescriptionError?r=500:(n.logger.error(i),r=488),e.reply(r)})},sendReinvite:function(e){var n,i=this,r=((e=e||{}).extraHeaders||[]).slice(),o=e.eventHandlers||{};o.succeeded&&(n=o.succeeded),this.reinviteSucceeded=function(){t.Timers.clearTimeout(i.timers.ackTimer),t.Timers.clearTimeout(i.timers.invite2xxTimer),i.status=c.STATUS_CONFIRMED,n&&n.apply(this,arguments)},o.failed?this.reinviteFailed=o.failed:this.reinviteFailed=function(){},r.push("Contact: "+this.contact),r.push("Allow: "+t.UA.C.ALLOWED_METHODS.toString()),this.receiveResponse=this.receiveReinviteResponse,this.mediaHandler.getDescription(i.mediaHint).then(function(e){i.dialog.sendRequest(i,t.C.INVITE,{extraHeaders:r,body:e})},function(){i.isReadyToReinvite()&&i.onReadyToReinvite(),i.reinviteFailed()})},receiveRequest:function(e){switch(e.method){case t.C.BYE:e.reply(200),this.status===c.STATUS_CONFIRMED&&(this.emit("bye",e),this.terminated(e,t.C.causes.BYE));break;case t.C.INVITE:this.status===c.STATUS_CONFIRMED&&(this.logger.log("re-INVITE received"),this.receiveReinvite(e));break;case t.C.INFO:if(this.status===c.STATUS_1XX_RECEIVED||this.status===c.STATUS_WAITING_FOR_PRACK||this.status===c.STATUS_WAITING_FOR_ACK||this.status===c.STATUS_ANSWERED_WAITING_FOR_PRACK||this.status===c.STATUS_EARLY_MEDIA||this.status===c.STATUS_CONFIRMED||this.dialog){if(this.onInfo)return this.onInfo(e);var n,i,r,o=e.getHeader("content-type"),s=/^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/,u=/^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;o&&(o.match(/^application\/dtmf-relay/i)?(e.body&&2===(n=e.body.split("\r\n",2)).length&&(s.test(n[0])&&(i=n[0].replace(s,"$2")),u.test(n[1])&&(r=parseInt(n[1].replace(u,"$2"),10))),new a(this,i,{duration:r}).init_incoming(e)):e.reply(415,null,["Accept: application/dtmf-relay"]))}break;case t.C.REFER:if(this.status===c.STATUS_CONFIRMED)this.logger.log("REFER received"),this.listeners("refer").length?(e.reply(202,"Accepted"),"SIP/2.0 100 Trying",this.sendRequest(t.C.NOTIFY,{extraHeaders:["Event: refer","Subscription-State: terminated","Content-Type: message/sipfrag"],body:"SIP/2.0 100 Trying",receiveResponse:function(){}}),this.emit("refer",e)):e.reply(603,"Declined");break;case t.C.NOTIFY:e.reply(200,"OK"),this.emit("notify",e)}},receiveReinviteResponse:function(e){var n=this;if(this.status!==c.STATUS_TERMINATED)switch(!0){case/^1[0-9]{2}$/.test(e.status_code):break;case/^2[0-9]{2}$/.test(e.status_code):if(this.status=c.STATUS_CONFIRMED,this.sendRequest(t.C.ACK,{cseq:e.cseq}),!this.mediaHandler.hasDescription(e)){this.reinviteFailed();break}this.mediaHandler.setDescription(e).then(function(){n.reinviteSucceeded()},function(){n.reinviteFailed()});break;default:this.reinviteFailed()}},acceptAndTerminate:function(e,n,i){var r=[];return n&&r.push("Reason: "+t.Utils.getReasonHeaderValue(n,i)),(this.dialog||this.createDialog(e,"UAC"))&&(this.sendRequest(t.C.ACK,{cseq:e.cseq}),this.sendRequest(t.C.BYE,{extraHeaders:r})),this},setInvite2xxTimer:function(e,n){var i=this,r=t.Timers.T1;this.timers.invite2xxTimer=t.Timers.setTimeout(function o(){if(i.status===c.STATUS_WAITING_FOR_ACK){i.logger.log("no ACK received, attempting to retransmit OK");var a=["Contact: "+i.contact];e.reply(200,null,a,n),r=Math.min(2*r,t.Timers.T2),i.timers.invite2xxTimer=t.Timers.setTimeout(o,r)}},r)},setACKTimer:function(){var e=this;this.timers.ackTimer=t.Timers.setTimeout(function(){e.status===c.STATUS_WAITING_FOR_ACK&&(e.logger.log("no ACK received for an extended period of time, terminating the call"),t.Timers.clearTimeout(e.timers.invite2xxTimer),e.sendRequest(t.C.BYE),e.terminated(null,t.C.causes.NO_ACK))},t.Timers.TIMER_H)},onReadyToReinvite:function(){var t=this.pending_actions.shift();t&&this[t.name]&&this[t.name]()},onTransportError:function(){this.status!==c.STATUS_CONFIRMED&&this.status!==c.STATUS_TERMINATED&&this.failed(null,t.C.causes.CONNECTION_ERROR)},onRequestTimeout:function(){this.status===c.STATUS_CONFIRMED?this.terminated(null,t.C.causes.REQUEST_TIMEOUT):this.status!==c.STATUS_TERMINATED&&(this.failed(null,t.C.causes.REQUEST_TIMEOUT),this.terminated(null,t.C.causes.REQUEST_TIMEOUT))},onDialogError:function(e){this.status===c.STATUS_CONFIRMED?this.terminated(e,t.C.causes.DIALOG_ERROR):this.status!==c.STATUS_TERMINATED&&(this.failed(e,t.C.causes.DIALOG_ERROR),this.terminated(e,t.C.causes.DIALOG_ERROR))},onhold:function(t){this["local"===t?"local_hold":"remote_hold"]=!0,this.emit("hold",{originator:t})},onunhold:function(t){this["local"===t?"local_hold":"remote_hold"]=!1,this.emit("unhold",{originator:t})},onmute:function(t){this.emit("muted",{audio:t.audio,video:t.video})},onunmute:function(t){this.emit("unmuted",{audio:t.audio,video:t.video})},failed:function(t,e){return this.status===c.STATUS_TERMINATED?this:(this.emit("failed",t||null,e||null),this)},rejected:function(t,e){return this.emit("rejected",t||null,e||null),this},canceled:function(){return this.emit("cancel"),this},accepted:function(e,n){return n=t.Utils.getReasonPhrase(e&&e.status_code,n),this.startTime=new Date,this.replacee&&(this.replacee.emit("replaced",this),this.replacee.terminate()),e&&s.updateState(this.dialog,e,t.Parser.parseMessage,this.ua),this.emit("accepted",e,n),this},terminated:function(t,e){return this.status===c.STATUS_TERMINATED?this:(this.endTime=new Date,this.close(),this.emit("terminated",t||null,e||null),this)},connecting:function(t){return this.emit("connecting",{request:t}),this}},i.desugar=function(t){return e.HTMLMediaElement&&t instanceof e.HTMLMediaElement&&(t={media:{constraints:{audio:!0,video:"VIDEO"===t.tagName},render:{remote:t}}}),t||{}},i.C=c,t.Session=i,(r=function(e,n){var i,r=this,o=n.getHeader("Content-Type"),a=n.parseHeader("Content-Disposition");if(t.Utils.augment(this,t.ServerContext,[e,n]),t.Utils.augment(this,t.Session,[e.configuration.mediaHandlerFactory]),this.mediaHandler=this.mediaHandlerFactory(this,{RTCConstraints:{optional:[{DtlsSrtpKeyAgreement:"true"}]}}),!a&&!this.mediaHandler.hasDescription(n)||a&&"render"===a.type)this.renderbody=n.body,this.rendertype=o;else if(!this.mediaHandler.hasDescription(n)&&a&&"session"===a.type)return void n.reply(415);function u(t,e){n.hasHeader(t)&&n.getHeader(t).toLowerCase().indexOf("100rel")>=0&&(r.rel100=e)}function l(){var e={extraHeaders:["Contact: "+r.contact]};r.rel100!==t.C.supported.REQUIRED&&r.progress(e),r.status=c.STATUS_WAITING_FOR_ANSWER,r.timers.userNoAnswerTimer=t.Timers.setTimeout(function(){n.reply(408),r.failed(n,t.C.causes.NO_ANSWER),r.terminated(n,t.C.causes.NO_ANSWER)},r.ua.configuration.noAnswerTimeout),i&&(r.timers.expiresTimer=t.Timers.setTimeout(function(){r.status===c.STATUS_WAITING_FOR_ANSWER&&(n.reply(487),r.failed(n,t.C.causes.EXPIRES),r.terminated(n,t.C.causes.EXPIRES))},i)),r.emit("invite",n)}s.hasSmallMinSE(n)?n.reply(422,null,["Min-SE: "+s.localMinSE]):(this.status=c.STATUS_INVITE_RECEIVED,this.from_tag=n.from_tag,this.id=n.call_id+this.from_tag,this.request=n,this.contact=this.ua.contact.toString(),this.receiveNonInviteResponse=function(){},this.logger=e.getLogger("sip.inviteservercontext",this.id),this.ua.sessions[this.id]=this,n.hasHeader("expires")&&(i=1e3*n.getHeader("expires")),u("require",t.C.supported.REQUIRED),u("supported",t.C.supported.SUPPORTED),n.to_tag=t.Utils.newTag(),this.createDialog(n,"UAS",!0)?(this.mediaHandler&&this.mediaHandler.getRemoteStreams&&(this.getRemoteStreams=this.mediaHandler.getRemoteStreams.bind(this.mediaHandler),this.getLocalStreams=this.mediaHandler.getLocalStreams.bind(this.mediaHandler)),!this.mediaHandler.hasDescription(n)||this.renderbody?t.Timers.setTimeout(l,0):(this.hasOffer=!0,this.mediaHandler.setDescription(n).then(l,function(t){r.logger.warn("invalid description"),r.logger.warn(t),n.reply(488)}))):n.reply(500,"Missing Contact header field"))}).prototype={reject:function(e){if(this.status===c.STATUS_TERMINATED)throw new t.Exceptions.InvalidStateError(this.status);return this.logger.log("rejecting RTCSession"),t.ServerContext.prototype.reject.call(this,e),this.terminated()},terminate:function(e){var n,i=((e=e||{}).extraHeaders||[]).slice(),r=e.body,o=this;return this.status===c.STATUS_WAITING_FOR_ACK&&this.request.server_transaction.state!==t.Transactions.C.STATUS_TERMINATED?(n=this.dialog,this.receiveRequest=function(e){e.method===t.C.ACK&&(this.sendRequest(t.C.BYE,{extraHeaders:i,body:r}),n.terminate())},this.request.server_transaction.on("stateChanged",function(){this.state===t.Transactions.C.STATUS_TERMINATED&&this.dialog&&(this.request=new t.OutgoingRequest(t.C.BYE,this.dialog.remote_target,this.ua,{cseq:this.dialog.local_seqnum+=1,call_id:this.dialog.id.call_id,from_uri:this.dialog.local_uri,from_tag:this.dialog.id.local_tag,to_uri:this.dialog.remote_uri,to_tag:this.dialog.id.remote_tag,route_set:this.dialog.route_set},i,r),new t.RequestSender({request:this.request,onRequestTimeout:function(){o.onRequestTimeout()},onTransportError:function(){o.onTransportError()},receiveResponse:function(){}},this.ua).send(),n.terminate())}),this.emit("bye",this.request),this.terminated(),this.dialog=n,this.ua.dialogs[n.id.toString()]=n):this.status===c.STATUS_CONFIRMED?this.bye(e):this.reject(e),this},progress:function(e){var n,i,r=(e=e||{}).statusCode||180,o=e.reasonPhrase,a=(e.extraHeaders||[]).slice(),s=e.stunServers||null,u=e.turnServers||null,l=e.body;if(r<100||r>199)throw new TypeError("Invalid statusCode: "+r);if(this.isCanceled||this.status===c.STATUS_TERMINATED)return this;if(s||u){if(s){if(!(n=t.UA.configuration_check.optional.stunServers(s)))throw new TypeError("Invalid stunServers: "+s);this.stunServers=n}if(u){if(!(n=t.UA.configuration_check.optional.turnServers(u)))throw new TypeError("Invalid turnServers: "+u);this.turnServers=n}this.mediaHandler.updateIceServers({stunServers:this.stunServers,turnServers:this.turnServers})}return 100!==e.statusCode&&(this.rel100===t.C.supported.REQUIRED||this.rel100===t.C.supported.SUPPORTED&&e.rel100||this.rel100===t.C.supported.SUPPORTED&&this.ua.configuration.rel100===t.C.supported.REQUIRED)?function(){r=e.statusCode||183,this.status=c.STATUS_WAITING_FOR_PRACK,a.push("Contact: "+this.contact),a.push("Require: 100rel"),a.push("RSeq: "+Math.floor(1e4*Math.random())),this.mediaHint=e.media,this.mediaHandler.getDescription(e.media).then(function(e){if(!this.isCanceled&&this.status!==c.STATUS_TERMINATED){this.early_sdp=e.body,this[this.hasOffer?"hasAnswer":"hasOffer"]=!0;var n=t.Timers.T1;this.timers.rel1xxTimer=t.Timers.setTimeout(function i(){this.request.reply(r,null,a,e),n*=2,this.timers.rel1xxTimer=t.Timers.setTimeout(i.bind(this),n)}.bind(this),n),this.timers.prackTimer=t.Timers.setTimeout(function(){this.status===c.STATUS_WAITING_FOR_PRACK&&(this.logger.log("no PRACK received, rejecting the call"),t.Timers.clearTimeout(this.timers.rel1xxTimer),this.request.reply(504),this.terminated(null,t.C.causes.NO_PRACK))}.bind(this),64*t.Timers.T1),i=this.request.reply(r,o,a,e),this.emit("progress",i,o)}}.bind(this),function(){this.request.reply(480),this.failed(null,t.C.causes.WEBRTC_ERROR),this.terminated(null,t.C.causes.WEBRTC_ERROR)}.bind(this))}.apply(this):function(){i=this.request.reply(r,o,a,l),this.emit("progress",i,o)}.apply(this),this},accept:function(e){e=Object.create(i.desugar(e)),t.Utils.optionsOverride(e,"media","mediaConstraints",!0,this.logger,this.ua.configuration.media),this.mediaHint=e.media,this.onInfo=e.onInfo;var n,r=this,o=this.request,a=(e.extraHeaders||[]).slice(),s=e.stunServers||null,u=e.turnServers||null,l=function(e){var n;r.mediaHandler.render(),a.push("Contact: "+r.contact),a.push("Allow: "+t.UA.C.ALLOWED_METHODS.toString());var i=o.parseHeader("Supported")||[],s=o.parseHeader("Session-Expires")||{},u=s.deltaSeconds;if(u){var l=s.refresher||"uas";a.push("Session-Expires: "+u+";"+l),("uac"===l||i.indexOf("timer")>=0)&&a.push("Require: timer")}r.hasOffer?r.hasAnswer=!0:r.hasOffer=!0,n=o.reply(200,null,a,e,function(){r.status=c.STATUS_WAITING_FOR_ACK,r.setInvite2xxTimer(o,e),r.setACKTimer()},function(){r.failed(null,t.C.causes.CONNECTION_ERROR),r.terminated(null,t.C.causes.CONNECTION_ERROR)}),r.status!==c.STATUS_TERMINATED&&r.accepted(n,t.Utils.getReasonPhrase(200))};if(this.status===c.STATUS_WAITING_FOR_PRACK)return this.status=c.STATUS_ANSWERED_WAITING_FOR_PRACK,this;if(this.status===c.STATUS_WAITING_FOR_ANSWER)this.status=c.STATUS_ANSWERED;else if(this.status!==c.STATUS_EARLY_MEDIA)throw new t.Exceptions.InvalidStateError(this.status);if((s||u)&&this.status!==c.STATUS_EARLY_MEDIA&&this.status!==c.STATUS_ANSWERED_WAITING_FOR_PRACK){if(s){if(!(n=t.UA.configuration_check.optional.stunServers(s)))throw new TypeError("Invalid stunServers: "+s);this.stunServers=n}if(u){if(!(n=t.UA.configuration_check.optional.turnServers(u)))throw new TypeError("Invalid turnServers: "+u);this.turnServers=n}this.mediaHandler.updateIceServers({stunServers:this.stunServers,turnServers:this.turnServers})}return this.createDialog(o,"UAS")?(t.Timers.clearTimeout(this.timers.userNoAnswerTimer),this.status===c.STATUS_EARLY_MEDIA?l({}):this.mediaHandler.getDescription(r.mediaHint).then(l,function(){r.status!==c.STATUS_TERMINATED&&(r.request.reply(480),r.failed(null,t.C.causes.WEBRTC_ERROR),r.terminated(null,t.C.causes.WEBRTC_ERROR))}),this):(o.reply(500,"Missing Contact header field"),this)},receiveRequest:function(e){function n(){var n;t.Timers.clearTimeout(this.timers.ackTimer),t.Timers.clearTimeout(this.timers.invite2xxTimer),this.status=c.STATUS_CONFIRMED,this.unmute(),n=e.getHeader("Content-Type"),this.mediaHandler.hasDescription(e)||(this.renderbody=e.body,this.rendertype=n),this.emit("confirmed",e)}switch(e.method){case t.C.CANCEL:this.status!==c.STATUS_WAITING_FOR_ANSWER&&this.status!==c.STATUS_WAITING_FOR_PRACK&&this.status!==c.STATUS_ANSWERED_WAITING_FOR_PRACK&&this.status!==c.STATUS_EARLY_MEDIA&&this.status!==c.STATUS_ANSWERED||(this.status=c.STATUS_CANCELED,this.request.reply(487),this.canceled(e),this.rejected(e,t.C.causes.CANCELED),this.failed(e,t.C.causes.CANCELED),this.terminated(e,t.C.causes.CANCELED));break;case t.C.ACK:this.status===c.STATUS_WAITING_FOR_ACK&&(this.hasAnswer?n.apply(this):this.mediaHandler.hasDescription(e)?(this.hasAnswer=!0,this.mediaHandler.setDescription(e).then(n.bind(this),function(n){this.logger.warn(n),this.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),this.failed(e,t.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(e,t.C.causes.BAD_MEDIA_DESCRIPTION)}.bind(this))):this.early_sdp?n.apply(this):(this.failed(e,t.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(e,t.C.causes.BAD_MEDIA_DESCRIPTION)));break;case t.C.PRACK:this.status===c.STATUS_WAITING_FOR_PRACK||this.status===c.STATUS_ANSWERED_WAITING_FOR_PRACK?this.hasAnswer?(t.Timers.clearTimeout(this.timers.rel1xxTimer),t.Timers.clearTimeout(this.timers.prackTimer),e.reply(200),this.status===c.STATUS_ANSWERED_WAITING_FOR_PRACK&&(this.status=c.STATUS_EARLY_MEDIA,this.accept()),this.status=c.STATUS_EARLY_MEDIA,this.mute()):this.mediaHandler.hasDescription(e)?(this.hasAnswer=!0,this.mediaHandler.setDescription(e).then(function(){t.Timers.clearTimeout(this.timers.rel1xxTimer),t.Timers.clearTimeout(this.timers.prackTimer),e.reply(200),this.status===c.STATUS_ANSWERED_WAITING_FOR_PRACK&&(this.status=c.STATUS_EARLY_MEDIA,this.accept()),this.status=c.STATUS_EARLY_MEDIA,this.mute()}.bind(this),function(n){this.logger.warn(n),this.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),this.failed(e,t.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(e,t.C.causes.BAD_MEDIA_DESCRIPTION)}.bind(this))):(this.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),this.failed(e,t.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(e,t.C.causes.BAD_MEDIA_DESCRIPTION)):this.status===c.STATUS_EARLY_MEDIA&&e.reply(200);break;default:i.prototype.receiveRequest.apply(this,[e])}},onTransportError:function(){this.status!==c.STATUS_CONFIRMED&&this.status!==c.STATUS_TERMINATED&&this.failed(null,t.C.causes.CONNECTION_ERROR)},onRequestTimeout:function(){this.status===c.STATUS_CONFIRMED?this.terminated(null,t.C.causes.REQUEST_TIMEOUT):this.status!==c.STATUS_TERMINATED&&(this.failed(null,t.C.causes.REQUEST_TIMEOUT),this.terminated(null,t.C.causes.REQUEST_TIMEOUT))}},t.InviteServerContext=r,(o=function(e,n,r){(r=Object.create(i.desugar(r))).params=Object.create(r.params||Object.prototype);var o,a=(r.extraHeaders||[]).slice(),s=r.stunServers||null,u=r.turnServers||null,l=r.mediaHandlerFactory||e.configuration.mediaHandlerFactory,h=l.isSupported;if(h&&!h())throw new t.Exceptions.NotSupportedError("Media not supported");if(this.RTCConstraints=r.RTCConstraints||{},this.inviteWithoutSdp=r.inviteWithoutSdp||!1,this.anonymous=r.anonymous||!1,this.renderbody=r.renderbody||null,this.rendertype=r.rendertype||"text/plain",r.params.from_tag=this.from_tag,this.contact=e.contact.toString({anonymous:this.anonymous,outbound:this.anonymous?!e.contact.temp_gruu:!e.contact.pub_gruu}),this.anonymous&&(r.params.from_displayName="Anonymous",r.params.from_uri="sip:anonymous@anonymous.invalid",a.push("P-Preferred-Identity: "+e.configuration.uri.toString()),a.push("Privacy: id")),a.push("Contact: "+this.contact),a.push("Allow: "+t.UA.C.ALLOWED_METHODS.toString()),this.inviteWithoutSdp&&this.renderbody&&(a.push("Content-Type: "+this.rendertype),a.push("Content-Disposition: render;handling=optional")),e.configuration.rel100===t.C.supported.REQUIRED&&a.push("Require: 100rel"),e.configuration.replaces===t.C.supported.REQUIRED&&a.push("Require: replaces"),r.extraHeaders=a,t.Utils.augment(this,t.ClientContext,[e,t.C.INVITE,n,r]),t.Utils.augment(this,t.Session,[l]),this.status!==c.STATUS_NULL)throw new t.Exceptions.InvalidStateError(this.status);if(this.from_tag=t.Utils.newTag(),this.isCanceled=!1,this.received_100=!1,this.method=t.C.INVITE,this.receiveNonInviteResponse=this.receiveResponse,this.receiveResponse=this.receiveInviteResponse,this.logger=e.getLogger("sip.inviteclientcontext"),s){if(!(o=t.UA.configuration_check.optional.stunServers(s)))throw new TypeError("Invalid stunServers: "+s);this.stunServers=o}if(u){if(!(o=t.UA.configuration_check.optional.turnServers(u)))throw new TypeError("Invalid turnServers: "+u);this.turnServers=o}e.applicants[this]=this,this.id=this.request.call_id+this.from_tag,this.mediaHandler=this.mediaHandlerFactory(this,{RTCConstraints:this.RTCConstraints,stunServers:this.stunServers,turnServers:this.turnServers}),this.mediaHandler&&this.mediaHandler.getRemoteStreams&&(this.getRemoteStreams=this.mediaHandler.getRemoteStreams.bind(this.mediaHandler),this.getLocalStreams=this.mediaHandler.getLocalStreams.bind(this.mediaHandler)),t.Utils.optionsOverride(r,"media","mediaConstraints",!0,this.logger,this.ua.configuration.media),this.mediaHint=r.media,this.onInfo=r.onInfo}).prototype={invite:function(){var e=this;return this.ua.sessions[this.id]=this,this.inviteWithoutSdp?(this.request.body=e.renderbody,this.status=c.STATUS_INVITE_SENT,this.send()):this.mediaHandler.getDescription(e.mediaHint).then(function(t){e.isCanceled||e.status===c.STATUS_TERMINATED||(e.hasOffer=!0,e.request.body=t,e.status=c.STATUS_INVITE_SENT,e.send())},function(){e.status!==c.STATUS_TERMINATED&&(e.failed(null,t.C.causes.WEBRTC_ERROR),e.terminated(null,t.C.causes.WEBRTC_ERROR))}),this},receiveInviteResponse:function(e){var n,i=this,r=e.call_id+e.from_tag+e.to_tag,o=[],a={};if(this.status!==c.STATUS_TERMINATED&&e.method===t.C.INVITE){if(this.dialog&&e.status_code>=200&&e.status_code<=299){if(r!==this.dialog.id.toString()){if(!this.createDialog(e,"UAC",!0))return;return this.earlyDialogs[r].sendRequest(this,t.C.ACK,{body:t.Utils.generateFakeSDP(e.body)}),this.earlyDialogs[r].sendRequest(this,t.C.BYE),void(this.status!==c.STATUS_CONFIRMED&&(this.failed(e,t.C.causes.WEBRTC_ERROR),this.terminated(e,t.C.causes.WEBRTC_ERROR)))}if(this.status===c.STATUS_CONFIRMED)return void this.sendRequest(t.C.ACK,{cseq:e.cseq});if(!this.hasAnswer)return}if(this.dialog&&e.status_code<200){if(-1!==this.dialog.pracked.indexOf(e.getHeader("rseq"))||this.dialog.pracked[this.dialog.pracked.length-1]>=e.getHeader("rseq")&&this.dialog.pracked.length>0)return;if(!this.earlyDialogs[r]&&!this.createDialog(e,"UAC",!0))return;if(-1!==this.earlyDialogs[r].pracked.indexOf(e.getHeader("rseq"))||this.earlyDialogs[r].pracked[this.earlyDialogs[r].pracked.length-1]>=e.getHeader("rseq")&&this.earlyDialogs[r].pracked.length>0)return;return o.push("RAck: "+e.getHeader("rseq")+" "+e.getHeader("cseq")),this.earlyDialogs[r].pracked.push(e.getHeader("rseq")),void this.earlyDialogs[r].sendRequest(this,t.C.PRACK,{extraHeaders:o,body:t.Utils.generateFakeSDP(e.body)})}if(this.isCanceled)e.status_code>=100&&e.status_code<200?(this.request.cancel(this.cancelReason,o),this.canceled(null)):e.status_code>=200&&e.status_code<299?(this.acceptAndTerminate(e),this.emit("bye",this.request)):e.status_code>=300&&(n=t.C.REASON_PHRASE[e.status_code]||t.C.causes.CANCELED,this.rejected(e,n),this.failed(e,n),this.terminated(e,n));else switch(!0){case/^100$/.test(e.status_code):this.received_100=!0,this.emit("progress",e);break;case/^1[0-9]{2}$/.test(e.status_code):if(!e.to_tag){this.logger.warn("1xx response received without to tag");break}if(e.hasHeader("contact")&&!this.createDialog(e,"UAC",!0))break;if(this.status=c.STATUS_1XX_RECEIVED,e.hasHeader("require")&&-1!==e.getHeader("require").indexOf("100rel")){if(this.dialog||!this.earlyDialogs[r])break;if(-1!==this.earlyDialogs[r].pracked.indexOf(e.getHeader("rseq"))||this.earlyDialogs[r].pracked[this.earlyDialogs[r].pracked.length-1]>=e.getHeader("rseq")&&this.earlyDialogs[r].pracked.length>0)return;if(this.mediaHandler.hasDescription(e))if(this.hasOffer){if(!this.createDialog(e,"UAC"))break;this.hasAnswer=!0,this.dialog.pracked.push(e.getHeader("rseq")),this.mediaHandler.setDescription(e).then(function(){o.push("RAck: "+e.getHeader("rseq")+" "+e.getHeader("cseq")),i.sendRequest(t.C.PRACK,{extraHeaders:o,receiveResponse:function(){}}),i.status=c.STATUS_EARLY_MEDIA,i.mute(),i.emit("progress",e)},function(n){i.logger.warn(n),i.acceptAndTerminate(e,488,"Not Acceptable Here"),i.failed(e,t.C.causes.BAD_MEDIA_DESCRIPTION)})}else{var s=this.earlyDialogs[r],u=s.mediaHandler;s.pracked.push(e.getHeader("rseq")),u.setDescription(e).then(u.getDescription.bind(u,i.mediaHint)).then(function(n){o.push("RAck: "+e.getHeader("rseq")+" "+e.getHeader("cseq")),s.sendRequest(i,t.C.PRACK,{extraHeaders:o,body:n}),i.status=c.STATUS_EARLY_MEDIA,i.emit("progress",e)}).catch(function(n){if(n instanceof t.Exceptions.GetDescriptionError){if(s.pracked.push(e.getHeader("rseq")),i.status===c.STATUS_TERMINATED)return;i.failed(null,t.C.causes.WEBRTC_ERROR),i.terminated(null,t.C.causes.WEBRTC_ERROR)}else s.pracked.splice(s.pracked.indexOf(e.getHeader("rseq")),1),i.logger.warn("invalid description"),i.logger.warn(n)})}else o.push("RAck: "+e.getHeader("rseq")+" "+e.getHeader("cseq")),this.earlyDialogs[r].pracked.push(e.getHeader("rseq")),this.earlyDialogs[r].sendRequest(this,t.C.PRACK,{extraHeaders:o}),this.emit("progress",e)}else this.emit("progress",e);break;case/^2[0-9]{2}$/.test(e.status_code):if(this.request.cseq+" "+this.request.method!==e.getHeader("cseq"))break;if(this.status===c.STATUS_EARLY_MEDIA&&this.dialog){this.status=c.STATUS_CONFIRMED,this.unmute(),a={},this.renderbody&&(o.push("Content-Type: "+this.rendertype),a.extraHeaders=o,a.body=this.renderbody),a.cseq=e.cseq,this.sendRequest(t.C.ACK,a),this.accepted(e);break}if(this.dialog)break;if(this.hasOffer)if(this.hasAnswer)this.renderbody&&(o.push("Content-Type: "+i.rendertype),a.extraHeaders=o,a.body=this.renderbody),this.sendRequest(t.C.ACK,a);else{if(!this.mediaHandler.hasDescription(e)){this.acceptAndTerminate(e,400,"Missing session description"),this.failed(e,t.C.causes.BAD_MEDIA_DESCRIPTION);break}if(!this.createDialog(e,"UAC"))break;this.hasAnswer=!0,this.mediaHandler.setDescription(e).then(function(){var n={};i.status=c.STATUS_CONFIRMED,i.unmute(),i.renderbody&&(o.push("Content-Type: "+i.rendertype),n.extraHeaders=o,n.body=i.renderbody),n.cseq=e.cseq,i.sendRequest(t.C.ACK,n),i.accepted(e)},function(n){i.logger.warn(n),i.acceptAndTerminate(e,488,"Not Acceptable Here"),i.failed(e,t.C.causes.BAD_MEDIA_DESCRIPTION)})}else if(this.earlyDialogs[r]&&this.earlyDialogs[r].mediaHandler.localMedia){if(this.hasOffer=!0,this.hasAnswer=!0,this.mediaHandler=this.earlyDialogs[r].mediaHandler,!this.createDialog(e,"UAC"))break;this.status=c.STATUS_CONFIRMED,this.sendRequest(t.C.ACK,{cseq:e.cseq}),this.unmute(),this.accepted(e)}else{if(!this.mediaHandler.hasDescription(e)){this.acceptAndTerminate(e,400,"Missing session description"),this.failed(e,t.C.causes.BAD_MEDIA_DESCRIPTION);break}if(!this.createDialog(e,"UAC"))break;this.hasOffer=!0,this.mediaHandler.setDescription(e).then(this.mediaHandler.getDescription.bind(this.mediaHandler,this.mediaHint)).then(function(n){i.isCanceled||i.status===c.STATUS_TERMINATED||(i.status=c.STATUS_CONFIRMED,i.hasAnswer=!0,i.unmute(),i.sendRequest(t.C.ACK,{body:n,cseq:e.cseq}),i.accepted(e))}).catch(function(n){n instanceof t.Exceptions.GetDescriptionError?i.logger.warn("there was a problem"):(i.logger.warn("invalid description"),i.logger.warn(n),e.reply(488))})}break;default:n=t.Utils.sipErrorCause(e.status_code),this.rejected(e,n),this.failed(e,n),this.terminated(e,n)}}},cancel:function(e){if((e=e||{}).extraHeaders=(e.extraHeaders||[]).slice(),this.status===c.STATUS_TERMINATED||this.status===c.STATUS_CONFIRMED)throw new t.Exceptions.InvalidStateError(this.status);this.logger.log("canceling RTCSession");var n=t.Utils.getCancelReason(e.status_code,e.reason_phrase);return this.status===c.STATUS_NULL||this.status===c.STATUS_INVITE_SENT&&!this.received_100?(this.isCanceled=!0,this.cancelReason=n):this.status!==c.STATUS_INVITE_SENT&&this.status!==c.STATUS_1XX_RECEIVED&&this.status!==c.STATUS_EARLY_MEDIA||this.request.cancel(n,e.extraHeaders),this.canceled()},terminate:function(t){return this.status===c.STATUS_TERMINATED?this:(this.status===c.STATUS_WAITING_FOR_ACK||this.status===c.STATUS_CONFIRMED?this.bye(t):this.cancel(t),this)},receiveRequest:function(e){return e.method,t.C.CANCEL,e.method===t.C.ACK&&this.status===c.STATUS_WAITING_FOR_ACK&&(t.Timers.clearTimeout(this.timers.ackTimer),t.Timers.clearTimeout(this.timers.invite2xxTimer),this.status=c.STATUS_CONFIRMED,this.unmute(),this.accepted()),i.prototype.receiveRequest.apply(this,[e])},onTransportError:function(){this.status!==c.STATUS_CONFIRMED&&this.status!==c.STATUS_TERMINATED&&this.failed(null,t.C.causes.CONNECTION_ERROR)},onRequestTimeout:function(){this.status===c.STATUS_CONFIRMED?this.terminated(null,t.C.causes.REQUEST_TIMEOUT):this.status!==c.STATUS_TERMINATED&&(this.failed(null,t.C.causes.REQUEST_TIMEOUT),this.terminated(null,t.C.causes.REQUEST_TIMEOUT))}},t.InviteClientContext=o}},cD5x:function(t,e,n){(function(t){var i=n("49sm"),r=n("+SKG"),o=Object.prototype.toString,a="function"==typeof t.Blob||"[object BlobConstructor]"===o.call(t.Blob),s="function"==typeof t.File||"[object FileConstructor]"===o.call(t.File);e.deconstructPacket=function(t){var e=[],n=t.data,o=t;return o.data=function t(e,n){if(!e)return e;if(r(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(i(e)){for(var a=new Array(e.length),s=0;s<e.length;s++)a[s]=t(e[s],n);return a}if("object"==typeof e&&!(e instanceof Date)){var a={};for(var c in e)a[c]=t(e[c],n);return a}return e}(n,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(i(e))for(var r=0;r<e.length;r++)e[r]=t(e[r],n);else if("object"==typeof e)for(var o in e)e[o]=t(e[o],n);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var n=0,o=t;!function t(c,u,l){if(!c)return c;if(a&&c instanceof Blob||s&&c instanceof File){n++;var h=new FileReader;h.onload=function(){l?l[u]=this.result:o=this.result,--n||e(o)},h.readAsArrayBuffer(c)}else if(i(c))for(var d=0;d<c.length;d++)t(c[d],d,c);else if("object"==typeof c&&!r(c))for(var p in c)t(c[p],p,c)}(o),n||e(o)}}).call(this,n("yLpj"))},cOIA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r={base:{color:"#15C0E6",fontFamily:"Gilroy, Helvetica, sans-serif",fontSmoothing:"antialiased",fontSize:"14px","::placeholder":{color:"#D9E1E3"}},invalid:{color:"#F32F6B"}},o=function(){function t(t){var e=this;this._form=i(t),this._stripe=Stripe(i(t).attr("stripe-form"),{stripeAccount:i(t).attr("stripe_account")}),this._creator=this._stripe.elements({locale:i("html").attr("lang")}),this._elements={},this._generateElements(),this._form.on("submit",function(t){if(t.preventDefault(),e._form.trigger("hc:form:blocked"),!0===i('input[name="use-saved-card"]').prop("checked"))return i('input[name="usesavedcard"]').val(e._form.find('input[name="use-saved-card"]').prop("checked")?1:0),void i('input[name="usesavedcard"]').closest("form").trigger("submit");var n=e._elements.cardNumber;e._stripe.createPaymentMethod({type:"card",card:n}).then(function(t){t.error?e._form.trigger("hc:form:free"):(i('input[name="rememberme"]').val(e._form.find('input[name="remind-me"]').prop("checked")?1:0),i('input[name="payment_method_id"]').val(t.paymentMethod.id).closest("form").trigger("submit"))})})}return t.prototype._generateElements=function(){var t=this;this._form.attr("stripe-pi-client-secret").length>0&&this._stripe.handleCardAction(this._form.attr("stripe-pi-client-secret")).then(function(e){e.error?t._form.trigger("hc:form:free"):i('input[name="payment_intent_id"]').val(e.paymentIntent.id).closest("form").trigger("submit")}),this._form.find("[payment-element]").each(function(e,n){var o=i(n).attr("payment-element"),a={style:r,placeholder:i(n).data("placeholder"),classes:{invalid:"invalid"}};t._elements[o]=t._creator.create(o,a),t._elements[o].mount(n),t._elements[o].addEventListener("change",function(t){i(n).nextAll(".error").text(t.error?t.error.message:"")})})},t}();i(document).on("hc:ready",function(t,e){t.preventDefault(),i(e||document).find("form[stripe-form]").each(function(t,e){return new o(e)})})},cV4H:function(t,e,n){"use strict";var i=n("TM7a");t.exports=function(t,e,r,o,a){o="number"==typeof o?o:3;var s=0,c=n("/+gY"),u={},l=c.getOrCreate(u);return function n(){return e(r).then(function(e){return(r.audio?i(l,e,a).catch(function(){return!0}):Promise.resolve(!1)).then(function(i){return i?o<=0?(t.warn("Got a silent audio MediaStreamTrack. Normally we would try to get a new one, but we've run out of retries; returning it anyway."),e):(t.warn("Got a silent audio MediaStreamTrack. Stopping all MediaStreamTracks and calling getUserMedia again. This is retry #"+ ++s+"."),e.getTracks().forEach(function(t){return t.stop()}),o--,n()):(t.info("Got a non-silent audio MediaStreamTrack; returning it."),e)})})}().then(function(t){return c.release(u),t},function(t){throw c.release(u),t})}},cmdE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("I9E9"),r=n("EVdn"),o=n("t/UT"),a=r;a(window).data("smallScreenLimit",600),a(window).data("screenLimit",900),a(document).ready(function(){a(document).on("click","a[force-redirection]",function(t){return window.location.href=t.target.getAttribute("href")}),a(document).trigger("hc:ready")}),i.extendDefinitions({A:{validator:"[0-9AB]"}}),i.extendDefaults({removeMaskOnSubmit:!0,placeholder:""}),a("[custom-scroll]").each(function(t,e){new o.default(e)})},cpc2:function(t,e,n){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e);return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},d6fC:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("2h1k"),o=r.MediaStream,a=r.RTCIceCandidate,s=r.RTCPeerConnection,c=r.RTCSessionDescription,u=r.getStats,l=n("BWbm").guessBrowser,h=n("iWhl").getSdpFormat,d=n("xwWy").DEFAULT_LOG_LEVEL,p=n("9dY8"),f=p.getMediaSections,m=p.setBitrateParameters,v=p.setCodecPreferences,g=p.setSimulcast,_=p.unifiedPlanAddOrRewriteNewTrackIds,y=p.unifiedPlanAddOrRewriteTrackIds,b=n("5wwa"),w=b.MediaClientLocalDescFailedError,T=b.MediaClientRemoteDescFailedError,k=n("ghd6"),S=k.buildLogLevels,C=k.makeUUID,E=k.oncePerTick,P=n("uqca"),O=n("lBno"),x=n("7bK7"),R=n("gEVb"),A=n("S3Hu"),D=n("tzRi"),I=n("Vkbc"),M=n("AMco"),$=n("ROvb"),L=l(),j="chrome"===L,N="firefox"===L,U="safari"===L,X=h(),B="unified"===X,F=N?parseInt(navigator.userAgent.match(/Firefox\/(\d+)/)[1],10):null,H="undefined"!=typeof RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.getParameters&&"function"==typeof RTCRtpSender.prototype.setParameters,q=0,z={open:["closed","updating"],updating:["closed","open"],closed:[]},W=function(t){function e(t,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"open",z)),l=Z(r=Object.assign({dscpTagging:!1,dummyAudioMediaStreamTrack:null,iceServers:[],isRTCRtpSenderParamsSupported:H,logLevel:d,offerOptions:{},setBitrateParameters:m,setCodecPreferences:v,setSimulcast:g,MediaStream:o,RTCIceCandidate:a,RTCPeerConnection:s,RTCSessionDescription:c},r)),h=S(r.logLevel),p=r.RTCPeerConnection;!0===r.dscpTagging&&(r.chromeSpecificConstraints=r.chromeSpecificConstraints||{},r.chromeSpecificConstraints.optional=r.chromeSpecificConstraints.optional||[],r.chromeSpecificConstraints.optional.push({googDscp:!0}));var f=new p(l,r.chromeSpecificConstraints),_=B&&p.prototype.addTransceiver?null:new r.MediaStream;r.dummyAudioMediaStreamTrack&&f.addTrack(r.dummyAudioMediaStreamTrack,_||new r.MediaStream),N&&F<65&&f.createDataChannel(C()),Object.defineProperties(u,{_dataChannels:{value:new Map},_dataTrackReceivers:{value:new Set},_descriptionRevision:{writable:!0,value:0},_dscpTagging:{value:r.dscpTagging},_encodingParameters:{value:n},_instanceId:{value:++q},_isRestartingIce:{writable:!0,value:!1},_isRTCRtpSenderParamsSupported:{value:r.isRTCRtpSenderParamsSupported},_lastIceConnectionState:{writable:!0,value:null},_lastStableDescriptionRevision:{writable:!0,value:0},_localCandidates:{writable:!0,value:[]},_localCandidatesRevision:{writable:!0,value:1},_localDescription:{writable:!0,value:null},_localMediaStream:{value:_},_localUfrag:{writable:!0,value:null},_log:{value:r.log?r.log.createLog("signaling",u):new A("webrtc",u,h)},_rtpSenders:{value:new Map},_mediaTrackReceivers:{value:new Set},_needsAnswer:{writable:!0,value:!1},_negotiationRole:{writable:!0,value:null},_offerOptions:{writable:!0,value:r.offerOptions},_peerConnection:{value:f},_preferredAudioCodecs:{value:i.audio},_preferredVideoCodecs:{value:i.video},_queuedDescription:{writable:!0,value:null},_remoteCandidates:{writable:!0,value:new P},_setBitrateParameters:{value:r.setBitrateParameters},_setCodecPreferences:{value:r.setCodecPreferences},_setSimulcast:{value:r.setSimulcast},_RTCIceCandidate:{value:r.RTCIceCandidate},_RTCPeerConnection:{value:r.RTCPeerConnection},_RTCSessionDescription:{value:r.RTCSessionDescription},_shouldOffer:{writable:!0,value:!1},_shouldRestartIce:{writable:!0,value:!1},_trackIdsToAttributes:{value:new Map},_trackMatcher:{writable:!0,value:null},id:{enumerable:!0,value:t}}),n.on("changed",E(function(){u._isRTCRtpSenderParamsSupported?u._needsAnswer||K(u):u.offer()})),f.addEventListener("datachannel",u._handleDataChannelEvent.bind(u)),f.addEventListener("icecandidate",u._handleIceCandidateEvent.bind(u)),f.addEventListener("iceconnectionstatechange",u._handleIceConnectionStateChange.bind(u)),f.addEventListener("signalingstatechange",u._handleSignalingStateChange.bind(u)),f.addEventListener("track",u._handleTrackEvent.bind(u));var y=u;return u.on("stateChanged",function t(e){"closed"===e&&(y.removeListener("stateChanged",t),y._dataChannels.forEach(function(t,e){y.removeDataTrackSender(e)}))}),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,R),i(e,[{key:"toString",value:function(){return"[PeerConnectionV2 #"+this._instanceId+": "+this.id+"]"}},{key:"_addIceCandidate",value:function(t){var e=this;return Promise.resolve().then(function(){return t=new e._RTCIceCandidate(t),e._peerConnection.addIceCandidate(t)}).catch(function(n){e._log.warn("Failed to add RTCIceCandidate "+(t?'"'+t.candidate+'"':"null")+": "+n.message)})}},{key:"_addIceCandidates",value:function(t){return Promise.all(t.map(this._addIceCandidate,this)).then(function(){})}},{key:"_checkIceBox",value:function(t){var e=Y(t);if(!e)return Promise.resolve();var n=this._remoteCandidates.setUfrag(e);return this._addIceCandidates(n)}},{key:"_answer",value:function(t){var e=this;return Promise.resolve().then(function(){return e._negotiationRole||(e._negotiationRole="answerer"),e._setRemoteDescription(t)}).catch(function(){throw new T}).then(function(){return e._peerConnection.createAnswer()}).then(function(t){return N||(t=$(t)),e._setLocalDescription(t)}).then(function(){return e._checkIceBox(t)}).then(function(){return e._queuedDescription&&e._updateDescription(e._queuedDescription)}).then(function(){return e._queuedDescription=null,e._maybeReoffer(e._peerConnection.localDescription)}).catch(function(t){throw t instanceof T?t:new w})}},{key:"_close",value:function(){return"closed"!==this._peerConnection.signalingState&&(this._peerConnection.close(),!0)}},{key:"_handleDataChannelEvent",value:function(t){var e=this,n=t.channel,i=new O(n);this._dataTrackReceivers.add(i),n.addEventListener("close",function(){e._dataTrackReceivers.delete(i)}),this.emit("trackAdded",i)}},{key:"_handleGlare",value:function(t){var e=this;return this._log.debug("Glare detected; rolling back"),this._isRestartingIce&&(this._log.debug("An ICE restart was in progress; we'll need to restart ICE again after rolling back"),this._isRestartingIce=!1,this._shouldRestartIce=!0),Promise.resolve().then(function(){return e._setLocalDescription({type:"rollback"})}).then(function(){return e._needsAnswer=!1,e._answer(t)}).then(function(t){return t?Promise.resolve():e._offer()})}},{key:"_handleIceCandidateEvent",value:function(t){t.candidate&&this._localCandidates.push(t.candidate);var e={ice:{candidates:this._localCandidates.slice(),revision:this._localCandidatesRevision++,ufrag:this._localUfrag},id:this.id};t.candidate||(e.ice.complete=!0),this.emit("candidates",e)}},{key:"_handleIceConnectionStateChange",value:function(){var t=this._peerConnection.iceConnectionState;this._log.debug('ICE connection state is "'+t+'"'),"failed"===this._lastIceConnectionState||"failed"!==t||this._shouldRestartIce||this._isRestartingIce?"failed"!==this._lastIceConnectionState||"connected"!==t&&"completed"!==t||this._log.info("ICE reconnected"):(this._log.warn("ICE failed; attempting to restart ICE"),this._shouldRestartIce=!0,this.offer()),this._lastIceConnectionState=t,this.emit("iceConnectionStateChanged")}},{key:"_handleSignalingStateChange",value:function(){"closed"===this._peerConnection.signalingState&&"closed"!==this.state&&this.preempt("closed")}},{key:"_handleTrackEvent",value:function(t){var e=this,n=this._peerConnection.remoteDescription?this._peerConnection.remoteDescription.sdp:null;this._trackMatcher||(this._trackMatcher=t.transceiver&&t.transceiver.mid?new M:U||B?new I:new D),this._trackMatcher.update(n);var i=t.track,r=this._trackMatcher.match(t)||i.id,o=new x(r,i);this._mediaTrackReceivers.add(o),i.addEventListener("ended",function(){e._mediaTrackReceivers.delete(o)}),this.emit("trackAdded",o)}},{key:"_maybeReoffer",value:function(t){var e=this._shouldOffer;if(t&&t.sdp){if(B&&"answer"===t.type){var n=this._peerConnection.getSenders().filter(function(t){return t.track});e=["audio","video"].reduce(function(e,i){var r=f(t.sdp,i,"(sendrecv|sendonly)"),o=n.filter(function(t,e){var n=e.track;return n&&n.kind===t&&"ended"!==n.readyState}.bind(null,i));return e||r.length<o.length},e)}var i=this._dataChannels.size>0,r=f(t.sdp,"application").length>0;e=e||i&&!r}return(e?this._offer():Promise.resolve()).then(function(){return e})}},{key:"_offer",value:function(){var t=this,e=Object.assign({},this._offerOptions);return this._needsAnswer=!0,this._shouldRestartIce&&(this._shouldRestartIce=!1,this._isRestartingIce=!0,e.iceRestart=!0),Promise.resolve().then(function(){return t._peerConnection.createOffer(e)}).catch(function(){throw new w}).then(function(e){N||(e=$(e));var n=t._setCodecPreferences(e.sdp,t._preferredAudioCodecs,t._preferredVideoCodecs);return t._shouldOffer=!1,t._negotiationRole||(t._negotiationRole="offerer"),t._setLocalDescription({type:"offer",sdp:n})})}},{key:"_addOrRewriteLocalTrackIds",value:function(t){var e=this._peerConnection.getTransceivers().filter(function(t){var e=t.sender;return!t.stopped&&e&&e.track}),n=e.filter(function(t){return t.mid}),i=new Map(n.map(function(t){return[t.mid,t.sender.track.id]})),r=y(t.sdp,i),o=e.filter(function(t){return!t.mid}),a=new Map(["audio","video"].map(function(t){return[t,o.filter(function(e){return e.sender.track.kind===t}).map(function(t){return t.sender.track.id})]})),s=_(r,i,a);return new this._RTCSessionDescription({sdp:s,type:t.type})}},{key:"_setLocalDescription",value:function(t){var e=this,n=this._preferredVideoCodecs.some(function(t){return"vp8"===t.codec.toLowerCase()&&t.simulcast});return Promise.resolve().then(function(){return t.sdp&&(t={type:t.type,sdp:(j||U)&&n?e._setSimulcast(t.sdp,X,e._trackIdsToAttributes):t.sdp}),t=new e._RTCSessionDescription(t),e._peerConnection.setLocalDescription(t)}).catch(function(n){throw e._log.warn('Calling setLocalDescription with an RTCSessionDescription of type "'+t.type+'" failed with the error "'+n.message+'".'),t.sdp&&e._log.warn("The SDP was "+t.sdp),new w}).then(function(){"rollback"!==t.type&&(e._localDescription=B?e._addOrRewriteLocalTrackIds(t):t,e._localCandidates=[],"offer"===t.type?e._descriptionRevision++:"answer"===t.type&&(e._lastStableDescriptionRevision=e._descriptionRevision,G(e)),e._localUfrag=Y(t),e.emit("description",e.getState()))})}},{key:"_setRemoteDescription",value:function(t){var e=this;return t.sdp&&(this._isRTCRtpSenderParamsSupported||(t.sdp=this._setBitrateParameters(t.sdp,N?"TIAS":"AS",this._encodingParameters.maxAudioBitrate,this._encodingParameters.maxVideoBitrate)),t.sdp=this._setCodecPreferences(t.sdp,this._preferredAudioCodecs,this._preferredVideoCodecs),N&&(t.sdp=t.sdp.replace(/a=msid:[^ ]+ /g,"a=msid:- "))),t=new this._RTCSessionDescription(t),this._peerConnection.setRemoteDescription(t).then(function(){"answer"===t.type&&(e._isRestartingIce&&(e._log.debug("An ICE restart was in-progress and is now completed"),e._isRestartingIce=!1),G(e)),B&&e._peerConnection.getTransceivers().forEach(function(e){(function(t,e){if(!e.stop||e.stopped||!e.mid)return!1;var n=function(t){return["audio","video"].reduce(function(e,n){return e[n]=f(t,n).map(function(t){return t.match(/^a=mid:(.+)$/m)[1]}),e},{})}(t);if(e.mid===n.audio[0]||e.mid===n.video[0])return!1;if("inactive"===e.currentDirection)return!0;var i=function(t,e){var n=f(t).find(function(t){return t.match("a=mid:"+e)});if(!n)return null;var i=n.match(/a=(sendrecv|sendonly|recvonly|inactive)/);return i?i[1]:null}(t,e.mid);if("inactive"===i)return!0;if("recvonly"===i&&!e.sender.track)return!0;return!1})(t.sdp,e)&&e.stop()})},function(n){throw e._log.warn('Calling setRemoteDescription with an RTCSessionDescription of type "'+t.type+'" failed with the error "'+n.message+'".'),t.sdp&&e._log.warn("The SDP was "+t.sdp),n})}},{key:"_updateDescription",value:function(t){var e=this;switch(t.type){case"answer":case"pranswer":if(t.revision!==this._descriptionRevision||"have-local-offer"!==this._peerConnection.signalingState)return Promise.resolve();this._descriptionRevision=t.revision;break;case"close":return this._close();case"create-offer":return t.revision<=this._lastStableDescriptionRevision?Promise.resolve():this._needsAnswer?(this._queuedDescription=t,Promise.resolve()):(this._descriptionRevision=t.revision,this._offer());case"offer":return t.revision<=this._lastStableDescriptionRevision||"closed"===this._peerConnection.signalingState?Promise.resolve():"have-local-offer"===this._peerConnection.signalingState?this._needsAnswer&&1===this._descriptionRevision?(this._queuedDescription=t,Promise.resolve()):(this._descriptionRevision=t.revision,this._handleGlare(t)):(this._descriptionRevision=t.revision,this._answer(t).then(function(){}))}var n=t.revision;return Promise.resolve().then(function(){return e._setRemoteDescription(t)}).catch(function(t){throw console.error(t.message),new T}).then(function(){return e._lastStableDescriptionRevision=n,e._needsAnswer=!1,e._checkIceBox(t)}).then(function(){return e._queuedDescription&&e._updateDescription(e._queuedDescription)}).then(function(){return e._queuedDescription=null,e._maybeReoffer(e._peerConnection.localDescription).then(function(){})})}},{key:"_updateIce",value:function(t){var e=this._remoteCandidates.update(t);return this._addIceCandidates(e)}},{key:"addDataTrackSender",value:function(t){if(!this._dataChannels.has(t))try{var e={ordered:t.ordered};null!==t.maxPacketLifeTime&&(e.maxPacketLifeTime=t.maxPacketLifeTime),null!==t.maxRetransmits&&(e.maxRetransmits=t.maxRetransmits);var n=this._peerConnection.createDataChannel(t.id,e);t.addDataChannel(n),this._dataChannels.set(t,n)}catch(t){}}},{key:"addMediaTrackSender",value:function(t){if("closed"!==this._peerConnection.signalingState&&!this._rtpSenders.has(t)){var e=void 0;if(this._localMediaStream)this._localMediaStream.addTrack(t.track),e=this._peerConnection.addTrack(t.track,this._localMediaStream);else e=this._peerConnection.addTransceiver(t.track).sender;t.addSender(e),this._rtpSenders.set(t,e)}}},{key:"close",value:function(){this._close()&&(this._descriptionRevision++,this._localDescription={type:"close"},this.emit("description",this.getState()))}},{key:"getTrackReceivers",value:function(){return Array.from(this._dataTrackReceivers).concat(Array.from(this._mediaTrackReceivers))}},{key:"getState",value:function(){if(!this._localDescription)return null;var t={type:this._localDescription.type,revision:this._descriptionRevision};return this._localDescription.sdp&&(t.sdp=this._localDescription.sdp),{description:t,id:this.id}}},{key:"offer",value:function(){var t=this;return this._needsAnswer||this._isRestartingIce?(this._shouldOffer=!0,Promise.resolve()):this.bracket("offering",function(e){return t.transition("updating",e),(t._needsAnswer||t._isRestartingIce?Promise.resolve():t._offer()).then(function(){t.tryTransition("open",e)},function(n){throw t.tryTransition("open",e),n})})}},{key:"removeDataTrackSender",value:function(t){var e=this._dataChannels.get(t);e&&(t.removeDataChannel(e),this._dataChannels.delete(t),e.close())}},{key:"removeMediaTrackSender",value:function(t){if("closed"!==this._peerConnection.signalingState&&this._rtpSenders.has(t)){var e=this._rtpSenders.get(t);this._peerConnection.removeTrack(e),this._localMediaStream&&this._localMediaStream.removeTrack(t.track),t.removeSender(e),this._rtpSenders.delete(t)}}},{key:"setConfiguration",value:function(t){"function"==typeof this._peerConnection.setConfiguration&&this._peerConnection.setConfiguration(Z(t))}},{key:"update",value:function(t){var e=this;return this.bracket("updating",function(n){if("closed"===e.state)return Promise.resolve();e.transition("updating",n);var i=[];return t.ice&&i.push(e._updateIce(t.ice)),t.description&&i.push(e._updateDescription(t.description)),Promise.all(i).then(function(){e.tryTransition("open",n)},function(t){throw e.tryTransition("open",n),t})})}},{key:"getStats",value:function(){var t=this;return u(this._peerConnection).then(function(e){return function(t,e){return Object.assign(e,{remoteAudioTrackStats:e.remoteAudioTrackStats.map(function(e){return V(t,e)}),remoteVideoTrackStats:e.remoteVideoTrackStats.map(function(e){return V(t,e)})})}(t,e)})}},{key:"iceConnectionState",get:function(){return this._peerConnection.iceConnectionState}}]),e}();function V(t,e){var n=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t._mediaTrackReceivers)).find(function(t){return t.track.id===e.trackId}),i=n?n.id:null;return Object.assign(e,{trackId:i})}function Y(t){if(t.sdp){var e=t.sdp.match(/^a=ice-ufrag:([a-zA-Z0-9+\/]+)/m);if(e)return e[1]}return null}function Z(t){return Object.assign({bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},t)}function G(t){t._isRTCRtpSenderParamsSupported&&K(t)}function K(t){var e=t._encodingParameters,n=e.maxAudioBitrate,i=e.maxVideoBitrate,r=new Map([["audio",n||0],["video",i||0]]);t._peerConnection.getSenders().filter(function(t){return t.track}).forEach(function(e){var n=r.get(e.track.kind),i=e.getParameters();null===n||0===n?function(t){Array.isArray(t.encodings)&&t.encodings.forEach(function(t){return delete t.maxBitrate})}(i):function(t,e){N?t.encodings=[{maxBitrate:e}]:t.encodings.forEach(function(t){t.maxBitrate=e})}(i,n),!N&&t._dscpTagging&&i.encodings.length>0&&(i.encodings[0].networkPriority="high"),e.setParameters(i).catch(function(n){t._log.warn("Error while setting encodings parameters for "+e.track.kind+" Track "+e.track.id+": "+(n.message||n.name))})})}t.exports=W},deyy:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("mb7l"),o=function(t){function e(t,n,i,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"toString",value:function(){return"[LocalDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),e}();t.exports=o},"dkv/":function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var i in t)n.call(t,i)&&e.push(i);return e}},eOtv:function(t,e,n){var i=n("lKxJ"),r=n("KFGy"),o=n("cpc2"),a=n("Vo14"),s=n("2Dig"),c=n("QN7Q"),u=n("NOtv")("socket.io-client:manager"),l=n("7jRU"),h=n("C2QD"),d=Object.prototype.hasOwnProperty;function p(t,e){if(!(this instanceof p))return new p(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||a;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=p,p.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},p.prototype.updateSocketIds=function(){for(var t in this.nsps)d.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},p.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},o(p.prototype),p.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},p.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},p.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(t,e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var o=s(n,"open",function(){r.onopen(),t&&t()}),a=s(n,"error",function(e){if(u("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;u("connect attempt will timeout after %d",c);var l=setTimeout(function(){u("connect attempt timed out after %d",c),o.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(o),this.subs.push(a),this},p.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(s(t,"data",c(this,"ondata"))),this.subs.push(s(t,"ping",c(this,"onping"))),this.subs.push(s(t,"pong",c(this,"onpong"))),this.subs.push(s(t,"error",c(this,"onerror"))),this.subs.push(s(t,"close",c(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",c(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(t){this.decoder.add(t)},p.prototype.ondecoded=function(t){this.emit("packet",t)},p.prototype.onerror=function(t){u("error",t),this.emitAll("error",t)},p.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new r(this,t,e),this.nsps[t]=n;var i=this;n.on("connecting",o),n.on("connect",function(){n.id=i.generateId(t)}),this.autoConnect&&o()}function o(){~l(i.connecting,n)||i.connecting.push(n)}return n},p.prototype.destroy=function(t){var e=l(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},p.prototype.packet=function(t){u("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var i=0;i<n.length;i++)e.engine.write(n[i],t.options);e.encoding=!1,e.processPacketQueue()}))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},p.prototype.cleanup=function(){u("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(t){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();u("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(u("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(u("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(u("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},ehTg:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=n("/gBg"),o=i,a={label:{left:"a",right:"b"},value:{left:!0,right:!1}},s=function(){function t(t){this.$wrapper=o(t),this._parameters=o.extend({},a,o(t).data("params")),void 0===this._parameters.value.current&&(this._parameters.value.current=this._parameters.value.right),this._prepareDom(),this._applyEvents(),this._update(this._parameters.value.current)}return t.prototype._createLabel=function(t){return o("<span>").addClass("switcher-label").html(this._parameters.label[t]).data("value",this._parameters.value[t]).addClass(t)},t.prototype._prepareDom=function(){this.$wrapper.addClass("switcher-wrapper");var t=this._createLabel("left"),e=this._createLabel("right"),n=o("<span>").addClass("switcher");if(this.$wrapper.append(t,n,e),this._parameters.tooltip){var i=o("<span>").addClass(this._parameters.tooltip.class);this.tooltip=new r.Tooltip(i),this.$wrapper.prepend(i)}},t.prototype._update=function(t){this._parameters.value.current=t;var e=t===this._parameters.value.left?"left":"right";this.$wrapper.removeClass("left right"),this.$wrapper.addClass(e),this.tooltip&&o(this.tooltip).trigger("hc:update",this._parameters.tooltip[e])},t.prototype._queryUpdate=function(t){var e=this,n={};n[this._parameters.update.parameter]=t,o.ajax({url:this._parameters.update.url,data:n}).done(function(){return e._update(t)})},t.prototype._switch=function(t){t!==this._parameters.value.current&&(this._parameters.update?this._queryUpdate(t):this._update(t))},t.prototype._applyEvents=function(){var t=this;this.$wrapper.on("click",".switcher-label",function(e){e.preventDefault(),e.stopPropagation();var n=o(e.target).data("value");t._switch(n)}),this.$wrapper.on("click",".switcher",function(e){e.preventDefault(),e.stopPropagation();var n=t._parameters.value,i=n.current===n.left?n.right:n.left;t._switch(i)})},t}();o(document).on("hc:ready",function(t,e){t.preventDefault(),o(e||document).find("[switcher]").each(function(t,e){return new s(e)})})},f1iV:function(t,e,n){"use strict";var i=500;t.exports=function(t){var e={T1:i,T2:4e3,T4:5e3,TIMER_B:32e3,TIMER_D:0,TIMER_F:32e3,TIMER_H:32e3,TIMER_I:0,TIMER_J:0,TIMER_K:0,TIMER_L:32e3,TIMER_M:32e3,TIMER_N:32e3,PROVISIONAL_RESPONSE_INTERVAL:6e4};return["setTimeout","clearTimeout","setInterval","clearInterval"].forEach(function(n){e[n]=function(){return t[n].apply(t,arguments)}}),e}},g5Dd:function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),i=0;i<t.length;i++)n[t.charCodeAt(i)]=i;e.encode=function(e){var n,i=new Uint8Array(e),r=i.length,o="";for(n=0;n<r;n+=3)o+=t[i[n]>>2],o+=t[(3&i[n])<<4|i[n+1]>>4],o+=t[(15&i[n+1])<<2|i[n+2]>>6],o+=t[63&i[n+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){var e,i,r,o,a,s=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var l=new ArrayBuffer(s),h=new Uint8Array(l);for(e=0;e<c;e+=4)i=n[t.charCodeAt(e)],r=n[t.charCodeAt(e+1)],o=n[t.charCodeAt(e+2)],a=n[t.charCodeAt(e+3)],h[u++]=i<<2|r>>4,h[u++]=(15&r)<<4|o>>2,h[u++]=(3&o)<<6|63&a;return l}}()},gBrb:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("wl3V"),o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Object.defineProperties(t,{_revision:{value:1,writable:!0}}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"update",value:function(t){return t.revision<this._revision?this:(this._revision=t.revision,this.enable(t.enabled))}}]),e}();t.exports=o},gEVb:function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=n("+qE3").EventEmitter,a=n("ghd6"),s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i,r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),o=null,a=t;return n=function(t){var e=new Map;for(var n in t)e.set(n,new Set(t[n]));return e}(n),Object.defineProperties(r,{_lock:{get:function(){return o},set:function(t){o=t}},_reachableStates:{value:(i=n,Array.from(i.keys()).reduce(function(t,e){return t.set(e,function t(e,n,i){i=i||new Set;e.get(n).forEach(function(n){i.has(n)||(i.add(n),t(e,n,i).forEach(i.add,i))});return i}(i,e))},new Map))},_state:{get:function(){return a},set:function(t){a=t}},_states:{value:n},_whenDeferreds:{value:new Set},isLocked:{enumerable:!0,get:function(){return null!==o}},state:{enumerable:!0,get:function(){return a}}}),r.on("stateChanged",function(t){r._whenDeferreds.forEach(function(e){e.when(t,e.resolve,e.reject)})}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"_whenPromise",value:function(t){var e=this;if("function"!=typeof t)return Promise.reject(new Error("when() executor must be a function"));var n=a.defer();return n.when=t,this._whenDeferreds.add(n),n.promise.then(function(t){return e._whenDeferreds.delete(n),t},function(t){throw e._whenDeferreds.delete(n),t})}},{key:"bracket",value:function(t,e){var n=void 0,i=this;function r(t){if(i.hasLock(n)&&i.releaseLockCompletely(n),t)throw t}return this.takeLock(t).then(function(t){return e(n=t)}).then(function(t){return r(),t},r)}},{key:"hasLock",value:function(t){return this._lock===t}},{key:"preempt",value:function(t,e,n){if(!c(this._states,this.state,t))throw new Error('Cannot transition from "'+this.state+'" to "'+t+'"');var i=void 0;this.isLocked&&(i=this._lock,this._lock=null);var r=null;e&&(r=this.takeLockSync(e));var o=r?null:this.takeLockSync("preemption");return this.transition(t,r||o,n),i&&i.resolve(),o&&this.releaseLock(o),r}},{key:"releaseLock",value:function(t){if(!this.isLocked)throw new Error("Could not release the lock for "+t.name+" because the StateMachine is not locked");if(!this.hasLock(t))throw new Error("Could not release the lock for "+t.name+" because "+this._lock.name+" has the lock");0===t.depth?(this._lock=null,t.resolve()):t.depth--}},{key:"releaseLockCompletely",value:function(t){if(!this.isLocked)throw new Error("Could not release the lock for "+t.name+" because the StateMachine is not locked");if(!this.hasLock(t))throw new Error("Could not release the lock for "+t.name+" because "+this._lock.name+" has the lock");t.depth=0,this._lock=null,t.resolve()}},{key:"takeLock",value:function(t){var e=this;if("object"===(void 0===t?"undefined":i(t))){var n=t;return new Promise(function(t){t(e.takeLockSync(n))})}var r=t;if(this.isLocked){var o=this.takeLock.bind(this,r);return this._lock.promise.then(o)}return Promise.resolve(this.takeLockSync(r))}},{key:"takeLockSync",value:function(t){var e="string"==typeof t?null:t,n=e?e.name:t;if(e&&!this.hasLock(e)||!e&&this.isLocked)throw new Error("Could not take the lock for "+n+" because the lock for "+this._lock.name+" was not released");if(e)return e.depth++,e;var i=function(t){var e=a.defer();return e.name=t,e.depth=0,e}(n);return this._lock=i,i}},{key:"transition",value:function(t,e,n){if(n=n||[],this.isLocked){if(!e)throw new Error("You must provide the key in order to transition");if(!this.hasLock(e))throw new Error("Could not transition using the key for "+e.name+" because "+this._lock.name+" has the lock")}else if(e)throw new Error("Key provided for "+e.name+", but the StateMachine was not locked (possibly due to preemption)");if(!c(this._states,this.state,t))throw new Error('Cannot transition from "'+this.state+'" to "'+t+'"');this._state=t,this.emit.apply(this,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(["stateChanged",t].concat(n)))}},{key:"tryTransition",value:function(t,e,n){try{this.transition(t,e,n)}catch(t){return!1}return!0}},{key:"when",value:function(t){var e=this;return this.state===t?Promise.resolve(this):c(this._reachableStates,this.state,t)?this._whenPromise(function(n,i,r){n===t?i(e):c(e._reachableStates,n,t)||r(u(n,t))}):Promise.reject(u(this.state,t))}}]),e}();function c(t,e,n){return t.get(e).has(n)}function u(t,e){return new Error('"'+e+'" cannot be reached from "'+t+'"')}t.exports=s},gFX4:function(t,e,n){var i=n("zJ60"),r=n("Vo14"),o=n("eOtv"),a=n("NOtv")("socket.io-client");t.exports=e=c;var s=e.managers={};function c(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r=i(t),c=r.source,u=r.id,l=r.path,h=s[u]&&l in s[u].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||h?(a("ignoring socket cache for %s",c),n=o(c,e)):(s[u]||(a("new io instance for %s",c),s[u]=o(c,e)),n=s[u]),r.query&&!e.query&&(e.query=r.query),n.socket(r.path,e)}e.protocol=r.protocol,e.connect=c,e.Manager=n("eOtv"),e.Socket=n("KFGy")},gJbR:function(t,e,n){"use strict";var i=n("7tlc").inherits,r=n("jU82");function o(t,e){var n=new r(t,e);return Object.setPrototypeOf(n,o.prototype),n}i(o,r),t.exports=o},ghd6:function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o=n("xwWy");function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function s(t,e,n,r){if(!(r in e||r.match(/^on[a-z]+$/))){var o=void 0;try{o=i(t[r])}catch(t){}"function"===o&&(e[r]=function(){var t;return(t=this[n])[r].apply(t,arguments)})}}e.constants=o,e.asLocalTrack=function(t,e){if(t instanceof e.LocalAudioTrack||t instanceof e.LocalVideoTrack||t instanceof e.LocalDataTrack)return t;if(t instanceof e.MediaStreamTrack)return"audio"===t.kind?new e.LocalAudioTrack(t,e):new e.LocalVideoTrack(t,e);throw o.typeErrors.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")},e.asLocalTrackPublication=function(t,e,n,i){return new(0,{audio:i.LocalAudioTrackPublication,video:i.LocalVideoTrackPublication,data:i.LocalDataTrackPublication}[t.kind])(e,t,n,i)},e.capitalize=function(t){return t[0].toUpperCase()+t.slice(1)},e.deprecateEvents=function(t,e,n,i){var r=new Set;e.on("newListener",function o(a){n.has(a)&&!r.has(a)&&(i.deprecated(t+"#"+a+" has been deprecated and scheduled for removal in twilio-video.js@2.0.0."+(n.get(a)?" Use "+t+"#"+n.get(a)+" instead.":"")),r.add(a)),r.size>=n.size&&e.removeListener("newListener",o)})},e.difference=function(t,e){t=Array.isArray(t)?new Set(t):new Set(t.values()),e=Array.isArray(e)?new Set(e):new Set(e.values());var n=new Set;return t.forEach(function(t){e.has(t)||n.add(t)}),n},e.filterObject=function(t,e){return Object.keys(t).reduce(function(n,i){return t[i]!==e&&(n[i]=t[i]),n},{})},e.flatMap=function(t,e){var n=t instanceof Map||t instanceof Set?Array.from(t.values()):t;return e=e||function(t){return t},n.reduce(function(t,n){var i=e(n);return t.concat(i)},[])},e.getUserAgent=function(){return"undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent:"Unknown"},e.inRange=function(t,e,n){return e<=t&&t<=n},e.makeClientSIPURI=function(){return a()+"@"+o.REGISTRAR_SERVER},e.makeServerSIPURI=function(){return"orchestrator@"+o.REGISTRAR_SERVER},e.makeUUID=a,e.oncePerTick=function(t){var e=null;function n(){e=null,t()}return function(){e&&clearTimeout(e),e=setTimeout(n)}},e.promiseFromEvents=function(t,e,n,i){return new Promise(function(o,a){function s(){var t=[].slice.call(arguments);i&&e.removeListener(i,c),o.apply(void 0,r(t))}function c(){var t=[].slice.call(arguments);e.removeListener(n,s),a.apply(void 0,r(t))}e.once(n,s),i&&e.once(i,c),t()})},e.getOrNull=function(t,e){return e.split(".").reduce(function(t,e){return t?t[e]:null},t)},e.defer=function(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t},e.delegateMethods=function(t,e,n){for(var i in t)s(t,e,n,i)},e.proxyProperties=function(t,e,n){Object.getOwnPropertyNames(t).forEach(function(t){!function(t,e,n,i){if(!(i in e))i.match(/^on[a-z]+$/)?(Object.defineProperty(e,i,{value:null,writable:!0}),n.addEventListener(i.slice(2),function(){e.dispatchEvent.apply(e,arguments)})):Object.defineProperty(e,i,{enumerable:!0,get:function(){return n[i]}})}(0,e,n,t)})},e.legacyPromise=function(t,e,n){return e?t.then(function(t){e(t)},function(t){n(t)}):t},e.buildLogLevels=function(t){return"string"==typeof t?{default:t,media:t,signaling:t,webrtc:t}:t},e.trackClass=function(t,e){return(e=e?"Local":"")+(t.kind||"").replace(/\w{1}/,function(t){return t.toUpperCase()})+"Track"},e.trackPublicationClass=function(t,e){return(e=e?"Local":"")+(t.kind||"").replace(/\w{1}/,function(t){return t.toUpperCase()})+"TrackPublication"},e.validateLocalTrack=function(t,e){if(!(t instanceof e.LocalAudioTrack||t instanceof e.LocalDataTrack||t instanceof e.LocalVideoTrack||t instanceof e.MediaStreamTrack))throw o.typeErrors.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")}},grGN:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=function(){return function(){o(document).trigger("hc:notification:listener",this)}}();e.NotificationListener=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.process=function(t){var e=o("<div>"),n=o("<button>"),i=o("<audio>"),r=o("<source>"),a=o("<source>");!0===t.infinite?(r.attr("src","/sounds/notif-infinite.mp3"),a.attr("src","/sounds/notif-infinite.ogg"),i.attr("loop",!0)):(r.attr("src","/sounds/notif.mp3"),a.attr("src","/sounds/notif.ogg")),n.on("click",function(){return i.get(0).play()}),i.on("ended",function(){return e.remove()}).append(a).append(r),e.append(i,n).appendTo("body"),n.trigger("click")},e}(a),c=function(t){function e(e){var n=t.call(this)||this;return n.$el=o(e),n._checkVisibility(),o(document).on("hc:notification:read",function(t){return n._decrease()}),n}return r(e,t),e.prototype.process=function(t){this.$el.text(+(t.count||0)),this._checkVisibility()},e.prototype._decrease=function(){var t=+(this.$el.text()||0);this.$el.text(Math.max(t-1,0)),this._checkVisibility()},e.prototype._checkVisibility=function(){0==+this.$el.text()?this.$el.removeClass("active"):this.$el.addClass("active")},e}(a),u=function(t){function e(e){var n=t.call(this)||this;return n.$el=o(e),n.type=n.$el.attr("notification-receipt-area")||"last","last"===n.type&&n.$el.on("hc:notification:replace",function(t,e,i){var r=n.$el.find("[notification-item]");void 0!==r.attr("notification-item")&&r.attr("notification-item")!==e||n._inject(i)}),n}return r(e,t),e.prototype.process=function(t){var e=this;t.url&&o.ajax(t.url).done(function(t){return e._inject(t)})},e.prototype._inject=function(t){var e=this.$el;"all"===this.type&&(e=o("<div>"),this.$el.prepend(e),this.$el.find(".no-notif").hide()),e.html(t),o(document).trigger("hc:ready",e),e.trigger("hc:notification:append")},e}(a),l=function(){function t(t){var e=this;this.$wrapper=o(t).closest("[notification-item]");var n=this.$wrapper.data("delete-url");o(t).on("click",function(t){return e._delete(t,n)})}return t.prototype._delete=function(t,e){var n=this;t.stopPropagation(),t.preventDefault(),o(document).find("audio").remove(),o.ajax(e).done(function(t){var e=o("[notification-receipt-area]");n.$wrapper.remove(),e.trigger("hc:notification:replace",[n.$wrapper.attr("notification-item"),t]),o(document).trigger("hc:notification:read"),document.location.reload(!0)})},t}(),h=function(){return function(t){var e=o(t).closest("[notification-receipt-area]");e.find("[notification-deleter]").length>0?o(t).show():o(t).hide(),o(t).on("click",function(n){e.find(".notif-header [notification-deleter]").trigger("click"),o(t).hide()}),e.on("hc:notification:append",function(){return o(t).show()})}}();o(document).on("hc:ws:ready",function(){new s}),o(document).on("hc:ready",function(t,e){t.preventDefault();var n=o(e||o(document));n.find("[notification-count]").each(function(t,e){return new c(e)}),n.find("[notification-receipt-area]").each(function(t,e){return new u(e)}),n.find("[notification-deleter]").each(function(t,e){return new l(e)}),n.find("[notification-delete-all]").each(function(t,e){return new h(e)})})},h4HS:function(t,e,n){"use strict";var i=n("q7sl").XMLHttpRequest;function r(t,e){return new Promise(function(n,r){if("string"!=typeof t||!e)throw new Error("<String>method and <Object>params are required args.");var o=new i;for(var a in o.open(t.toUpperCase(),e.url,!0),o.withCredentials=!!e.withCredentials,o.onreadystatechange=function(){4===o.readyState&&(200<=o.status&&o.status<300?n(o.responseText):r(o.responseText))},e.headers)o.setRequestHeader(a,e.headers[a]);o.send(e.body)})}r.get=r.bind(null,"GET"),r.post=r.bind(null,"POST"),t.exports=r},"hM+B":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=function(){function t(t){this.$switcherWrapper=i(t),this.$content=i(t).closest(".planning").find(".dashboard-planning-wrapper"),this._prepareDom(),this._registerEvents(),this._planningSwitch(window.location.hash)}return t.prototype._prepareDom=function(){if(!(this.$switcherWrapper.children().length>2)){i("[planning]").addClass("planning-type");var t=this.$switcherWrapper.children();this.$switcher=i("<span>").addClass("switcher").data("inactive",t.first().attr("href").replace("#","")).data("active",t.last().attr("href").replace("#","")),this.$switcher.insertAfter(t.first())}},t.prototype._planningSwitch=function(t){switch(t){case"#appointment":this._open("appointment");break;case"#availability":this._open("availability");break;default:this._close()}},t.prototype._switch=function(t){if(void 0===t)return t=this.$switcher.hasClass("active")?this.$switcher.data("inactive"):this.$switcher.data("active"),void this.$switcherWrapper.find('a[href="#'+t+'"]').trigger("click");t===this.$switcher.data("active")?this.$switcher.addClass("active"):this.$switcher.removeClass("active"),this.$switcherWrapper.find("a").removeClass("active").filter('[href="#'+t+'"]').addClass("active")},t.prototype._open=function(t){this.$content.addClass("active"),i("body").addClass("dashboard-planning-active"),i("[planning]").removeClass("default-active").removeClass("active"),i('[planning="'+t+'"]').addClass("active"),this._switch(t),i(document).trigger("hc:planning:redraw")},t.prototype._close=function(){var t=this.$switcher.data("inactive");this.$content.removeClass("active"),i("body").removeClass("dashboard-planning-active"),i("[planning]").removeClass("default-active").removeClass("active"),i('[planning="'+t+'"]').addClass("default-active"),this._switch(t),i(document).trigger("hc:planning:redraw")},t.prototype._registerEvents=function(){var t=this;i(window).on("hashchange",function(e){t._planningSwitch(window.location.hash)}),this.$content.on("click","[close]",function(e){e.preventDefault(),e.stopPropagation();var n=window.location.href.replace(/#.*$/,"");window.history.pushState(null,null,n),t._close()}),this.$switcherWrapper.on("click","a",function(e){e.preventDefault(),e.stopPropagation();var n=i(e.target).attr("href"),r=window.location.href.replace(/#.*$/,"")+n;t._planningSwitch(n),""!==window.location.hash?window.history.replaceState(null,null,r):window.history.pushState(null,null,r)}),this.$switcher.on("click",function(){return t._switch()})},t}();i(document).on("hc:ready",function(t,e){t.preventDefault(),i(e||document).find("[planning-switcher]").each(function(t,e){return new r(e)})})},hjg0:function(t,e,n){"use strict";t.exports=function(t,e){var n;return(n=function(t,e){this.logger=t.getLogger("sip.transport"),this.ua=t,this.ws=null,this.server=e,this.reconnection_attempts=0,this.closed=!1,this.connected=!1,this.reconnectTimer=null,this.lastTransportError={},this.keepAliveInterval=t.configuration.keepAliveInterval,this.keepAliveTimeout=null,this.keepAliveTimer=null,this.ua.transport=this,this.connect()}).prototype={send:function(t){var n=t.toString();return this.ws&&this.ws.readyState===e.OPEN?(!0===this.ua.configuration.traceSip&&this.logger.log("sending WebSocket message:\n\n"+n+"\n"),this.ws.send(n),!0):(this.logger.warn("unable to send message, WebSocket is not open"),!1)},sendKeepAlive:function(){if(!this.keepAliveTimeout)return this.keepAliveTimeout=t.Timers.setTimeout(function(){this.ua.emit("keepAliveTimeout")}.bind(this),1e4),this.send("\r\n\r\n")},startSendingKeepAlives:function(){var e,n;this.keepAliveInterval&&!this.keepAliveTimer&&(this.keepAliveTimer=t.Timers.setTimeout(function(){this.sendKeepAlive(),this.keepAliveTimer=null,this.startSendingKeepAlives()}.bind(this),(e=this.keepAliveInterval,n=.8*e,1e3*(Math.random()*(e-n)+n))))},stopSendingKeepAlives:function(){t.Timers.clearTimeout(this.keepAliveTimer),t.Timers.clearTimeout(this.keepAliveTimeout),this.keepAliveTimer=null,this.keepAliveTimeout=null},disconnect:function(){this.ws&&(t.Timers.clearTimeout(this.reconnectTimer),this.stopSendingKeepAlives(),this.closed=!0,this.logger.log("closing WebSocket "+this.server.ws_uri),this.ws.close()),null!==this.reconnectTimer&&(t.Timers.clearTimeout(this.reconnectTimer),this.reconnectTimer=null,this.ua.emit("disconnected",{transport:this,code:this.lastTransportError.code,reason:this.lastTransportError.reason}))},connect:function(){var t=this;if(this.ws&&(this.ws.readyState===e.OPEN||this.ws.readyState===e.CONNECTING))return this.logger.log("WebSocket "+this.server.ws_uri+" is already connected"),!1;this.ws&&this.ws.close(),this.logger.log("connecting to WebSocket "+this.server.ws_uri),this.ua.onTransportConnecting(this,0===this.reconnection_attempts?1:this.reconnection_attempts);try{this.ws=new e(this.server.ws_uri,"sip")}catch(t){this.logger.warn("error connecting to WebSocket "+this.server.ws_uri+": "+t)}this.ws.binaryType="arraybuffer",this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(e){t.onClose(e)},this.ws.onmessage=function(e){t.onMessage(e)},this.ws.onerror=function(e){t.onError(e)}},onOpen:function(){this.connected=!0,this.logger.log("WebSocket "+this.server.ws_uri+" connected"),null!==this.reconnectTimer&&(t.Timers.clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.reconnection_attempts=0,this.closed=!1,this.ua.onTransportConnected(this),this.startSendingKeepAlives()},onClose:function(t){var e=this.connected;this.lastTransportError.code=t.code,this.lastTransportError.reason=t.reason,this.stopSendingKeepAlives(),this.reconnection_attempts>0?(this.logger.log("Reconnection attempt "+this.reconnection_attempts+" failed (code: "+t.code+(t.reason?"| reason: "+t.reason:"")+")"),this.reconnect()):(this.connected=!1,this.logger.log("WebSocket disconnected (code: "+t.code+(t.reason?"| reason: "+t.reason:"")+")"),!1===t.wasClean&&this.logger.warn("WebSocket abrupt disconnection"),!0===e?(this.ua.onTransportClosed(this),this.closed?this.ua.emit("disconnected",{transport:this,code:this.lastTransportError.code,reason:this.lastTransportError.reason}):this.reconnect()):this.ua.onTransportError(this))},onMessage:function(e){var n,i,r=e.data;if("\r\n"===r)return t.Timers.clearTimeout(this.keepAliveTimeout),this.keepAliveTimeout=null,void(!0===this.ua.configuration.traceSip&&this.logger.log("received WebSocket message with CRLF Keep Alive response"));if("string"!=typeof r){try{r=String.fromCharCode.apply(null,new Uint8Array(r))}catch(t){return void this.logger.warn("received WebSocket binary message failed to be converted into string, message discarded")}!0===this.ua.configuration.traceSip&&this.logger.log("received WebSocket binary message:\n\n"+r+"\n")}else!0===this.ua.configuration.traceSip&&this.logger.log("received WebSocket text message:\n\n"+r+"\n");if((n=t.Parser.parseMessage(r,this.ua))&&!(this.ua.status===t.UA.C.STATUS_USER_CLOSED&&n instanceof t.IncomingRequest)&&t.sanityCheck(n,this.ua,this))if(n instanceof t.IncomingRequest)n.transport=this,this.ua.receiveRequest(n);else if(n instanceof t.IncomingResponse)switch(n.method){case t.C.INVITE:(i=this.ua.transactions.ict[n.via_branch])&&i.receiveResponse(n);break;case t.C.ACK:break;default:(i=this.ua.transactions.nict[n.via_branch])&&i.receiveResponse(n)}},onError:function(t){this.logger.warn("WebSocket connection error: "+JSON.stringify(t))},reconnect:function(){var e=this;this.reconnection_attempts+=1,this.reconnection_attempts>this.ua.configuration.wsServerMaxReconnection?(this.logger.warn("maximum reconnection attempts for WebSocket "+this.server.ws_uri),this.ua.onTransportError(this)):1===this.reconnection_attempts?(this.logger.log("Connection to WebSocket "+this.server.ws_uri+" severed, attempting first reconnect"),e.connect()):(this.logger.log("trying to reconnect to WebSocket "+this.server.ws_uri+" (reconnection attempt "+this.reconnection_attempts+")"),this.reconnectTimer=t.Timers.setTimeout(function(){e.connect(),e.reconnectTimer=null},1e3*this.ua.configuration.wsServerReconnectionTimeout))}},n.C={STATUS_READY:0,STATUS_DISCONNECTED:1,STATUS_ERROR:2},n}},hkYD:function(t,e,n){"use strict";var i=n("7C7v"),r=n("kltW");t.exports=function t(e){var n=e.send,o=e.recv,a=e.sendStats,s=void 0===a?null:a,c=e.recvStats,u=void 0===c?null:c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{send:{value:n,enumerable:!0},recv:{value:o,enumerable:!0},sendStats:{value:s?new i(s):null,enumerable:!0},recvStats:{value:u?new r(u):null,enumerable:!0}})}},"i99/":function(t,e,n){"use strict";var i=n("0iCT"),r=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return Object.defineProperties(i,{bytesReceived:{value:"number"==typeof n.bytesReceived?n.bytesReceived:null,enumerable:!0},packetsReceived:{value:"number"==typeof n.packetsReceived?n.packetsReceived:null,enumerable:!0}}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),e}();t.exports=r},iWhl:function(t,e,n){"use strict";var i,r,o=n("BWbm").flatMap,a=n("BWbm").guessBrowser;function s(){return"string"==typeof r?r:r=function(){if("boolean"==typeof i)return i;if("undefined"==typeof RTCPeerConnection)return i=!1;try{new RTCPeerConnection({sdpSemantics:"foo"}),i=!1}catch(t){i=!0}return i}()?"planb":"undefined"!=typeof RTCPeerConnection&&"addStream"in RTCPeerConnection.prototype?"planb":"unified"}function c(t,e){return(e.match(new RegExp(t,"gm"))||[]).reduce(function(e,n){var i=n.match(new RegExp(t));return i?e.add(i[1]):e},new Set)}function u(t,e){return c(t,e)}function l(t){return u("^a=ssrc:[0-9]+ +msid:.+ +(.+) *$",t)}function h(t){return u("^a=msid:.+ +(.+) *$",t)}function d(t,e){return c("^a=ssrc:([0-9]+) +msid:[^ ]+ +"+e+" *$",t)}function p(t,e,n){return e=e||".*",n=n||".*",t.split("\r\nm=").slice(1).map(function(t){return"m="+t}).filter(function(t){var i=new RegExp("m="+e,"gm"),r=new RegExp("a="+n,"gm");return i.test(t)&&r.test(t)})}function f(t){return Array.from(c("^a=ssrc:([0-9]+) +.*$",t))}function m(t,e){var n=p(t),i=new RegExp("^a=msid:[^ ]+ +"+e+" *$","gm"),r=n.filter(function(t){return t.match(i)});return new Set(o(r,f))}function v(t,e,n){return new Map(Array.from(t(n)).map(function(t){return[t,e(n,t)]}))}function g(t){return v(l,d,t)}function _(t){return v(h,m,t)}function y(t,e,n){var i=t(n),r=new Map;i.forEach(function(t,i){if(e.has(i)){var o=Array.from(e.get(i)),a=Array.from(t);o.forEach(function(t,e){var i=a[e];r.set(i,t);var o="^a=ssrc:"+i+" (.*)$",s="a=ssrc:"+t+" $1";n=n.replace(new RegExp(o,"gm"),s)})}else e.set(i,t)});var o="^(a=ssrc-group:[^ ]+ +)(.*)$";return(n.match(new RegExp(o,"gm"))||[]).forEach(function(t){var e=t.match(new RegExp(o));if(e){var i=e[1],a=e[2].split(" ").map(function(t){var e=r.get(t);return e||t}).join(" ");n=n.replace(e[0],i+a)}}),n}e.getSdpFormat=function(){return{chrome:s(),firefox:"unified",safari:"undefined"!=typeof RTCRtpTransceiver&&"currentDirection"in RTCRtpTransceiver.prototype?"unified":"planb"}[a()]||null},e.getMediaSections=p,e.getPlanBTrackIds=l,e.getUnifiedPlanTrackIds=h,e.getPlanBSSRCs=d,e.getUnifiedPlanSSRCs=m,e.updatePlanBTrackIdsToSSRCs=function(t,e){return y(g,t,e)},e.updateUnifiedPlanTrackIdsToSSRCs=function(t,e){return y(_,t,e)}},iqXr:function(t){t.exports={name:"twilio-video",title:"Twilio Video",description:"Twilio Video JavaScript library",version:"1.19.2",homepage:"https://twilio.com",author:"Mark Andrus Roberts <mroberts@twilio.com>",contributors:["Ryan Rowland <rrowland@twilio.com>","Manjesh Malavalli <mmalavalli@twilio.com>"],keywords:["twilio","webrtc","library","javascript","video","rooms"],repository:{type:"git",url:"https://github.com/twilio/twilio-video.js.git"},devDependencies:{"@types/express":"^4.11.0","@types/node":"^8.5.1","@types/selenium-webdriver":"^3.0.8","@types/ws":"^3.2.1","babel-cli":"^6.26.0","babel-preset-es2015":"^6.24.1",browserify:"^14.3.0",cheerio:"^0.22.0",chromedriver:"2.28.0",envify:"^4.0.0",eslint:"^4.9.0",express:"^4.16.2",geckodriver:"1.4.0","ink-docstrap":"^1.3.2",istanbul:"^0.4.5",jsdoc:"^3.5.5",karma:"^1.6.0","karma-browserify":"^5.1.1","karma-chrome-launcher":"^2.0.0","karma-firefox-launcher":"^1.0.1","karma-mocha":"^1.3.0","karma-safari-launcher":"^1.0.0","karma-spec-reporter":"^0.0.31",mocha:"^3.2.0","npm-run-all":"^4.0.2",puppeteer:"^1.12.2","release-tool":"^0.2.2",requirejs:"^2.3.3",rimraf:"^2.6.1","selenium-webdriver":"3.3.0",sinon:"^4.0.1","travis-multirunner":"^4.0.0","ts-node":"4.0.1",tslint:"5.8.0",twilio:"^2.11.1",typescript:"2.6.2","uglify-js":"^2.8.22","vinyl-fs":"^2.4.4","vinyl-source-stream":"^1.1.0","webrtc-adapter":"^4.1.1"},engines:{node:">=0.12"},license:"BSD-3-Clause",main:"./es5/index.js",scripts:{lint:"eslint ./lib ./test/*.js ./test/framework/*.js ./test/lib/*.js ./test/integration/** ./test/unit/**","test:unit":"mocha ./test/unit/index.js","test:integration:adapter":"node ./scripts/karma.js karma/integration.adapter.conf.js","test:integration:travis":"node ./scripts/integration.js","test:integration":"node ./scripts/karma.js karma/integration.conf.js","test:umd":"mocha ./test/umd/index.js","test:crossbrowser:build:clean":"rimraf ./test/crossbrowser/lib ./test/crossbrowser/src/browser/index.js","test:crossbrowser:build:lint":"cd ./test/crossbrowser && tslint --project tsconfig.json","test:crossbrowser:build:tsc":"cd ./test/crossbrowser && tsc","test:crossbrowser:build:browser":"cd ./test/crossbrowser && browserify lib/crossbrowser/src/browser/index.js > src/browser/index.js","test:crossbrowser:build":"npm-run-all test:crossbrowser:build:*","test:crossbrowser:test":"cd ./test/crossbrowser && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:crossbrowser":"npm-run-all test:crossbrowser:*","test:sdkdriver:build:clean":"rimraf ./test/lib/sdkdriver/lib ./test/lib/sdkdriver/test/integration/browser/index.js","test:sdkdriver:build:lint":"cd ./test/lib/sdkdriver && tslint --project tsconfig.json","test:sdkdriver:build:tsc":"cd ./test/lib/sdkdriver && tsc --rootDir src","test:sdkdriver:build":"npm-run-all test:sdkdriver:build:*","test:sdkdriver:test:unit":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/unit/spec/**/*.ts","test:sdkdriver:test:integration:browser":"cd ./test/lib/sdkdriver/test/integration && browserify browser/browser.js > browser/index.js","test:sdkdriver:test:integration:run":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:sdkdriver:test:integration":"npm-run-all test:sdkdriver:test:integration:*","test:sdkdriver:test":"npm-run-all test:sdkdriver:test:*","test:sdkdriver":"npm-run-all test:sdkdriver:*","test:framework:angular:install":"cd ./test/framework/twilio-video-angular && rimraf ./node_modules && npm install","test:framework:angular:run":"mocha ./test/framework/twilio-video-angular.js","test:framework:angular":"npm-run-all test:framework:angular:*","test:framework:no-framework:run":"mocha ./test/framework/twilio-video-no-framework.js","test:framework:no-framework":"npm-run-all test:framework:no-framework:*","test:framework:react:install":"cd ./test/framework/twilio-video-react && rimraf ./node_modules && npm install","test:framework:react:test":"node ./scripts/framework.js twilio-video-react","test:framework:react:build":"cd ./test/framework/twilio-video-react && npm run build","test:framework:react:run":"mocha ./test/framework/twilio-video-react.js","test:framework:react":"npm-run-all test:framework:react:*","test:framework":"npm-run-all test:framework:angular test:framework:no-framework test:framework:react",test:"npm-run-all test:unit test:integration","build:es5":"rimraf ./es5 && babel lib -d es5","build:js":"node ./scripts/build.js ./src/twilio-video.js ./LICENSE.md ./dist/twilio-video.js","build:min.js":'uglifyjs ./dist/twilio-video.js -o ./dist/twilio-video.min.js --comments "/^! twilio-video.js/" -b beautify=false,ascii_only=true',build:"npm-run-all clean lint docs cover test:integration build:es5 build:js build:min.js test:umd","build:travis":"npm-run-all clean lint docs cover test:integration:travis build:es5 build:js build:min.js test:umd test:framework","build:quick":"npm-run-all clean lint docs build:es5 build:js build:min.js",docs:"node ./scripts/docs.js ./dist/docs",clean:"rimraf ./coverage ./es5 ./dist",cover:"istanbul cover node_modules/mocha/bin/_mocha -- ./test/unit/index.js"},dependencies:{"@twilio/sip.js":"^0.7.7","@twilio/webrtc":"2.3.0",ws:"^3.3.1",xmlhttprequest:"^1.8.0"},browser:{ws:"./src/ws.js",xmlhttprequest:"./src/xmlhttprequest.js"},_resolved:"https://registry.npmjs.org/twilio-video/-/twilio-video-1.19.2.tgz",_integrity:"sha512-OfuFXxjVDH4DpXs0xz6ZfDILTndC2rBeVvXZuUwV/zwyVJGIlFdIRbyY8zfikDBlF173NBIarq5F8p27wJlcQA==",_from:"twilio-video@1.19.2"}},"j/1Z":function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},j0s1:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=function(){function t(t){var e=this;this.$form=o(t),this.$checkbox=this.$form.find("input[type=checkbox]"),this.$confirm=this.$form.find("button[type=submit]"),this._stripe=Stripe(o(t).attr("stripe-connect-form")),this._stripe.elements({locale:o("html").attr("lang")}),this.$checkbox.on("change",function(){e.$checkbox.prop("checked")?e.$confirm.attr("disabled",!1):e.$confirm.attr("disabled",!0)}),this.$form.on("submit",function(t){t.preventDefault(),e.$confirm.attr("disabled",!0),e._generateElements().then(function(){e._stripe.createToken("account",e._elements).then(function(t){t.error?(e.$confirm.attr("disabled",!1),void 0!==e.$form.data("error-log-url")&&o.ajax({url:e.$form.data("error-log-url"),method:"post",data:t.error})):o('input[name="stripe_condition_validation[stripeToken]"]').val(t.token.id).closest("form").trigger("submit")})})})}return t.prototype._generateElements=function(){return i(this,void 0,void 0,function(){var t,e,n,i,o;return r(this,function(r){switch(r.label){case 0:return t=this.$form.find("#identity_card_front_file").val(),[4,this._decode(t,"identity-card-front-file")];case 1:return e=r.sent(),n=this,[4,this._fetch(e)];case 2:return n._fileDataFront=r.sent(),t=this.$form.find("#identity_card_back_file").val(),[4,this._decode(t,"identity-card-back-file")];case 3:return i=r.sent(),o=this,[4,this._fetch(i)];case 4:return o._fileDataBack=r.sent(),this._elements={business_type:"individual",individual:{first_name:this.$form.find("#firstname").val(),last_name:this.$form.find("#lastname").val(),email:this.$form.find("#email").val(),address:{line1:this.$form.find("#street").val(),city:this.$form.find("#city").val(),state:"FR",postal_code:this.$form.find("#zipcode").val()},dob:{day:this.$form.find("#birthday_day").val(),month:this.$form.find("#birthday_month").val(),year:this.$form.find("#birthday_year").val()},verification:{document:{front:this._fileDataFront.id,back:this._fileDataBack.id}}},tos_shown_and_accepted:!0},[2,Promise.resolve()]}})})},t.prototype._decode=function(t,e){for(var n=new FormData,i=atob(t),r=new ArrayBuffer(i.length),o=new Uint8Array(r),a=0;a<i.length;a++)o[a]=i.charCodeAt(a);var s=new Blob([o]);return n.append("file",new File([s],e)),n.append("purpose","identity_document"),n},t.prototype._fetch=function(t){return fetch("https://uploads.stripe.com/v1/files",{method:"POST",headers:{Authorization:"Bearer "+this.$form.attr("stripe-connect-form")},body:t}).then(function(t){return t.json()})},t}();o(document).on("hc:ready",function(t,e){t.preventDefault(),o(e||document).find("form[stripe-connect-form]").each(function(t,e){return new a(e)})})},j4sL:function(t,e,n){"use strict";var i=n("hkYD"),r=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),e}();t.exports=r},jOJy:function(t,e){var n=90;t.exports=function(t){return{localMinSE:n,hasSmallMinSE:function(t){var e=t.parseHeader("Supported")||[],i=t.parseHeader("Session-Expires")||{};return e.indexOf("timer")>=0&&i.deltaSeconds<n},updateState:function(e,n,i,r){e.sessionTimerState=e.sessionTimerState||{},t.clearTimeout(e.sessionTimerState.timeout);var o="string"==typeof n;o&&(n=i(n,r));var a=n.parseHeader("Session-Expires");if(a){var s=a.deltaSeconds,c=o===("uas"===a.refresher);e.sessionTimerState={interval:s,isRefresher:c};var u=1e3*s,l=this;if(c)e.sessionTimerState.timeout=t.setInterval(function(){e.owner.ua.dialogs[e.id.toString()]?e.sendRequest(l,"UPDATE",{extraHeaders:["Session-Expires: "+s]}):t.clearInterval(e.sessionTimerState.timeout)},u/2);else{var h=Math.min(32e3,u/3);e.sessionTimerState.timeout=t.setTimeout(function(){},u-h)}}else e.sessionTimerState=null},receiveResponse:function(t){},onDialogError:function(t){},onRequestTimeout:function(){},onTransportError:function(){}}}},jU82:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var o=n("wxsB"),a=n("aQcx")(o),s=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a),i(e,[{key:"toString",value:function(){return"[LocalAudioTrack #"+this._instanceId+": "+this.id+"]"}},{key:"attach",value:function(t){return(t=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this,t)).muted=!0,t}},{key:"_end",value:function(){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_end",this).apply(this,arguments)}},{key:"disable",value:function(){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disable",this).apply(this,arguments)}},{key:"enable",value:function(){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enable",this).apply(this,arguments)}},{key:"stop",value:function(){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).apply(this,arguments)}}]),e}();t.exports=s},"jsp/":function(t,e,n){"use strict";var i={error:0,warn:1,log:2,debug:3};t.exports=function(t){var e=function(){var t,e=2,n=!0,r=null;this.loggers={},t=this.getLogger("sip.loggerfactory"),Object.defineProperties(this,{builtinEnabled:{get:function(){return n},set:function(e){"boolean"==typeof e?n=e:t.error('invalid "builtinEnabled" parameter value: '+JSON.stringify(e))}},level:{get:function(){return e},set:function(n){n>=0&&n<=3?e=n:n>3?e=3:i.hasOwnProperty(n)?e=i[n]:t.error('invalid "level" parameter value: '+JSON.stringify(n))}},connector:{get:function(){return r},set:function(e){null===e||""===e||void 0===e?r=null:"function"==typeof e?r=e:t.error('invalid "connector" parameter value: '+JSON.stringify(e))}}})};function n(t,e,n){this.logger=t,this.category=e,this.label=n}return e.prototype.print=function(e,n,i,r){if("string"==typeof r){var o=[new Date,n];i&&o.push(i),r=o.concat(r).join(" | ")}e.call(t,r)},Object.keys(i).forEach(function(r){n.prototype[r]=function(t){this.logger[r](this.category,this.label,t)},e.prototype[r]=function(e,n,o){this.level>=i[r]&&(this.builtinEnabled&&this.print(t[r],e,n,o),this.connector&&this.connector(r,e,n,o))}}),e.prototype.getLogger=function(t,e){var i;return e&&3===this.level?new n(this,t,e):this.loggers[t]?this.loggers[t]:(i=new n(this,t),this.loggers[t]=i,i)},e}},jyib:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=n("AYob"),o=n("Y2K2"),a=n("9q3I"),s=n("oYJs"),c=i,u=function(){function t(t){var e=this;this._prerequisites=[],this.$wrapper=c(t),c(t).find("[prerequisite]").each(function(t,n){switch(c(n).attr("prerequisite")){case"camera":e._prerequisites.push(new a.CameraChecker(n));break;case"micro":e._prerequisites.push(new o.MicroChecker(n));break;case"signal":e._prerequisites.push(new s.WebsocketChecker(n)),e._prerequisites.push(new s.SignalChecker(n));break;default:e._prerequisites.push(new r.UnknownChecker(n))}}),this.$wrapper.on("click change",".prerequisite-relauncher",function(t){t.stopPropagation(),e._checkAll()}),this._checkAll()}return t.prototype._checkAll=function(){var t=this;this.$wrapper.find('button[type="submit"]').prop("disabled",!0),this.$wrapper.removeClass("failed"),this.$wrapper.addClass("in-progress"),this.$wrapper.find(".prerequisite-failed span").removeClass("active"),this.$wrapper.find(".prerequisite-progress").addClass("active"),this._prerequisites.map(function(t){return t.init()});var e=0,n=[];this._prerequisites.map(function(i){i.check().catch(function(){return n.push(i)}).then(function(){++e===t._prerequisites.length&&(t.$wrapper.find(".prerequisite-progress").removeClass("active"),t.$wrapper.removeClass("in-progress"),n.length>0?t._fail(n):t._adaptNextStep())})})},t.prototype._fail=function(t){var e=this;this.$wrapper.addClass("failed"),t.filter(function(t){return t.hasCustomMessage}).map(function(t){e.$wrapper.closest("form").find(".prerequisite-failed ."+t.customMessageClass).addClass("active")}),t.reduce(function(t,e){return t&&e.hasCustomMessage},!0)?this.$wrapper.find('button[type="submit"]').prop("disabled",!0):!1===t.reduce(function(t,e){return t||e.critical},!1)?(this.$wrapper.find(".prerequisite-failed .warning").addClass("active"),this._adaptNextStep()):(this.$wrapper.find('button[type="submit"]').prop("disabled",!0),this.$wrapper.find(".prerequisite-failed .failure").addClass("active"))},t.prototype._adaptNextStep=function(){this.$wrapper.find('button[type="submit"]').prop("disabled",!1)},t}();c(document).on("hc:ready",function(t,e){t.preventDefault(),c(e||document).find("[prerequisite-checker]").each(function(t,e){return new u(e)})})},"k/FX":function(t){t.exports={name:"@twilio/webrtc",version:"2.3.0",description:"WebRTC-related APIs and shims used by twilio-video.js",scripts:{build:"npm-run-all clean lint test",clean:"rimraf coverage",lint:"eslint ./lib","test:unit":"istanbul cover node_modules/mocha/bin/_mocha -- ./test/unit/index.js","test:integration:native":"karma start karma/integration.conf.js","test:integration:adapter":"karma start karma/integration.adapter.conf.js","test:integration":"npm-run-all test:integration:*",test:"npm-run-all test:*"},repository:{type:"git",url:"git+https://github.com/twilio/twilio-webrtc.js.git"},keywords:["shim","twilio","video","webrtc"],author:"Manjesh Malavalli <mmalavalli@twilio.com>",contributors:["Mark Roberts <mroberts@twilio.com>","Ryan Rowland <rrowland@twilio.com>"],license:"BSD-3-Clause",main:"./lib/index.js",bugs:{url:"https://github.com/twilio/twilio-webrtc.js/issues"},homepage:"https://github.com/twilio/twilio-webrtc.js#readme",devDependencies:{browserify:"^14.4.0",envify:"^4.1.0",eslint:"^4.4.1",istanbul:"^0.4.5",karma:"^1.7.0","karma-browserify":"^5.1.1","karma-chrome-launcher":"^2.2.0","karma-firefox-launcher":"^1.0.1","karma-mocha":"^1.3.0","karma-safari-launcher":"^1.0.0","karma-spec-reporter":"0.0.31",mocha:"^3.5.0","npm-run-all":"^4.0.2","release-tool":"^0.2.2",rimraf:"^2.6.1","travis-multirunner":"^4.2.3",watchify:"^3.9.0","webrtc-adapter":"^6.4.8"},_resolved:"https://registry.npmjs.org/@twilio/webrtc/-/webrtc-2.3.0.tgz",_integrity:"sha512-K6hVtd7gqPLn07EpL72w8ULQIJt0STAP0eQ99rNXJrR9RGrAQiMKhIZsORYPqfhrOwzDW0et8Y8alTlXmfjgeA==",_from:"@twilio/webrtc@2.3.0"}},"k/VS":function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a,s,c,u=n("EVdn");o=u,a=function(){function t(t){var e=this;this._name=t,o(document).on("hc:cookie:updated",function(t,n){n.name===e._name&&e._updateElement()})}return t.prototype._getCookie=function(){var t=document.cookie.match("(^|;) ?settings=([^;]*)(;|$)");return t?JSON.parse(t[2]):{}},t.prototype._getValue=function(){return this._getCookie()[this._name]},t.prototype._setValue=function(t){var e=this._getCookie(),n=new Date;e[this._name]="accept"===t?1:0,n.setTime(n.getTime()+34128e6),document.cookie="settings="+JSON.stringify(e)+";expires="+n.toUTCString()+";path=/",o(document).trigger("hc:cookie:updated",{name:this._name,choice:t})},t}(),s=function(t){function e(e){var n=t.call(this,o(e).data("name"))||this;return n.$wrapper=o(e),n._getValue()&&n.$wrapper.parent().hasClass("cookie-bar")?(n.$wrapper.remove(),n):(n.$wrapper.addClass("visible"),n.$wrapper.on("click","a[data-choice]",function(t){t.preventDefault(),t.stopPropagation(),n._setValue(o(t.target).data("choice"))}),n)}return r(e,t),e.prototype._updateElement=function(){this.$wrapper.removeClass("visible")},e}(a),c=function(t){function e(e){var n=t.call(this,o(e).data("name"))||this;return n.$input=o(e),void 0!==n._getValue()&&n._updateElement(),n.$input.on("change",function(t){n.$input.data("href")&&!n.$input.prop("checked")||n._setValue(n.$input.prop("checked")?"accept":"refuse")}),n}return r(e,t),e.prototype._updateElement=function(){this.$input.prop("checked",1===this._getValue()),this.$input.trigger("hc:change")},e}(a),o(document).on("hc:ready",function(t,e){t.preventDefault();var n=o(e||document);n.find(".cookie-item").each(function(t,e){return new s(e)}),n.find(".form-field-cookie input").each(function(t,e){return new c(e)})})},kSER:function(t,e){t.exports=function(t,e){for(var n=[],i=(e=e||0)||0;i<t.length;i++)n[i-e]=t[i];return n}},"kVK+":function(t,e){e.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,c=(1<<s)-1,u=c>>1,l=-7,h=n?r-1:0,d=n?-1:1,p=t[e+h];for(h+=d,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+h],h+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=i;l>0;a=256*a+t[e+h],h+=d,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=u}return(p?-1:1)*a*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var a,s,c,u=8*o-r-1,l=(1<<u)-1,h=l>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,f=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(a++,c/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(e*c-1)*Math.pow(2,r),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;t[n+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;t[n+p]=255&a,p+=f,a/=256,u-=8);t[n+p-f]|=128*m}},kVa6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("LtqK"),r=n("EVdn"),o=n("71c6"),a=r,s=function(){function t(t){var e=this;this._generateConfig(a(t).data("url")),this._nextAvailability=a(t).attr("agenda-next-availability")||"%date%",this._unavailability=a(t).attr("agenda-unavailability"),this._nextSlots=a(t).attr("agenda-next-slots"),this._previousSlots=a(t).attr("agenda-previous-slots"),this._dateSelector=a(t).data("date-selector"),a(document).on("hc:date:change",function(t,n){n.source===e._dateSelector&&e._update(n)});var n=a(t).find("[teleconsult]");i.isWebRTCSupported||n.attr("href",a("body").data("incompatible-webrtc"))}return t.prototype._generateConfig=function(t){var e=this;this._config={url:t,professionals:[]},a(".agenda[professional]").each(function(t,n){return e._config.professionals.push(a(n).attr("professional"))})},t.prototype._constructSlot=function(t,e,n){var r=a('<div class="slot">');return!0===e.taken||""===e.locationClass?r.addClass("unavailable"):"office"===e.locationClass?(r.addClass("physical"),r.append(a('<a href="'+e.createPath+'">').attr("modal-request",!0).attr("data-analytics",JSON.stringify(t.data("analytics-replace"))).text(e.label))):i.isWebRTCSupported?r.append(a('<a href="'+e.createPath+'">').attr("modal-request",!0).attr("data-analytics",JSON.stringify(t.data("analytics-replace"))).text(e.label)):r.append(a('<a href="'+a("body").data("incompatible-webrtc")+'">').attr("modal-request",!0).text(e.label)),r},t.prototype._constructDay=function(t,e){var n=this,i=a('<div class="day">'),r=a('<div class="slot-wrapper">');return e.slots.map(function(i){r.append(n._constructSlot(t,i,e))}),a(document).trigger("hc:ready",r),i.append(a('<a href="#" class="nav icon-chevron-top" data-direction="prev" title="'+this._previousSlots+'"></a>')).append(r).append(a('<a href="#" class="nav icon-chevron-down" data-direction="next" title="'+this._nextSlots+'"></a>')).appendTo(t)},t.prototype._contructAvailableNextWeek=function(t,e,n){for(var i="<strong>"+o.dateFormatter(new Date(e))+"</strong>",r=a('<a href="#">').html(this._nextAvailability.replace("%date%",i)).append('<i class="icon-chevron-right">').on("click",function(t){t.stopPropagation(),t.preventDefault(),a(t.target).trigger("hc:agenda:click"),a(document).trigger("hc:agenda:change",e)}),s=a('<div class="next-wrapper">').append(r),c=a('<div class="fake-nav">'),u=a('<div class="fake-nav">'),l=0;l<n;l++)c.append(a('<a href="#" class="nav icon-chevron-top unavailable"></a>')),u.append(a('<a href="#" class="nav icon-chevron-down unavailable"></a>'));t.addClass("unavailable").append(c,s,u).on("click","a.unavailable",function(t){t.stopPropagation(),t.preventDefault(),a(t.target).trigger("hc:agenda:click")})},t.prototype._contructUnavailable=function(t,e){for(var n=a('<span class="unavailable">').html(this._unavailability),i=a('<div class="next-wrapper">').append(n),r=a('<div class="fake-nav">'),o=a('<div class="fake-nav">'),s=0;s<e;s++)r.append(a('<a href="#" class="nav icon-chevron-top unavailable"></a>')),o.append(a('<a href="#" class="nav icon-chevron-down unavailable"></a>'));t.addClass("unavailable").append(r,i,o).on("click","a.unavailable",function(t){t.stopPropagation(),t.preventDefault(),a(t.target).trigger("hc:agenda:click")})},t.prototype._manageAgendaResponse=function(t,e){var n=this;a('.agenda[professional="'+t.professional+'"]').each(function(i,r){a(r).removeClass("unavailable").html(""),!0===t.freeSlots?t.days.map(function(t){var e=n._constructDay(a(r),t);new u(e),new c(e)}):t.nextAvailability?n._contructAvailableNextWeek(a(r),t.nextAvailability.date,e):n._contructUnavailable(a(r),e),a(document).trigger("hc:ready",a(r))})},t.prototype._update=function(t){var e=this;a.ajax({url:this._config.url,data:a.extend({},t,{professionals:this._config.professionals})}).done(function(n){n.map(function(n){return e._manageAgendaResponse(n,t.nbDay)})})},t}();e.AgendaManager=s;var c=function(){function t(t){var e=this;this.$dayWrapper=a(t),this.$firstSlot=a(t).find(".slot").first(),this._registerEvents(),a(window).on("resize",function(){return e._registerEvents()})}return t.prototype._initConfig=function(){var t=this.$dayWrapper.height()/this.$firstSlot.outerHeight()-2;this._config={nbPage:Math.ceil(this.$dayWrapper.find(".slot").length/t),pageHeight:this.$firstSlot.outerHeight()*t,currentPage:1}},t.prototype._changePage=function(t){this._config.currentPage="prev"===t?Math.max(1,this._config.currentPage-1):Math.min(this._config.nbPage,this._config.currentPage+1);var e=(this._config.currentPage-1)*this._config.pageHeight*-1;this.$firstSlot.css("margin-top",e+"px"),this._checkNav()},t.prototype._checkNav=function(){var t=this;this.$dayWrapper.find("a.nav").each(function(e,n){"prev"===a(n).data("direction")?t._config.currentPage>1?a(n).removeClass("unavailable"):a(n).addClass("unavailable"):t._config.currentPage<t._config.nbPage?a(n).removeClass("unavailable"):a(n).addClass("unavailable")})},t.prototype._registerEvents=function(){var t=this;this.$dayWrapper.off("click"),this.$firstSlot.css("margin-top",0),this._config=null,a(document).width()>=900&&this._initConfig(),this._config&&(this.$dayWrapper.on("click",".nav",function(e){e.preventDefault(),e.stopPropagation(),a(e.target).trigger("hc:agenda:click"),!1===a(e.target).hasClass(".unavailable")&&t._changePage(a(e.target).data("direction"))}),this._checkNav())},t}(),u=function(){function t(t){var e=this;this._startMargin=0,this.$dayWrapper=a(t).find(".slot-wrapper"),this.$firstSlot=a(t).find(".slot").first(),this._registerEvents(),a(window).on("resize",function(){return e._registerEvents()})}return t.prototype._initConfig=function(t){var e=this;this._moveConfig={direction:t,styleRule:"row"===t?"margin-left":"margin-top",max:0},"row"===t?(this._moveConfig.max=this.$dayWrapper.width(),this.$dayWrapper.find(".slot").each(function(t,n){return e._moveConfig.max-=a(n).outerWidth()})):(this._moveConfig.max=this.$dayWrapper.height(),this.$dayWrapper.find(".slot").each(function(t,n){return e._moveConfig.max-=a(n).outerHeight()}))},t.prototype._start=function(t,e){t.stopPropagation(),a(t.target).trigger("hc:agenda:click"),this._startPos="row"===this._moveConfig.direction?e.pageX:e.pageY,this._startMargin=(this.$firstSlot.css(this._moveConfig.styleRule)||"0px").replace("px","")},t.prototype._move=function(t,e){t.preventDefault(),t.stopPropagation(),a(t.target).trigger("hc:agenda:click");var n="row"===this._moveConfig.direction?e.pageX:e.pageY,i=this._startMargin-(this._startPos-n);i=Math.max(this._moveConfig.max,i),i=Math.min(0,i),this.$firstSlot.css(this._moveConfig.styleRule,i+"px")},t.prototype._registerEvents=function(){var t=this;this.$dayWrapper.off("touchstart touchmove"),this.$firstSlot.css({"margin-left":0,"margin-top":0}),this._startMargin=0,this._moveConfig=null,a(document).width()<600?this._initConfig("row"):a(document).width()<1100&&this._initConfig("column"),this._moveConfig&&this.$dayWrapper.on("touchstart",function(e){return t._start(e,e.originalEvent.changedTouches[0])}).on("touchmove",function(e){return t._move(e,e.originalEvent.changedTouches[0])})},t}();a(document).on("hc:ready",function(t,e){t.preventDefault(),a(e||document).find("[agenda-root]").each(function(t,e){return new s(e)})})},kltW:function(t,e,n){"use strict";var i=n("5UJR"),r=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),e}();t.exports=r},kmIY:function(t,e,n){"use strict";t.exports=function(t){var e;(e=function(e,n,i){var r;if(!(e&&e instanceof t.URI))throw new TypeError('missing or invalid "uri" parameter');for(r in this.uri=e,this.parameters={},i)this.setParam(r,i[r]);Object.defineProperties(this,{friendlyName:{get:function(){return this.displayName||e.aor}},displayName:{get:function(){return n},set:function(t){n=0===t?"0":t}}})}).prototype={setParam:function(t,e){t&&(this.parameters[t.toLowerCase()]=null==e?null:e.toString())},getParam:t.URI.prototype.getParam,hasParam:t.URI.prototype.hasParam,deleteParam:t.URI.prototype.deleteParam,clearParams:t.URI.prototype.clearParams,clone:function(){return new e(this.uri.clone(),this.displayName,JSON.parse(JSON.stringify(this.parameters)))},toString:function(){var t,e;for(e in t=this.displayName||0===this.displayName?'"'+this.displayName+'" ':"",t+="<"+this.uri.toString()+">",this.parameters)t+=";"+e,null!==this.parameters[e]&&(t+="="+this.parameters[e]);return t}},e.parse=function(e){return-1!==(e=t.Grammar.parse(e,"Name_Addr_Header"))?e:void 0},t.NameAddrHeader=e}},lBno:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("UpXp"),o=n("VUT2"),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.label,t.maxPacketLifeTime,t.maxRetransmits,t.ordered));return Object.defineProperties(n,{_dataChannel:{value:t}}),t.binaryType="arraybuffer",t.addEventListener("message",function(t){n.emit("message",t.data)}),t.addEventListener("close",function(){n.emit("close")}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"toDataTransport",value:function(){return new o(this._dataChannel)}}]),e}();t.exports=a},lC1u:function(t,e,n){"use strict";t.exports=function(t){var e;return(e=function(t){this.logger=t.getLogger("sipjs.digestauthentication"),this.username=t.configuration.authorizationUser,this.password=t.configuration.password,this.cnonce=null,this.nc=0,this.ncHex="00000000",this.response=null}).prototype.authenticate=function(e,n){if(this.algorithm=n.algorithm,this.realm=n.realm,this.nonce=n.nonce,this.opaque=n.opaque,this.stale=n.stale,this.algorithm){if("MD5"!==this.algorithm)return this.logger.warn('challenge with Digest algorithm different than "MD5", authentication aborted'),!1}else this.algorithm="MD5";if(!this.realm)return this.logger.warn("challenge without Digest realm, authentication aborted"),!1;if(!this.nonce)return this.logger.warn("challenge without Digest nonce, authentication aborted"),!1;if(n.qop)if(n.qop.indexOf("auth")>-1)this.qop="auth";else{if(!(n.qop.indexOf("auth-int")>-1))return this.logger.warn('challenge without Digest qop different than "auth" or "auth-int", authentication aborted'),!1;this.qop="auth-int"}else this.qop=null;return this.method=e.method,this.uri=e.ruri,this.cnonce=t.createRandomToken(12),this.nc+=1,this.updateNcHex(),4294967296===this.nc&&(this.nc=1,this.ncHex="00000001"),this.calculateResponse(),!0},e.prototype.calculateResponse=function(){var e,n;e=t.calculateMD5(this.username+":"+this.realm+":"+this.password),"auth"===this.qop?(n=t.calculateMD5(this.method+":"+this.uri),this.response=t.calculateMD5(e+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth:"+n)):"auth-int"===this.qop?(n=t.calculateMD5(this.method+":"+this.uri+":"+t.calculateMD5(this.body?this.body:"")),this.response=t.calculateMD5(e+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth-int:"+n)):null===this.qop&&(n=t.calculateMD5(this.method+":"+this.uri),this.response=t.calculateMD5(e+":"+this.nonce+":"+n))},e.prototype.toString=function(){var t=[];if(!this.response)throw new Error("response field does not exist, cannot generate Authorization header");return t.push("algorithm="+this.algorithm),t.push('username="'+this.username+'"'),t.push('realm="'+this.realm+'"'),t.push('nonce="'+this.nonce+'"'),t.push('uri="'+this.uri+'"'),t.push('response="'+this.response+'"'),this.opaque&&t.push('opaque="'+this.opaque+'"'),this.qop&&(t.push("qop="+this.qop),t.push('cnonce="'+this.cnonce+'"'),t.push("nc="+this.ncHex)),"Digest "+t.join(", ")},e.prototype.updateNcHex=function(){var t=Number(this.nc).toString(16);this.ncHex="00000000".substr(0,8-t.length)+t},e}},lKxJ:function(t,e,n){t.exports=n("2pII"),t.exports.parser=n("Wm4p")},lrhj:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("+qE3").EventEmitter,o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Object.defineProperties(n,{_loudestParticipantSid:{value:null,writable:!0}}),t.on("message",function(t){switch(t.type){case"active_speaker":n._setLoudestParticipantSid(t.participant)}}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"_setLoudestParticipantSid",value:function(t){this.loudestParticipantSid!==t&&(this._loudestParticipantSid=t,this.emit("updated"))}},{key:"loudestParticipantSid",get:function(){return this._loudestParticipantSid}}]),e}();t.exports=o},ls7c:function(t,e,n){"use strict";var i=n("8yKx"),r=n("mtX7"),o=n("UQcK"),a=n("7tlc").inherits,s=n("iWhl").updateUnifiedPlanTrackIdsToSSRCs,c=n("BWbm"),u="object"==typeof navigator&&navigator.userAgent&&(navigator.userAgent.match(/Firefox\/61/)||navigator.userAgent.match(/Firefox\/62/));function l(t){if(!(this instanceof l))return new l(t);i.call(this),c.interceptEvent(this,"signalingstatechange");var e=new RTCPeerConnection(t);Object.defineProperties(this,{_initiallyNegotiatedDtlsRole:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:e},_rollingBack:{value:!1,writable:!0},_senders:{value:new Map},_tracksToSSRCs:{value:new Map},iceGatheringState:{enumerable:!0,get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState}},localDescription:{enumerable:!0,get:function(){return p(this._peerConnection.localDescription,this._initiallyNegotiatedDtlsRole)}},signalingState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._peerConnection.signalingState}}});var n,r=this;e.addEventListener("signalingstatechange",function(){if(!r._rollingBack&&r.signalingState!==n){n=r.signalingState;var t=r.dispatchEvent.apply.bind(r.dispatchEvent,r,arguments);r._isClosed?setTimeout(t):t()}}),c.proxyProperties(RTCPeerConnection.prototype,this,e)}function h(t,e,n){var i=e?"setLocalDescription":"setRemoteDescription";return t._rollingBack=!0,t._peerConnection[i](new r({type:"rollback"})).then(n).then(function(e){return t._rollingBack=!1,e},function(e){throw t._rollingBack=!1,e})}function d(t,e,n){if(!t._initiallyNegotiatedDtlsRole&&"offer"!==e.type){var i=e.sdp.match(/a=setup:([a-z]+)/);if(i){var r=i[1];t._initiallyNegotiatedDtlsRole=n?{active:"passive",passive:"active"}[r]:r}}}function p(t,e){return t&&"answer"===t.type&&e?new r({type:t.type,sdp:t.sdp.replace(/a=setup:[a-z]+/g,"a=setup:"+e)}):t}a(l,i),Object.defineProperty(l.prototype,"peerIdentity",{enumerable:!0,value:Promise.resolve({idp:"",name:""})}),l.prototype.addTrack=function(){var t,e=[].slice.call(arguments),n=e[0],i=this._senders.get(n);if(i&&i.track)throw new Error("Cannot add MediaStreamTrack ["+n.id+", "+n.kind+"]: RTCPeerConnection already has it");return i=(t=this._peerConnection,new Map(t.getSenders().filter(function(t){return t.track}).map(function(t){return[t.track,t]}))).get(n)||this._peerConnection.addTrack.apply(this._peerConnection,e),u&&i.replaceTrack(n),this._senders.set(n,i),i},RTCPeerConnection.prototype.addTransceiver&&(l.prototype.addTransceiver=function(){var t=this._peerConnection.addTransceiver.apply(this._peerConnection,arguments),e=t.sender,n=e.track;return n&&u&&e.replaceTrack(n),this._senders.set(n,e),t}),l.prototype.removeTrack=function(t){if(this._isClosed)throw new Error("Cannot remove MediaStreamTrack: RTCPeerConnection is closed");var e=t.track;e&&(t=this._senders.get(e))&&t.track&&this._senders.set(e,new o(null))},l.prototype.getSenders=function(){return Array.from(this._senders.values())},l.prototype.createAnswer=function(){var t,e=[].slice.call(arguments),n=this;return t=this._peerConnection.createAnswer().then(function(t){return d(n,t),p(t,n._initiallyNegotiatedDtlsRole)}),"function"==typeof e[0]?c.legacyPromise(t,e[0],e[1]):t},l.prototype.createOffer=function(){var t,e=[].slice.call(arguments),n=(e.length>1?e[2]:e[0])||{},i=this;"have-local-offer"===this.signalingState||"have-remote-offer"===this.signalingState?t=h(this,"have-local-offer"===this.signalingState,function(){return i.createOffer(n)}):t=i._peerConnection.createOffer(n);return t=t.then(function(t){return new r({type:t.type,sdp:s(i._tracksToSSRCs,t.sdp)})}),e.length>1?c.legacyPromise(t,e[0],e[1]):t},l.prototype.setLocalDescription=function(){var t,e=[].slice.call(arguments),n=e[0];return n&&"answer"===n.type&&"have-local-offer"===this.signalingState&&(t=Promise.reject(new Error("Cannot set local answer in state have-local-offer"))),t?e.length>1?c.legacyPromise(t,e[1],e[2]):t:this._peerConnection.setLocalDescription.apply(this._peerConnection,e)},l.prototype.setRemoteDescription=function(){var t,e=[].slice.call(arguments),n=e[0],i=this;return n&&"have-remote-offer"===this.signalingState&&("answer"===n.type?t=Promise.reject(new Error("Cannot set remote answer in state have-remote-offer")):"offer"===n.type&&(t=h(this,!1,function(){return i._peerConnection.setRemoteDescription(n)}))),t||(t=this._peerConnection.setRemoteDescription(n)),t=t.then(function(){d(i,n,!0)}),e.length>1?c.legacyPromise(t,e[1],e[2]):t},l.prototype.close=function(){"closed"!==this.signalingState&&(this._isClosed=!0,this._peerConnection.close())},c.delegateMethods(RTCPeerConnection.prototype,l.prototype,"_peerConnection"),t.exports=l},lv48:function(t,e,n){function i(t){var n;function i(){if(i.enabled){var t=i,r=+new Date,o=r-(n||r);t.diff=o,t.prev=n,t.curr=r,n=r;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;c++;var r=e.formatters[i];if("function"==typeof r){var o=a[c];n=r.call(t,o),a.splice(c,1),c--}return n}),e.formatArgs.call(t,a),(i.log||e.log||console.log.bind(console)).apply(t,a)}}return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=function(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}(t),i.destroy=r,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function r(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var i=("string"==typeof t?t:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(t=i[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n("FGiv"),e.instances=[],e.names=[],e.skips=[],e.formatters={}},"m8+h":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("+EQa"),o=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"toString",value:function(){return"[RemoteDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),e}();t.exports=o},mb7l:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("tjbx"),o=function(t){function e(t,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.name,t,r));return Object.defineProperties(o,{_reemitTrackEvent:{value:function(){return o.emit(o.isTrackEnabled?"trackEnabled":"trackDisabled")}},_unpublish:{value:i},kind:{enumerable:!0,value:n.kind},track:{enumerable:!0,value:n}}),n.on("disabled",o._reemitTrackEvent),n.on("enabled",o._reemitTrackEvent),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"toString",value:function(){return"[LocalTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}},{key:"unpublish",value:function(){return this.track.removeListener("disabled",this._reemitTrackEvent),this.track.removeListener("enabled",this._reemitTrackEvent),this._unpublish(this),this}},{key:"isTrackEnabled",get:function(){return"data"===this.track.kind||this.track.isEnabled}}]),e}();t.exports=o},mkGC:function(t,e,n){"use strict";t.exports=function t(e){if(!(this instanceof t))return new t(e);var n=e&&"rollback"===e.type?null:new RTCSessionDescription(e);Object.defineProperties(this,{_description:{get:function(){return n}},sdp:{enumerable:!0,value:n?n.sdp:e.sdp},type:{enumerable:!0,value:n?n.type:e.type}})}},mtX7:function(t,e,n){"use strict";t.exports="undefined"!=typeof RTCSessionDescription?RTCSessionDescription:mozRTCSessionDescription},mv6w:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=Object.assign({getKey:function(t){return t},getValue:function(t){return t},isLessThanOrEqualTo:function(t,e){return t<=e}},e),Object.defineProperties(this,{_getKey:{value:e.getKey},_getValue:{value:e.getValue},_isLessThanOrEqualTo:{value:e.isLessThanOrEqualTo},_map:{value:new Map}})}return i(t,[{key:"toMap",value:function(){return new Map(this._map)}},{key:"updateAndFilter",value:function(t){return t.filter(this.update,this)}},{key:"update",value:function(t){var e=this._getKey(t),n=this._getValue(t);return(!this._map.has(e)||!this._isLessThanOrEqualTo(n,this._map.get(e)))&&(this._map.set(e,n),!0)}}]),t}();t.exports=r},mxK9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=null,o=function(){function t(t){var e=this,n=i("body").data("calendar").outlook;i(document).on("hc:agenda:outlook",function(){e._eventData=JSON.parse(i(t).attr("outlook-calendar")),e._signin(n)})}return t.prototype._signin=function(t){var e=this,n={client_id:t.clientId,redirect_uri:t.authUrlRedirect,response_type:"code",scope:"https://outlook.office.com/calendars.readwrite"};r=window.open("https://login.microsoftonline.com/common/oauth2/v2.0/authorize?"+i.param(n),"outlook-calendar","menubar=no,location=no,resizable=yes,scrollbars=yes,status=no, height=700, width=420"),window.addEventListener("message",function(t){r&&(r.close(),r=null,e._add(t.data))})},t.prototype._add=function(t){var e={Subject:this._eventData.title,Body:{ContentType:"HTML",Content:this._eventData.description},Start:{DateTime:this._eventData.start,TimeZone:"Europe/Paris"},End:{DateTime:this._eventData.end,TimeZone:"Europe/Paris"}};i.ajax({url:"https://outlook.office.com/api/v2.0/me/events",data:JSON.stringify(e),method:"POST",contentType:"application/json",headers:{Authorization:"Bearer "+t,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true"}}).done(function(t){i(document).find(".success-block").show()}).fail(function(t){i(document).find(".error-block").show()})},t}(),a=function(){return function(t){window.opener.postMessage(i(t).attr("outlook-authenticated"),"*")}}();i(document).on("hc:ready",function(t,e){t.preventDefault();var n=i(e||document);n.find('[value="outlook"]').each(function(t,e){return new o(e)}),n.find("[outlook-authenticated]").each(function(t,e){return new a(e)})})},n6Il:function(t,e,n){var i,r,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
  /*! jQuery UI - v1.12.1 - 2018-04-23
   * http://jqueryui.com
   * Includes: keycode.js, widgets/datepicker.js
   * Copyright jQuery Foundation and other contributors; Licensed MIT */r=[n("EVdn")],void 0===(o="function"==typeof(i=function(t){function e(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,i)}function i(){t.datepicker._isDisabledDatepicker(o.inline?o.dpDiv.parent()[0]:o.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function r(e,n){for(var i in t.extend(e,n),n)null==n[i]&&(e[i]=n[i]);return e}var o;t.ui=t.ui||{},t.ui.version="1.12.1",t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;i=e.nodeName.toLowerCase(),r="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(o=this._newInst(t(e),r)).settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var r=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[s?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),("focus"===(i=this._get(n,"showOn"))||"both"===i)&&e.on("focus",this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[s?"before":"after"](n.trigger),n.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;t.length>r;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,o,a){var s,c,u,l,h,d=this._dialogInst;return d||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(d=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",d)),r(d.settings,o||{}),n=n&&n.constructor===Date?this._formatDate(d,n):n,this._dialogInput.val(n),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+l,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty(),o===r&&(o=null))},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&((i=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&((i=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var o,a,s,c,u=this._getInst(e);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null:(o=n||{},"string"==typeof n&&((o={})[n]=i),void(u&&(this._curInst===u&&this._hideDatepicker(),a=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(u,"min"),c=this._getMinMaxDate(u,"max"),r(u.settings,o),null!==s&&void 0!==o.dateFormat&&void 0===o.minDate&&(u.settings.minDate=this._formatDate(u,s)),null!==c&&void 0!==o.dateFormat&&void 0===o.maxDate&&(u.settings.maxDate=this._formatDate(u,c)),"disabled"in o&&(o.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,a),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return(r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv))[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),(n=t.datepicker._get(o,"onSelect"))?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);return t.datepicker._get(r,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(e){var n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(e){var n,i,o,a,s,c,u;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e||(n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),i=t.datepicker._get(n,"beforeShow"),!1!==(o=i?i.apply(e,[e,n]):{})&&(r(n.settings,o),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return!(a|="fixed"===t(this).css("position"))}),s={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),s=t.datepicker._checkOffset(n,s,a),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),n.inline||(c=t.datepicker._get(n,"showAnim"),u=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[c]?n.dpDiv.show(c,t.datepicker._get(n,"showOptions"),u):n.dpDiv[c||"show"](c?u:null),t.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),t.datepicker._curInst=n)))},_updateDatepicker:function(e){this.maxRows=4,o=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,r=this._getNumberOfMonths(e),a=r[1],s=e.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&i.apply(s.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),a>1&&e.dpDiv.addClass("ui-datepicker-multi-"+a).css("width",17*a+"em"),e.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,c=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-a:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+s?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>c&&c>r?Math.abs(n.left+r-c):0),n.top-=Math.min(n.top,n.top+o>u&&u>o?Math.abs(o+s):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return[(n=t(e).offset()).left,n.top]},_hideDatepicker:function(e){var n,i,r,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),i=this._get(a,"duration"),r=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[n]||t.effects[n])?a.dpDiv.hide(n,t.datepicker._get(a,"showOptions"),i,r):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,(o=this._get(a,"onClose"))&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id!==t.datepicker._mainDivId&&0===n.parents("#"+t.datepicker._mainDivId).length&&!n.hasClass(t.datepicker.markerClassName)&&!n.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||n.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==i)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,a=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((o=this._getInst(a[0])).selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(i=this._get(o,"onSelect"))?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=a(o.input[0])&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(""==(n="object"==a(n)?""+n:n+""))return null;var r,o,s,c,u=0,l=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,h="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,p=(i?i.dayNames:null)||this._defaults.dayNames,f=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,m=(i?i.monthNames:null)||this._defaults.monthNames,v=-1,g=-1,_=-1,y=-1,b=!1,w=function(t){var n=e.length>r+1&&e.charAt(r+1)===t;return n&&r++,n},T=function(t){var e=w(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r="y"===t?i:1,o=RegExp("^\\d{"+r+","+i+"}"),a=n.substring(u).match(o);if(!a)throw"Missing number at position "+u;return u+=a[0].length,parseInt(a[0],10)},k=function(e,i,r){var o=-1,a=t.map(w(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var i=e[1];return n.substr(u,i.length).toLowerCase()===i.toLowerCase()?(o=e[0],u+=i.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+u},S=function(){if(n.charAt(u)!==e.charAt(r))throw"Unexpected literal at position "+u;u++};for(r=0;e.length>r;r++)if(b)"'"!==e.charAt(r)||w("'")?S():b=!1;else switch(e.charAt(r)){case"d":_=T("d");break;case"D":k("D",d,p);break;case"o":y=T("o");break;case"m":g=T("m");break;case"M":g=k("M",f,m);break;case"y":v=T("y");break;case"@":c=new Date(T("@")),v=c.getFullYear(),g=c.getMonth()+1,_=c.getDate();break;case"!":c=new Date((T("!")-this._ticksTo1970)/1e4),v=c.getFullYear(),g=c.getMonth()+1,_=c.getDate();break;case"'":w("'")?S():b=!0;break;default:S()}if(n.length>u&&(s=n.substr(u),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===v?v=(new Date).getFullYear():100>v&&(v+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h>=v?0:-100)),y>-1)for(g=1,_=y;!((o=this._getDaysInMonth(v,g-1))>=_);)g++,_-=o;if((c=this._daylightSavingAdjust(new Date(v,g-1,_))).getFullYear()!==v||c.getMonth()+1!==g||c.getDate()!==_)throw"Invalid date";return c},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,c=function(e){var n=t.length>i+1&&t.charAt(i+1)===e;return n&&i++,n},u=function(t,e,n){var i=""+e;if(c(t))for(;n>i.length;)i="0"+i;return i},l=function(t,e,n,i){return c(t)?i[e]:n[e]},h="",d=!1;if(e)for(i=0;t.length>i;i++)if(d)"'"!==t.charAt(i)||c("'")?h+=t.charAt(i):d=!1;else switch(t.charAt(i)){case"d":h+=u("d",e.getDate(),2);break;case"D":h+=l("D",e.getDay(),r,o);break;case"o":h+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=u("m",e.getMonth()+1,2);break;case"M":h+=l("M",e.getMonth(),a,s);break;case"y":h+=c("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":c("'")?h+="'":d=!0;break;default:h+=t.charAt(i)}return h},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=t.length>e+1&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;t.length>e;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,a=this._getFormatConfig(t);try{o=this.parseDate(n,i,a)||r}catch(t){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=null==n||""===n?i:"string"==typeof n?function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(t){}for(var i=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=i.getFullYear(),o=i.getMonth(),a=i.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=s.exec(n);c;){switch(c[2]||"d"){case"d":case"D":a+=parseInt(c[1],10);break;case"w":case"W":a+=7*parseInt(c[1],10);break;case"m":case"M":o+=parseInt(c[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(c[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(r,o))}c=s.exec(n)}return new Date(r,o,a)}(n):"number"==typeof n?isNaN(n)?i:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(n):new Date(n.getTime());return(r=r&&"Invalid Date"==""+r?i:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,a,s,c,u,l,h,d,p,f,m,v,g,_,y,b,w,T,k,S,C,E,P,O,x,R,A,D,I,M,$,L,j,N,U,X=new Date,B=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth(),X.getDate())),F=this._get(t,"isRTL"),H=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),z=this._get(t,"navigationAsDateFormat"),W=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),Y=this._get(t,"stepMonths"),Z=1!==W[0]||1!==W[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Q=t.drawMonth-V,tt=t.drawYear;if(0>Q&&(Q+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-W[0]*W[1]+1,J.getDate())),e=K&&K>e?K:e;this._daylightSavingAdjust(new Date(tt,Q,1))>e;)0>--Q&&(Q=11,tt--);for(t.drawMonth=Q,t.drawYear=tt,n=this._get(t,"prevText"),n=z?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Q-Y,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(F?"e":"w")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(F?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=z?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,Q+Y,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(F?"w":"e")+"'>"+r+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(F?"w":"e")+"'>"+r+"</span></a>",a=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?G:B,a=z?this.formatDate(a,s,this._getFormatConfig(t)):a,c=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=H?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(F?c:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(F?"":c)+"</div>":"",l=parseInt(this._get(t,"firstDay"),10),l=isNaN(l)?0:l,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),v=this._get(t,"beforeShowDay"),g=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),b="",T=0;W[0]>T;T++){for(k="",this.maxRows=4,S=0;W[1]>S;S++){if(C=this._daylightSavingAdjust(new Date(tt,Q,t.selectedDay)),E=" ui-corner-all",P="",Z){if(P+="<div class='ui-datepicker-group",W[1]>1)switch(S){case 0:P+=" ui-datepicker-group-first",E=" ui-corner-"+(F?"right":"left");break;case W[1]-1:P+=" ui-datepicker-group-last",E=" ui-corner-"+(F?"left":"right");break;default:P+=" ui-datepicker-group-middle",E=""}P+="'>"}for(P+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+E+"'>"+(/all|left/.test(E)&&0===T?F?o:i:"")+(/all|right/.test(E)&&0===T?F?i:o:"")+this._generateMonthYearHeader(t,Q,tt,K,J,T>0||S>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",O=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)O+="<th scope='col'"+((w+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[x=(w+l)%7]+"'>"+p[x]+"</span></th>";for(P+=O+"</tr></thead><tbody>",R=this._getDaysInMonth(tt,Q),tt===t.selectedYear&&Q===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,R)),A=(this._getFirstDayOfMonth(tt,Q)-l+7)%7,D=Math.ceil((A+R)/7),I=Z&&this.maxRows>D?this.maxRows:D,this.maxRows=I,M=this._daylightSavingAdjust(new Date(tt,Q,1-A)),$=0;I>$;$++){for(P+="<tr>",L=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(M)+"</td>":"",w=0;7>w;w++)j=v?v.apply(t.input?t.input[0]:null,[M]):[!0,""],N=M.getMonth()!==Q,U=N&&!_||!j[0]||K&&K>M||J&&M>J,L+="<td class='"+((w+l+6)%7>=5?" ui-datepicker-week-end":"")+(N?" ui-datepicker-other-month":"")+(M.getTime()===C.getTime()&&Q===t.selectedMonth&&t._keyEvent||y.getTime()===M.getTime()&&y.getTime()===C.getTime()?" "+this._dayOverClass:"")+(U?" "+this._unselectableClass+" ui-state-disabled":"")+(N&&!g?"":" "+j[1]+(M.getTime()===G.getTime()?" "+this._currentClass:"")+(M.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(N&&!g||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(U?"":" data-handler='selectDay' data-event='click' data-month='"+M.getMonth()+"' data-year='"+M.getFullYear()+"'")+">"+(N&&!g?"&#xa0;":U?"<span class='ui-state-default'>"+M.getDate()+"</span>":"<a class='ui-state-default"+(M.getTime()===B.getTime()?" ui-state-highlight":"")+(M.getTime()===G.getTime()?" ui-state-active":"")+(N?" ui-priority-secondary":"")+"' href='#'>"+M.getDate()+"</a>")+"</td>",M.setDate(M.getDate()+1),M=this._daylightSavingAdjust(M);P+=L+"</tr>"}++Q>11&&(Q=0,tt++),P+="</tbody></table>"+(Z?"</div>"+(W[0]>0&&S===W[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=P}b+=k}return b+=u,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,n,i,r,o,a,s){var c,u,l,h,d,p,f,m,v=this._get(t,"changeMonth"),g=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",b="";if(o||!v)b+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(c=i&&i.getFullYear()===n,u=r&&r.getFullYear()===n,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",l=0;12>l;l++)(!c||l>=i.getMonth())&&(!u||r.getMonth()>=l)&&(b+="<option value='"+l+"'"+(l===e?" selected='selected'":"")+">"+s[l]+"</option>");b+="</select>"}if(_||(y+=b+(!o&&v&&g?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!g)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),f=(p=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e})(h[0]),m=Math.max(f,p(h[1]||"")),f=i?Math.max(f,i.getFullYear()):f,m=r?Math.min(m,r.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),_&&(y+=(!o&&v&&g?"":"&#xa0;")+b),y+="</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&n>e?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(0>e?e:r[0]*r[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,s=null,c=this._get(t,"yearRange");return c&&(n=c.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!s||s>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==a(e)?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new e,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker})?i.apply(e,r):i)||(t.exports=o)},nMhI:function(t,e,n){n("EVdn"),n("LtqK"),n("3h4Y"),n("n6Il"),n("dUlM"),n("Zej/"),n("bPX7"),n("v10a"),n("DQUA"),n("rGOj"),n("/c9E"),n("VnzU"),n("9Yhr"),n("ehTg"),n("Sz1H"),n("W4Bv"),n("4h1E"),n("WG0r"),n("2SMs"),n("PvLD"),n("paqh"),n("6ahg"),n("k/VS"),n("cOIA"),n("Mibz"),n("j0s1"),n("VwEg"),n("Y2K2"),n("9q3I"),n("oYJs"),n("jyib"),n("YMQy"),n("6msC"),n("j0s1"),n("0T4R"),n("X8Hv"),n("I7m0"),n("Wst4"),n("45VH"),n("vons"),n("VkrI"),n("/gBg"),n("cmdE")},nj3X:function(t,e,n){"use strict";var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=n("+qE3").EventEmitter,a=n("xwWy"),s=a.DEFAULT_NQ_LEVEL_LOCAL,c=a.DEFAULT_NQ_LEVEL_REMOTE,u=a.MAX_NQ_LEVEL,l=n("ghd6").inRange,h=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t=Object.assign({local:s,remote:c},t),Object.defineProperties(n,{local:{value:l(t.local,s,u)?t.local:s,writable:!0},remote:{value:l(t.remote,c,u)?t.remote:c,writable:!0}}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"update",value:function(t){var e=this;t=Object.assign({local:this.local,remote:this.remote},t),[["local",s,3],["remote",c,3]].forEach(function(n){var r=i(n,3),o=r[0],a=r[1],s=r[2];e[o]="number"==typeof t[o]&&l(t[o],a,s)?t[o]:a})}}]),e}();t.exports=h},ntq4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=n("71c6"),o=i,a=function(){function t(t){var e=this;this._name=o(t).data("name"),this.$wrapper=o(t).find(".date-wrapper"),this.$navLinks=o(t).find(".nav"),this._screenLimit=o(window).data("smallScreenLimit"),this._startDate=new Date(o(t).data("start")),this._nbDaySmall=parseInt(o(t).data("nb-day-small"),0)||1,this._nbDayWide=parseInt(o(t).data("nb-day-wide"),0)||4,this._registerEvents(),o(window).on("resize",function(){return e._checkConfig()}),this._checkConfig(),this._checkNav()}return t.prototype._checkConfig=function(){var t=this._nbDay;this._nbDay=o(document).width()<this._screenLimit?this._nbDaySmall:this._nbDayWide,t!==this._nbDay&&o(this).trigger("configChange")},t.prototype._changeStart=function(t){if("next"===t)this._startDate=new Date(this._startDate.getFullYear(),this._startDate.getMonth(),this._startDate.getDate()+this._nbDay);else{var e=new Date(this._startDate.getFullYear(),this._startDate.getMonth(),this._startDate.getDate()-this._nbDay),n=Math.max(e.getTime(),(new Date).getTime());this._startDate=new Date(n)}o(this).trigger("configChange")},t.prototype._checkNav=function(){this.$navLinks.removeClass("unavailable");var t=r.dateFormatter(new Date);r.dateFormatter(this._startDate)===t&&this.$navLinks.filter('[data-direction="prev"]').addClass("unavailable")},t.prototype._displayDates=function(){this.$wrapper.html("");for(var t=0;t<this._nbDay;t++){var e=new Date(this._startDate.getFullYear(),this._startDate.getMonth(),this._startDate.getDate()+t),n=o('<div class="date">').html(r.dateFormatter(e));this.$wrapper.append(n)}this._checkNav()},t.prototype._propagate=function(){var t=this._startDate.getFullYear().toString();t+="-"+(this._startDate.getMonth()+1);var e={startDate:t+="-"+this._startDate.getDate(),nbDay:this._nbDay,source:this._name};o(document).trigger("hc:date:change",e)},t.prototype._registerEvents=function(){var t=this;this.$navLinks.on("click",function(e){e.stopPropagation(),e.preventDefault(),o(e.target).trigger("hc:agenda:click"),t._changeStart(o(e.target).data("direction"))}),o(document).on("hc:agenda:change",function(e,n){e.stopPropagation(),e.preventDefault();var i=new Date(n),r=new Date;t._startDate=i.getTime()>r.getTime()?i:r,o(t).trigger("configChange")}),o(document).on("hc:availability:change",function(){return t._propagate()}),o(this).on("configChange",function(e){t._displayDates(),t._propagate()})},t}();e.AgendaDateManager=a,o(document).on("hc:ready",function(t,e){t.preventDefault(),o(e||document).find(".agenda-date-selector").each(function(t,e){return new a(e)})})},o2QH:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("+qE3").EventEmitter,o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t=Object.assign({maxAudioBitrate:null,maxVideoBitrate:null},t),Object.defineProperties(n,{maxAudioBitrate:{value:t.maxAudioBitrate,writable:!0},maxVideoBitrate:{value:t.maxVideoBitrate,writable:!0}}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"toJSON",value:function(){return{maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate}}},{key:"update",value:function(t){var e=this;t=Object.assign({maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate},t),["maxAudioBitrate","maxVideoBitrate"].reduce(function(n,i){return e[i]!==t[i]&&(e[i]=t[i],n=!0),n},!1)&&this.emit("changed")}}]),e}();t.exports=o},"oIG/":function(t,e,n){(function(t,i){var r;/*! https://mths.be/utf8js v2.1.2 by @mathias */!function(o){var a=e,s=(t&&t.exports,"object"==typeof i&&i);s.global!==s&&s.window;var c,u,l,h=String.fromCharCode;function d(t){for(var e,n,i=[],r=0,o=t.length;r<o;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<o?56320==(64512&(n=t.charCodeAt(r++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--):i.push(e);return i}function p(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function f(t,e){return h(t>>e&63|128)}function m(t,e){if(0==(4294967168&t))return h(t);var n="";return 0==(4294965248&t)?n=h(t>>6&31|192):0==(4294901760&t)?(p(t,e)||(t=65533),n=h(t>>12&15|224),n+=f(t,6)):0==(4292870144&t)&&(n=h(t>>18&7|240),n+=f(t,12),n+=f(t,6)),n+=h(63&t|128)}function v(){if(l>=u)throw Error("Invalid byte index");var t=255&c[l];if(l++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function g(t){var e,n;if(l>u)throw Error("Invalid byte index");if(l==u)return!1;if(e=255&c[l],l++,0==(128&e))return e;if(192==(224&e)){if((n=(31&e)<<6|v())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&e)){if((n=(15&e)<<12|v()<<6|v())>=2048)return p(n,t)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(n=(7&e)<<18|v()<<12|v()<<6|v())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var _={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,i=d(t),r=i.length,o=-1,a="";++o<r;)a+=m(i[o],n);return a},decode:function(t,e){var n=!1!==(e=e||{}).strict;c=d(t),u=c.length,l=0;for(var i,r=[];!1!==(i=g(n));)r.push(i);return function(t){for(var e,n=t.length,i=-1,r="";++i<n;)(e=t[i])>65535&&(r+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),r+=h(e);return r}(r)}};void 0===(r=function(){return _}.call(e,n,e,t))||(t.exports=r)}()}).call(this,n("YuTi")(t),n("yLpj"))},oYJs:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=n("AYob"),s=o,c=function(t){function e(e){var n=t.call(this,e)||this;return n._critical=!0,n._customMessageClass="socket",n}return r(e,t),e.prototype._check=function(){return new Promise(function(t,e){var n=new WebSocket("wss://endpoint.twilio.com");n.onopen=function(){return t(!0)},n.onerror=function(){return e("error")}})},e}(a.PrerequisiteChecker);e.WebsocketChecker=c;var u=function(t){function e(e){var n=t.call(this,e)||this;return n._urls=s(e).data("urls")||{get:"",send:""},n}return r(e,t),e.prototype._check=function(){var t=this;return new Promise(function(e,n){var i=(new Date).getTime(),r=10;s.ajax({url:t._urls.get,xhrFields:{responseType:"blob"}}).done(function(o){void 0===FormData&&n("untestable");var a=o.size/1024*8;r=a/400+a/500;var c=new FormData;c.append("file",o),s.ajax({url:t._urls.send,type:"POST",cache:!1,contentType:!1,processData:!1,data:c}).done(function(){var t=(new Date).getTime();t-i<=1e3*r?e(!0):n("too slow: "+(t-i)+"ms")}).fail(function(){return n("no-data")})}).fail(function(){return n("no-data")})})},e}(a.PrerequisiteChecker);e.SignalChecker=u;var l=function(t){function e(e){var n=t.call(this,e)||this;return n.$wrapper.addClass("network-checker"),n._processor=new u(e),n}return r(e,t),e.prototype._check=function(){var t=this;this._processor.check().then(function(){return t.stop()}).catch(function(){return t._showError()})},e.prototype._stop=function(){},e.prototype._createPreview=function(){var t=s("<div>").addClass("check-success").html(this._labels.success);this.$wrapper.append(t)},e}(a.PrerequisiteCheckerWithPreview),h=function(t){function e(e){var n=t.call(this,e)||this;return n.$wrapper.addClass("network-checker"),n._processor=new c(e),n}return r(e,t),e.prototype._check=function(){var t=this;this._processor.check().then(function(){return t.stop()}).catch(function(){return t._showError()})},e.prototype._stop=function(){},e.prototype._createPreview=function(){var t=s("<div>").addClass("check-success").html(this._labels.success);this.$wrapper.append(t)},e}(a.PrerequisiteCheckerWithPreview);s(document).on("hc:ready",function(t,e){t.preventDefault();var n=s(e||document);n.find("[prerequisite-signal-checker]").each(function(t,e){return new l(e)}),n.find("[prerequisite-network-checker]").each(function(t,e){return new h(e)})})},pWYA:function(t,e,n){"use strict";var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=n("+qE3"),a=n("I/VV"),s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Object.defineProperties(i,{_factories:{value:new WeakMap},_manager:{value:t},_signaling:{value:n}}),n.on("updated",function(){return i.emit("updated")}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"start",value:function(){var t=this;this.stop();var e=setTimeout(function(){var n,r;t._timeout===e&&(n=t,r=(n._manager._peerConnections?Array.from(n._manager._peerConnections.values()):[]).map(function(t){return t._peerConnection}).filter(function(t){return"closed"!==t.signalingState}).map(function(t){if(n._factories.has(t))return n._factories.get(t);var e=new a(t);return n._factories.set(t,e),e}).map(function(t){return t.next().catch(function(){return null})}),Promise.all(r).then(function(t){return t.filter(function(t){return t}).map(function(t){return t.summarize()})})).then(function(n){if(t._timeout===e){if(n.length){var r=i(n,1)[0];t._signaling.put(r)}t.start()}})},200);this._timeout=e}},{key:"stop",value:function(){clearTimeout(this._timeout),this._timeout=null}},{key:"level",get:function(){return this._signaling.level}},{key:"levels",get:function(){return this._signaling.levels}},{key:"remoteLevels",get:function(){return this._signaling.remoteLevels}}]),e}();t.exports=s},paqh:function(t,e,n){n("T3m5"),n("mxK9"),n("kVa6"),n("5ioK"),n("/siA"),n("hM+B"),n("qqfI"),n("ntq4")},q6IO:function(t,e,n){"use strict";t.exports=function t(e){var n=e.jitter,i=void 0===n?null:n,r=e.rtt,o=void 0===r?null:r,a=e.level,s=void 0===a?null:a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{jitter:{value:i,enumerable:!0},rtt:{value:o,enumerable:!0},level:{value:s,enumerable:!0}})}},q7sl:function(t,e){e.XMLHttpRequest=XMLHttpRequest},qRNy:function(t,e,n){"use strict";var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=n("ghd6").difference,a=n("ghd6").flatMap;function s(){return String(Math.floor(4294967295*Math.random()))}var c=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{cName:{enumerable:!0,value:i},isSimulcastEnabled:{enumerable:!0,value:!1,writable:!0},primarySSRCs:{enumerable:!0,value:new Set},rtxPairs:{enumerable:!0,value:new Map},streamId:{enumerable:!0,value:n},trackId:{enumerable:!0,value:e}})}return r(t,[{key:"addSimulcastSSRCs",value:function(){if(!this.isSimulcastEnabled){var t=[s(),s()];t.forEach(function(t){this.primarySSRCs.add(t)},this),this.rtxPairs.size&&t.forEach(function(t){this.rtxPairs.set(s(),t)},this)}}},{key:"addSSRC",value:function(t,e,n){e?this.rtxPairs.set(t,e):this.primarySSRCs.add(t),this.isSimulcastEnabled=this.isSimulcastEnabled||n}},{key:"toSdpLines",value:function(t){var e=this,n=t?[]:Array.from(this.rtxPairs.entries()).map(function(t){return t.reverse()}),i=Array.from(this.primarySSRCs.values()),r=n.length?a(n):i,o=a(r,function(t){return["a=ssrc:"+t+" cname:"+e.cName,"a=ssrc:"+t+" msid:"+e.streamId+" "+e.trackId]}),s=n.map(function(t){return"a=ssrc-group:FID "+t.join(" ")}),c=["a=ssrc-group:SIM "+i.join(" ")];return s.concat(o).concat(c)}}]),t}();function u(t,e){return(t.match(new RegExp(e,"gm"))||[]).map(function(t){return(t.match(new RegExp(e))||[]).slice(1)})}function l(t){return u(t,"^a=ssrc:([0-9]+) msid:([^\\s]+) ([^\\s]+)$")}function h(t){var e=a(u(t,"^a=msid:(.+) (.+)$")),n=i(e,2),r=n[0],o=n[1];return a(u(t,"^a=ssrc:(.+) cname:.+$")).map(function(t){return[t,r,o]})}function d(t,e){var n=function(t){return new Set(a(u(t,"^a=ssrc-group:SIM ([0-9]+) ([0-9]+) ([0-9]+)$")))}(t),i=function(t){return new Map(u(t,"^a=ssrc-group:FID ([0-9]+) ([0-9]+)$").map(function(t){return t.reverse()}))}(t);return function(t,e){return{planb:l,unified:h}[e](t)}(t,e).reduce(function(e,r){var o=r[0],a=r[1],s=r[2],u=e.get(s)||new c(s,a,function(t,e,n){var i="a=ssrc:"+e+" "+n+":(.+)";return t.match(new RegExp(i))[1]}(t,o,"cname")),l=i.get(o)||null;return u.addSSRC(o,l,n.has(o)),e.set(s,u)},new Map)}t.exports=function(t,e,n){var i=d(t,e),r=Array.from(i.keys()),s=Array.from(n.keys()),c=o(r,s),u=o(s,r);a(c,function(t){return i.get(t)}).forEach(function(t){t.addSimulcastSSRCs(),n.set(t.trackId,t)}),s=Array.from(n.keys());var l=o(s,u),h=a(l,function(t){return n.get(t)}),p=!t.match(/a=rtpmap:[0-9]+ rtx/),f=a(h,function(t){return t.toSdpLines(p)}),m=new Set(t.split("\r\n").concat(f));return a(m).join("\r\n")}},qbp5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=function(){function t(t,e){this.$wrapper=t,this._options=e,this._createStructure()}return t.prototype.start=function(){var t=this,e=this._options.startedAt?new Date(this._options.startedAt):new Date;this._startTime=Math.ceil(new Date(e).getTime()/1e3),this._interval=window.setInterval(function(){return t._update()},1e3)},t.prototype.stop=function(){window.clearInterval(this._interval)},t.prototype._createStructure=function(){this.$text=i('<div class="timer-text">'),this.$progress=i('<div class="timer-progress">'),this.$wrapper.append(this.$progress).append(this.$text)},t.prototype._update=function(){var t=Math.ceil((new Date).getTime()/1e3)-this._startTime,e=Math.min(t/this._options.duration,1),n=Math.floor(100*e),i=Math.floor(t/60),r=Math.ceil(this._options.duration/60),o=Math.max(r-i,0);this.$progress.css("width",n+"%");var a=this._options.texts.remaining.replace("%count%",i.toString()).replace("%rest%",o.toString()).replace("%total%",r.toString());this.$text.text(a),n>=100&&this.$wrapper.addClass("warning")},t}();e.Timer=r},qbyT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=n("4R65"),o=i,a=function(){function t(t){this.$wrapper=o(t),this.$map=this.$wrapper.find("#map"),this.$overlay=this.$wrapper.find(".overlay"),this._load(this.$map)}return t.prototype._addMarker=function(t,e,n){var i=this,a="\n      <a href="+n.urlProfessional+">\n        <h3>"+n.lastname+"</h3>\n        <span>"+n.profession+"</span>\n        <address>\n          "+n.street_office+" <br/>\n          "+n.zipcode_office+" "+n.city_office+"\n        </address>\n      </a>\n    ",s=r.popup({closeButton:!0}).setContent(a),c=new r.DivIcon({iconSize:[1,1]}),u=r.marker([t,e],{icon:c});u.on("click",function(){return document.location.href=n.urlProfessional}).bindPopup(s).openPopup().addTo(this.$map),u.on("mouseover",function(){return i.$map.openPopup()}),this.$map.on("popupopen",function(){var t=o("#map").find(".leaflet-popup-content-wrapper"),e=t.find("a").attr("href");t.on("click",function(t){return document.location.href=e})})},t.prototype._load=function(t){var e=this;this.$map=r.map(t[0],{center:[0,0],dragging:!0,scrollWheelZoom:!0,zoom:0,zoomControl:!0}),o(document).on("hc:map:setview",function(t,n,i){var r=e.$map.getZoom();e.$map.getZoom()<=12&&(r=15),e.$map.setView([n,i],r)}),o(document).on("hc:map:setmarkers",function(t,n){var i=[];n.forEach(function(t,n){e._addMarker(t.latitude,t.longitude,t),n<5&&(i.push([t.latitude,t.longitude]),e._centerMap(i))})}),this.$map.on("click",function(){e.$overlay.addClass("active")}),this.$overlay.on("click",function(){e.$overlay.removeClass("active")});var n=o("#map").data("attribution-map"),i=o("#map").data("token");r.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token="+i,{attribution:n,maxZoom:18,id:"mapbox/streets-v11"}).addTo(this.$map),o(document).trigger("hc:map:setview",[48.856614,2.3522219])},t.prototype._centerMap=function(t){var e=r.latLngBounds(t);this.$map.fitBounds(e,{padding:[100,100]})},t}();e.MapManager=a,o(document).on("hc:ready",function(t,e){t.preventDefault(),o(e||document).find("div[container-map]").each(function(t,e){return new a(e)})})},qmcU:function(t,e,n){"use strict";"undefined"!=typeof MediaStream?t.exports=MediaStream:t.exports=function(){throw new Error("WebRTC is not supported in this browser")}},qqfI:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=n("kVa6"),s=o,c=function(t){function e(e){var n=t.call(this,e)||this;return n._wrapper=s(e),n._dateTarget=n._wrapper.find('input[data-target="date"]'),n._locationTarget=n._wrapper.find('input[data-target="location"]'),n._wrapper.on("click",".slot-wrapper a",function(t){t.preventDefault(),t.stopPropagation(),n._selectSlot(s(t.target).closest(".slot"))}),n}return r(e,t),e.prototype._constructSlot=function(t,e,n){var i=s('<div class="slot">');if(i.data("value",n.date+" "+e.label),i.data("location",e.locationClass),!0===e.taken||""===e.locationClass)i.addClass("unavailable");else{var r=s("<a>").attr("href","#").text(e.label);i.append(r),"office"===e.locationClass&&i.addClass("physical")}return i},e.prototype._selectSlot=function(t){this._wrapper.find(".slot-wrapper .slot a").removeClass("selected"),t.find("a").addClass("selected"),this._dateTarget&&this._dateTarget.val(t.data("value")),this._locationTarget&&this._locationTarget.val(t.data("location"))},e}(a.AgendaManager);s(document).on("hc:ready",function(t,e){t.preventDefault(),s(e||document).find("[proposal-root]").each(function(t,e){return new c(e)})})},qshW:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=n("RbzC"),s=o,c=function(t){function e(e){var n=t.call(this)||this;return n.$el=s(e),n.$wrapper=n.$el.closest(".autocomplete-wrapper"),n.searchURL=s("#map").data("search-url"),n.$location=n.$wrapper.find(".location"),n.$profession=n.$wrapper.find("#search-profession"),n.$place=n.$wrapper.find("#search-place"),s(window).on("load",function(){if(null!==window.history.state)n._getMarkers(window.history.state),n.$profession.val(window.history.state.profession),n.$place.val(window.history.state.place);else{var t=new URLSearchParams(location.search.substring(1)).get("profession");t&&n.getCity(n.$location).then(function(e){n.$place.val(e.city),n.$profession.val(t);var i={profession:n.$profession.val(),place:n.$place.val()};n._getMarkers(i),window.history.replaceState({profession:i.profession,place:i.place},"","?profession="+i.profession+"&place="+i.place)})}}),window.onpopstate=function(t){null!==t.state?(n._getMarkers(t.state),n.$profession.val(t.state.profession),n.$place.val(t.state.place)):location.reload()},n.$el.on("click",function(t){t.preventDefault(),t.stopPropagation();var e={profession:n.$profession.val(),place:n.$place.val()};window.history.pushState({profession:e.profession,place:e.place},"","?profession="+e.profession+"&place="+e.place),n._getMarkers(e)}),n}return r(e,t),e.prototype._getMarkers=function(t){var e=this;this.getCoords(t).then(function(n){s.ajax({url:e.searchURL,type:"POST",data:{profession:t.profession,place:t.place,bbox:n.bbox}}).done(function(t){s(document).trigger("hc:map:setmarkers",[t])})})},e}(a.Geolocation);s(document).on("hc:ready",function(t,e){t.preventDefault(),s(e||document).find("button[search-map]").each(function(t,e){return new c(e)})})},"r/r0":function(t,e,n){"use strict";t.exports=function(t){var e;(e=function(e,n,i,r,o,a){var s,c,u,l;if(!i)throw new TypeError('missing or invalid "host" parameter');for(s in e=e||t.C.SIP,this.parameters={},this.headers={},o)this.setParam(s,o[s]);for(c in a)this.setHeader(c,a[c]);u={scheme:e,user:n,host:i,port:r},l={scheme:e.toLowerCase(),user:n,host:i.toLowerCase(),port:r},Object.defineProperties(this,{_normal:{get:function(){return l}},_raw:{get:function(){return u}},scheme:{get:function(){return l.scheme},set:function(t){u.scheme=t,l.scheme=t.toLowerCase()}},user:{get:function(){return l.user},set:function(t){l.user=u.user=t}},host:{get:function(){return l.host},set:function(t){u.host=t,l.host=t.toLowerCase()}},aor:{get:function(){return l.user+"@"+l.host}},port:{get:function(){return l.port},set:function(t){l.port=u.port=0===t?t:parseInt(t,10)||null}}})}).prototype={setParam:function(t,e){t&&(this.parameters[t.toLowerCase()]=null==e?null:e.toString().toLowerCase())},getParam:function(t){if(t)return this.parameters[t.toLowerCase()]},hasParam:function(t){if(t)return!!this.parameters.hasOwnProperty(t.toLowerCase())},deleteParam:function(t){var e;if(t=t.toLowerCase(),this.parameters.hasOwnProperty(t))return e=this.parameters[t],delete this.parameters[t],e},clearParams:function(){this.parameters={}},setHeader:function(e,n){this.headers[t.Utils.headerize(e)]=n instanceof Array?n:[n]},getHeader:function(e){if(e)return this.headers[t.Utils.headerize(e)]},hasHeader:function(e){if(e)return!!this.headers.hasOwnProperty(t.Utils.headerize(e))},deleteHeader:function(e){var n;if(e=t.Utils.headerize(e),this.headers.hasOwnProperty(e))return n=this.headers[e],delete this.headers[e],n},clearHeaders:function(){this.headers={}},clone:function(){return new e(this._raw.scheme,this._raw.user,this._raw.host,this._raw.port,JSON.parse(JSON.stringify(this.parameters)),JSON.parse(JSON.stringify(this.headers)))},toRaw:function(){return this._toString(this._raw)},toString:function(){return this._toString(this._normal)},_toString:function(e){var n,i,r,o,a=[];for(i in o=e.scheme+":",e.scheme.toLowerCase().match("^sips?$")||(o+="//"),e.user&&(o+=t.Utils.escapeUser(e.user)+"@"),o+=e.host,(e.port||0===e.port)&&(o+=":"+e.port),this.parameters)o+=";"+i,null!==this.parameters[i]&&(o+="="+this.parameters[i]);for(n in this.headers)for(r in this.headers[n])a.push(n+"="+this.headers[n][r]);return a.length>0&&(o+="?"+a.join("&")),o}},e.parse=function(e){return-1!==(e=t.Grammar.parse(e,"SIP_URI"))?e:void 0},t.URI=e}},r2dn:function(t,e,n){"use strict";var i=n("zYCr"),r=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return Object.defineProperties(i,{audioLevel:{value:"number"==typeof n.audioInputLevel?n.audioInputLevel:null,enumerable:!0},jitter:{value:"number"==typeof n.jitter?n.jitter:null,enumerable:!0}}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),e}();t.exports=r},r2pO:function(t,e,n){"use strict";var i=n("8yKx"),r=n("7tlc").inherits,o=n("rskN"),a=n("UQcK"),s=n("iWhl"),c=n("BWbm"),u="unified"===s.getSdpFormat(),l=u?s.updateUnifiedPlanTrackIdsToSSRCs:s.updatePlanBTrackIdsToSSRCs;function h(t){if(!(this instanceof h))return new h(t);i.call(this),c.interceptEvent(this,"datachannel"),c.interceptEvent(this,"iceconnectionstatechange"),c.interceptEvent(this,"signalingstatechange"),c.interceptEvent(this,"track");var e=new RTCPeerConnection(t);Object.defineProperties(this,{_audioTransceiver:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:e},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_senders:{value:new Map},_signalingStateLatch:{value:new o},_tracksToSSRCs:{value:new Map},_videoTransceiver:{value:null,writable:!0},localDescription:{enumerable:!0,get:function(){return this._pendingLocalOffer||this._peerConnection.localDescription}},iceConnectionState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._peerConnection.iceConnectionState}},iceGatheringState:{enumerable:!0,get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState}},remoteDescription:{enumerable:!0,get:function(){return this._pendingRemoteOffer||this._peerConnection.remoteDescription}},signalingState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":this._peerConnection.signalingState}}});var n=this;e.addEventListener("datachannel",function(t){f(t.channel),n.dispatchEvent(t)}),e.addEventListener("iceconnectionstatechange",function(){n._isClosed||n.dispatchEvent.apply(n,arguments)}),e.addEventListener("signalingstatechange",function(){n._isClosed||n._pendingLocalOffer||n._pendingRemoteOffer||n.dispatchEvent.apply(n,arguments)}),e.addEventListener("track",function(t){n._pendingRemoteOffer=null,n.dispatchEvent(t)}),c.proxyProperties(RTCPeerConnection.prototype,this,e)}function d(t,e,n){var i,r=e?t._pendingLocalOffer:t._pendingRemoteOffer,o=e?t._pendingRemoteOffer:t._pendingLocalOffer,a=e?"have-local-offer":"have-remote-offer",s=e?"setLocalDescription":"setRemoteDescription";if(!e&&o&&"answer"===n.type)return function(t,e){var n=t._pendingLocalOffer;return t._peerConnection.setLocalDescription(n).then(function(){return t._pendingLocalOffer=null,t.setRemoteDescription(e)}).then(function(){t._signalingStateLatch.lower()})}(t,n);if("offer"===n.type){if(t.signalingState!==a&&"stable"!==t.signalingState)return Promise.reject(new Error("Cannot set "+(e?"local":"remote")+" offer in state "+t.signalingState));r||"low"!==t._signalingStateLatch.state||t._signalingStateLatch.raise();var c=t.signalingState;return i=n,e?t._pendingLocalOffer=i:t._pendingRemoteOffer=i,t.signalingState!==c?Promise.resolve().then(function(){t.dispatchEvent(new Event("signalingstatechange"))}):Promise.resolve()}return"rollback"===n.type?t.signalingState!==a?Promise.reject(new Error("Cannot rollback "+(e?"local":"remote")+" description in "+t.signalingState)):(e?t._pendingLocalOffer=null:t._pendingRemoteOffer=null,Promise.resolve().then(function(){t.dispatchEvent(new Event("signalingstatechange"))})):t._peerConnection[s](n)}function p(t,e){return!!t.getTransceivers().find(function(t){return t.receiver&&t.receiver.track&&t.receiver.track.kind===e})}function f(t){return Object.defineProperties(t,{maxPacketLifeTime:{value:65535===t.maxPacketLifeTime?null:t.maxPacketLifeTime},maxRetransmits:{value:65535===t.maxRetransmits?null:t.maxRetransmits}})}function m(t){return new Map(t.getSenders().filter(function(t){return t.track}).map(function(t){return[t.track,t]}))}r(h,i),h.prototype.addIceCandidate=function(t){var e=this;return"have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then(function(){return e._peerConnection.addIceCandidate(t)}):this._peerConnection.addIceCandidate(t)},h.prototype.createOffer=function(t){t=Object.assign({},t);var e=this;if(t.offerToReceiveAudio&&!this._audioTransceiver&&(!u||!p(this,"audio"))){delete t.offerToReceiveAudio;try{this._audioTransceiver=u?this.addTransceiver("audio",{direction:"recvonly"}):this.addTransceiver("audio")}catch(t){return Promise.reject(t)}}if(t.offerToReceiveVideo&&!this._videoTransceiver&&(!u||!p(this,"video"))){delete t.offerToReceiveVideo;try{this._videoTransceiver=u?this.addTransceiver("video",{direction:"recvonly"}):this.addTransceiver("video")}catch(t){return Promise.reject(t)}}return this._peerConnection.createOffer(t).then(function(t){return new RTCSessionDescription({type:t.type,sdp:l(e._tracksToSSRCs,t.sdp)})})},h.prototype.createAnswer=function(t){var e=this;return this._pendingRemoteOffer?this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then(function(){return e._signalingStateLatch.lower(),e._peerConnection.createAnswer()}).then(function(t){return e._pendingRemoteOffer=null,u?new RTCSessionDescription({type:t.type,sdp:l(e._tracksToSSRCs,t.sdp)}):t},function(t){throw e._pendingRemoteOffer=null,t}):this._peerConnection.createAnswer(t).then(function(t){return u?new RTCSessionDescription({type:t.type,sdp:l(e._tracksToSSRCs,t.sdp)}):t})},h.prototype.createDataChannel=function(t,e){var n=this._peerConnection.createDataChannel(t,e);return f(n),n},h.prototype.setLocalDescription=function(t){return d(this,!0,t)},h.prototype.setRemoteDescription=function(t){return d(this,!1,t)},h.prototype.close=function(){if(!this._isClosed){this._isClosed=!0,this._peerConnection.close();var t=this;setTimeout(function(){t.dispatchEvent(new Event("iceconnectionstatechange")),t.dispatchEvent(new Event("signalingstatechange"))})}},h.prototype.addTrack=function(){var t=[].slice.call(arguments),e=t[0],n=this._senders.get(e);if(n&&n.track)throw new Error("Cannot add MediaStreamTrack ["+e.id+", "+e.kind+"]: RTCPeerConnection already has it");return n=(n=m(this._peerConnection).get(e)||this._peerConnection.addTrack.apply(this._peerConnection,t))||m(this._peerConnection).get(e),this._senders.set(e,n),n},RTCPeerConnection.prototype.addTransceiver&&(h.prototype.addTransceiver=function(){var t=this._peerConnection.addTransceiver.apply(this._peerConnection,arguments),e=t.sender,n=e.track;return this._senders.set(n,e),t}),h.prototype.removeTrack=function(t){if(this._isClosed)throw new Error("Cannot remove MediaStreamTrack: RTCPeerConnection is closed");var e=t.track;e&&(t=this._senders.get(e))&&t.track&&this._senders.set(e,new a(null))},h.prototype.getSenders=function(){return Array.from(this._senders.values())},c.delegateMethods(RTCPeerConnection.prototype,h.prototype,"_peerConnection"),t.exports=h},rGOj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=function(){function t(t){this.$wrapper=i(t),this.$wrapper.find("a").each(function(t,e){i(e).data("target",i(e).attr("href"))}),this._checkLinksStatus(),this._applyEvents()}return t.prototype._checkLinksStatus=function(){var t=window.scrollY,e=this.$wrapper.offset().top+this.$wrapper.outerHeight()-t+25,n=this.$wrapper.find("a").get().reverse().find(function(n){return i(i(n).data("target")).offset().top-t<e});void 0===n&&(n=this.$wrapper.find("a").get(0)),this._changeLinkStatus(n)},t.prototype._changeLinkStatus=function(t){i(t).addClass("active").siblings("a").removeClass("active")},t.prototype._scrollTo=function(t){var e=this,n=i(t).data("target"),r=this.$wrapper.outerHeight();r+=i(".directory-header").outerHeight(),r+=19,i(document).trigger("hc:scrollTo",[n,r]),window.setTimeout(function(){return e._changeLinkStatus(t)},210)},t.prototype._applyEvents=function(){var t=this;this.$wrapper.on("click","a",function(e){e.preventDefault(),e.stopPropagation(),t._scrollTo(e.target)}),i(window).on("scroll",function(){t._checkLinksStatus()})},t}(),o=function(){function t(t){this.$wrapper=i(t),this.$backdrop=i("<div>").addClass("appointment-backdrop"),this.$backdrop.insertBefore(this.$wrapper),this._applyEvents()}return t.prototype._applyEvents=function(){var t=this;this.$wrapper.on("click hc:agenda:click",function(e){e.preventDefault(),e.stopPropagation(),t.$backdrop.addClass("active")}),this.$backdrop.on("click",function(e){e.preventDefault(),e.stopPropagation(),t.$backdrop.removeClass("active")})},t}(),a=function(){return function(t){var e=i(t).data("content")||"",n=i("<div>").html(e).text(),r=i(t).data("limit")||10,o=i(t).data("more")||"+",a=n.split(" ",r).join(" ");""!==a&&(a!==n&&(a+="...",i("<a>").attr("href","#").on("click",function(t){t.preventDefault(),t.stopPropagation(),i('[scrolling-nav] a[href="#description"]').trigger("click")}).text(o).appendTo(t)),i("<blockquote>").text(a).prependTo(t))}}();i(document).on("hc:ready",function(t,e){t.preventDefault();var n=i(e||document);n.find("[scrolling-nav]").each(function(t,e){return new r(e)}),n.find(".profile-page .appointment").each(function(t,e){return new o(e)}),n.find(".profile [data-content]").each(function(t,e){return new a(e)})})},rJRK:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("8j3H"),o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{createMessage:{enumerable:!0,value:n},peerConnectionManager:{enumerable:!0,value:e}})}return i(t,[{key:"close",value:function(){this.peerConnectionManager.close()}},{key:"getDescription",value:function(){var t=Object.assign({peer_connections:this.peerConnectionManager.getStates()},this.createMessage());return Promise.resolve({body:JSON.stringify(t),contentType:"application/room-signaling+json"})}},{key:"hasDescription",value:function(){return!0}},{key:"hold",value:function(){}},{key:"isReady",value:function(){return!0}},{key:"isMuted",value:function(){return{audio:!1,video:!1}}},{key:"mute",value:function(){}},{key:"render",value:function(){}},{key:"setDescription",value:function(t){var e=function(t){try{return JSON.parse(t.body)}catch(t){return null}}(t);if(e){var n=e.peer_connections;if(n)return this.peerConnectionManager.update(n)}return Promise.resolve()}},{key:"unhold",value:function(){}},{key:"unmute",value:function(){}},{key:"updateIceServers",value:function(){}}],[{key:"defaultFactory",value:function(){}}]),t}();o.defaultFactory.isSupported=function(){return r.WebRTC.isSupported()},t.exports=o},rbex:function(t,e,n){"use strict";t.exports=function(t){var e,n=[],i=[],r=[];function o(e,n,i){for(var r,o=t.Utils.buildStatusLine(e),a=n.getHeaders("via"),s=a.length,c=0;c<s;c++)o+="Via: "+a[c]+"\r\n";r=n.getHeader("To"),n.to_tag||(r+=";tag="+t.Utils.newTag()),o+="To: "+r+"\r\n",o+="From: "+n.getHeader("From")+"\r\n",o+="Call-ID: "+n.call_id+"\r\n",o+="CSeq: "+n.cseq+" "+n.method+"\r\n",o+="\r\n",i.send(o)}n.push(function(t,e,n){if(!t.ruri||"sip"!==t.ruri.scheme)return o(416,t,n),!1}),n.push(function(t,e,n){if(!t.to_tag&&t.call_id.substr(0,5)===e.configuration.sipjsId)return o(482,t,n),!1}),n.push(function(e,n,i){if(t.Utils.str_utf8_length(e.body)<e.getHeader("content-length"))return o(400,e,i),!1}),n.push(function(e,n,i){var r,a,s=e.from_tag,c=e.call_id,u=e.cseq;if(!e.to_tag)if(e.method===t.C.INVITE){if(r=n.transactions.ist[e.via_branch])return;for(a in n.transactions.ist)if((r=n.transactions.ist[a]).request.from_tag===s&&r.request.call_id===c&&r.request.cseq===u)return o(482,e,i),!1}else{if(r=n.transactions.nist[e.via_branch])return;for(a in n.transactions.nist)if((r=n.transactions.nist[a]).request.from_tag===s&&r.request.call_id===c&&r.request.cseq===u)return o(482,e,i),!1}}),i.push(function(t,e){if(t.getHeaders("via").length>1)return e.getLogger("sip.sanitycheck").warn("More than one Via header field present in the response. Dropping the response"),!1}),i.push(function(e,n){if(t.Utils.str_utf8_length(e.body)<e.getHeader("content-length"))return n.getLogger("sip.sanitycheck").warn("Message body length is lower than the value in Content-Length header field. Dropping the response"),!1}),r.push(function(t,e){for(var n=["from","to","call_id","cseq","via"],i=n.length;i--;)if(!t.hasHeader(n[i]))return e.getLogger("sip.sanitycheck").warn("Missing mandatory header field : "+n[i]+". Dropping the response"),!1}),e=function(e,o,a){var s;for(s=r.length;s--;)if(!1===r[s](e,o,a))return!1;if(e instanceof t.IncomingRequest){for(s=n.length;s--;)if(!1===n[s](e,o,a))return!1}else if(e instanceof t.IncomingResponse)for(s=i.length;s--;)if(!1===i[s](e,o,a))return!1;return!0},t.sanityCheck=e}},rskN:function(t,e,n){"use strict";var i=n("BWbm").defer,r={high:new Set(["low"]),low:new Set(["high"])};function o(t){if(!(this instanceof o))return new o(t);var e=t||"low";Object.defineProperties(this,{_state:{set:function(t){if(e!==t){e=t;var n=this._whenDeferreds.get(e);n.forEach(function(t){t.resolve(this)},this),n.clear()}},get:function(){return e}},_whenDeferreds:{value:new Map([["high",new Set],["low",new Set]])},state:{enumerable:!0,get:function(){return this._state}}})}function a(t,e){return new Error('Cannot transition from "'+t+'" to "'+e+'"')}o.prototype.lower=function(){return this.transition("low")},o.prototype.raise=function(){return this.transition("high")},o.prototype.transition=function(t){if(!r[this.state].has(t))throw a(this.state,t);return this._state=t,this},o.prototype.when=function(t){if(this.state===t)return Promise.resolve(this);if(!r[this.state].has(t))return Promise.reject(a(this.state,t));var e=i();return this._whenDeferreds.get(t).add(e),e.promise},t.exports=o},s1MW:function(t,e,n){"use strict";t.exports=function(t){var e,i=n("6JoF")(t),r={STATUS_EARLY:1,STATUS_CONFIRMED:2};(e=function(e,n,i,o){var a;if(this.uac_pending_reply=!1,this.uas_pending_reply=!1,!n.hasHeader("contact"))return{error:"unable to create a Dialog without Contact header field"};o=n instanceof t.IncomingResponse?n.status_code<200?r.STATUS_EARLY:r.STATUS_CONFIRMED:o||r.STATUS_CONFIRMED,a=n.parseHeader("contact"),"UAS"===i?(this.id={call_id:n.call_id,local_tag:n.to_tag,remote_tag:n.from_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this.state=o,this.remote_seqnum=n.cseq,this.local_uri=n.parseHeader("to").uri,this.remote_uri=n.parseHeader("from").uri,this.remote_target=a.uri,this.route_set=n.getHeaders("record-route"),this.invite_seqnum=n.cseq,this.local_seqnum=n.cseq):"UAC"===i&&(this.id={call_id:n.call_id,local_tag:n.from_tag,remote_tag:n.to_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this.state=o,this.invite_seqnum=n.cseq,this.local_seqnum=n.cseq,this.local_uri=n.parseHeader("from").uri,this.pracked=[],this.remote_uri=n.parseHeader("to").uri,this.remote_target=a.uri,this.route_set=n.getHeaders("record-route").reverse(),this.state!==r.STATUS_EARLY||e.hasOffer||(this.mediaHandler=e.mediaHandlerFactory(e))),this.logger=e.ua.getLogger("sip.dialog",this.id.toString()),this.owner=e,e.ua.dialogs[this.id.toString()]=this,this.logger.log("new "+i+" dialog created with status "+(this.state===r.STATUS_EARLY?"EARLY":"CONFIRMED")),e.emit("dialog",this)}).prototype={update:function(t,e){this.state=r.STATUS_CONFIRMED,this.logger.log("dialog "+this.id.toString()+"  changed to CONFIRMED state"),"UAC"===e&&(this.route_set=t.getHeaders("record-route").reverse())},terminate:function(){this.logger.log("dialog "+this.id.toString()+" deleted"),this.mediaHandler&&this.state!==r.STATUS_CONFIRMED&&this.mediaHandler.peerConnection.close(),delete this.owner.ua.dialogs[this.id.toString()]},createRequest:function(e,n,i){var r,o;return n=(n||[]).slice(),this.local_seqnum||(this.local_seqnum=Math.floor(1e4*Math.random())),r=e===t.C.CANCEL||e===t.C.ACK?this.invite_seqnum:this.local_seqnum+=1,(o=new t.OutgoingRequest(e,this.remote_target,this.owner.ua,{cseq:r,call_id:this.id.call_id,from_uri:this.local_uri,from_tag:this.id.local_tag,to_uri:this.remote_uri,to_tag:this.id.remote_tag,route_set:this.route_set},n,i)).dialog=this,o},checkInDialogRequest:function(e){var n=this;if(this.remote_seqnum){if(e.cseq<this.remote_seqnum)return e.method!==t.C.ACK&&e.reply(500),e.cseq===this.invite_seqnum;e.cseq>this.remote_seqnum&&(this.remote_seqnum=e.cseq)}else this.remote_seqnum=e.cseq;switch(e.method){case t.C.INVITE:if(!0===this.uac_pending_reply)e.reply(491);else{if(!0===this.uas_pending_reply){var i=1+(10*Math.random()|0);return e.reply(500,null,["Retry-After:"+i]),!1}this.uas_pending_reply=!0,e.server_transaction.on("stateChanged",function e(){this.state!==t.Transactions.C.STATUS_ACCEPTED&&this.state!==t.Transactions.C.STATUS_COMPLETED&&this.state!==t.Transactions.C.STATUS_TERMINATED||(this.removeListener("stateChanged",e),n.uas_pending_reply=!1,!1===n.uac_pending_reply&&n.owner.onReadyToReinvite())})}e.hasHeader("contact")&&e.server_transaction.on("stateChanged",function(){this.state===t.Transactions.C.STATUS_ACCEPTED&&(n.remote_target=e.parseHeader("contact").uri)});break;case t.C.NOTIFY:e.hasHeader("contact")&&e.server_transaction.on("stateChanged",function(){this.state===t.Transactions.C.STATUS_COMPLETED&&(n.remote_target=e.parseHeader("contact").uri)})}return!0},sendRequest:function(t,e,n){var r=((n=n||{}).extraHeaders||[]).slice(),o=null;n.body&&(n.body.body?o=n.body:((o={}).body=n.body,n.contentType&&(o.contentType=n.contentType)));var a=this.createRequest(e,r,o);return new i(this,t,a).send(),a},receiveRequest:function(t){this.checkInDialogRequest(t)&&this.owner.receiveRequest(t)}},e.C=r,t.Dialog=e}},sJKT:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{_connected:{writable:!0,value:!0}})}return i(t,[{key:"connect",value:function(){}},{key:"disconnect",value:function(){return!!this._connected&&(this._connected=!1,!0)}},{key:"publish",value:function(){return this._connected}}]),t}();t.exports=r},sYJf:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{_isCancelable:{writable:!0,value:!0},_isCanceled:{writable:!0,value:!1},_onCancel:{value:n}}),Object.defineProperty(this,"_promise",{value:new Promise(function(t,n){e(function(e){i._isCancelable=!1,t(e)},function(t){i._isCancelable=!1,n(t)},function(){return i._isCanceled})})})}return i(t,[{key:"cancel",value:function(){return this._isCancelable&&(this._isCanceled=!0,this._onCancel()),this}},{key:"catch",value:function(){var e=[].slice.call(arguments),n=this._promise;return new t(function(t,i){n.catch.apply(n,r(e)).then(t,i)},this._onCancel)}},{key:"then",value:function(){var e=[].slice.call(arguments),n=this._promise;return new t(function(t,i){n.then.apply(n,r(e)).then(t,i)},this._onCancel)}}],[{key:"reject",value:function(e){return new t(function(t,n){n(e)},function(){})}},{key:"resolve",value:function(e){return new t(function(t){t(e)},function(){})}}]),t}();t.exports=o},shdM:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("Ivmz"),o=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i="data"===t.kind||t.track.enabled,r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,t.kind,i));return r.setTrackTransceiver(t),Object.defineProperties(r,{_error:{value:null,writable:!0},error:{enumerable:!0,get:function(){return this._error}},id:{enumerable:!0,value:t.id}}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"publishFailed",value:function(t){return function(t,e){if(null!==t._sid||t._error)return!1;return t._error=e,!0}(this,t)&&this.emit("updated"),this}},{key:"setSid",value:function(t){return this._error?this:function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setSid",this).call(this,t)}}]),e}();t.exports=o},"t/UT":function(t,e,n){"use strict";
  /*!
   * perfect-scrollbar v1.3.0
   * (c) 2017 Hyunje Jun
   * @license MIT
   */
  function i(t){return getComputedStyle(t)}function r(t,e){for(var n in e){var i=e[n];"number"==typeof i&&(i+="px"),t.style[n]=i}return t}function o(t){var e=document.createElement("div");return e.className=t,e}n.r(e);var a="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector);function s(t,e){if(!a)throw new Error("No element matching method supported");return a.call(t,e)}function c(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function u(t,e){return Array.prototype.filter.call(t.children,function(t){return s(t,e)})}var l={main:"ps",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},h={x:null,y:null};function d(t,e){var n=t.element.classList,i=l.state.scrolling(e);n.contains(i)?clearTimeout(h[e]):n.add(i)}function p(t,e){h[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(l.state.scrolling(e))},t.settings.scrollingThreshold)}var f=function(t){this.element=t,this.handlers={}},m={isEmpty:{configurable:!0}};f.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},f.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter(function(i){return!(!e||i===e)||(n.element.removeEventListener(t,i,!1),!1)})},f.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},m.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return 0===t.handlers[e].length})},Object.defineProperties(f.prototype,m);var v=function(){this.eventElements=[]};function g(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}v.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return e||(e=new f(t),this.eventElements.push(e)),e},v.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},v.prototype.unbind=function(t,e,n){var i=this.eventElement(t);i.unbind(e,n),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)},v.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]},v.prototype.once=function(t,e,n){var i=this.eventElement(t),r=function(t){i.unbind(e,r),n(t)};i.bind(e,r)};var _=function(t,e,n,i,r){var o;if(void 0===i&&(i=!0),void 0===r&&(r=!1),"top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,n,i,r){var o=n[0],a=n[1],s=n[2],c=n[3],u=n[4],l=n[5];void 0===i&&(i=!0);void 0===r&&(r=!1);var h=t.element;t.reach[c]=null,h[s]<1&&(t.reach[c]="start");h[s]>t[o]-t[a]-1&&(t.reach[c]="end");e&&(h.dispatchEvent(g("ps-scroll-"+c)),e<0?h.dispatchEvent(g("ps-scroll-"+u)):e>0&&h.dispatchEvent(g("ps-scroll-"+l)),i&&function(t,e){d(t,e),p(t,e)}(t,c));t.reach[c]&&(e||r)&&h.dispatchEvent(g("ps-"+c+"-reach-"+t.reach[c]))}(t,n,o,i,r)};function y(t){return parseInt(t,10)||0}var b={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},w=function(t){var e=t.element;t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(u(e,l.element.rail("x")).forEach(function(t){return c(t)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(u(e,l.element.rail("y")).forEach(function(t){return c(t)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=T(t,y(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=y((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=T(t,y(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=y(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var n={width:e.railXWidth};e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft;e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-t.scrollTop:n.top=e.scrollbarXTop+t.scrollTop;r(e.scrollbarXRail,n);var i={top:t.scrollTop,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?i.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:i.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:i.left=e.scrollbarYLeft+t.scrollLeft;r(e.scrollbarYRail,i),r(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),r(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(l.state.active("x")):(e.classList.remove(l.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=0),t.scrollbarYActive?e.classList.add(l.state.active("y")):(e.classList.remove(l.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)};function T(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function k(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],c=e[6],u=e[7],l=t.element,h=null,f=null,m=null;function v(e){l[c]=h+m*(e[r]-f),d(t,u),w(t),e.stopPropagation(),e.preventDefault()}function g(){p(t,u),t.event.unbind(t.ownerDocument,"mousemove",v)}t.event.bind(t[a],"mousedown",function(e){h=l[c],f=e[r],m=(t[i]-t[n])/(t[o]-t[s]),t.event.bind(t.ownerDocument,"mousemove",v),t.event.once(t.ownerDocument,"mouseup",g),e.stopPropagation(),e.preventDefault()})}var S={"click-rail":function(t){t.event.bind(t.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarYRail,"mousedown",function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top>t.scrollbarYTop?1:-1;t.element.scrollTop+=n*t.containerHeight,w(t),e.stopPropagation()}),t.event.bind(t.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarXRail,"mousedown",function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=n*t.containerWidth,w(t),e.stopPropagation()})},"drag-thumb":function(t){k(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x"]),k(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(s(e,":hover")||s(t.scrollbarX,":focus")||s(t.scrollbarY,":focus"))){var i,r=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(r){if("IFRAME"===r.tagName)r=r.contentDocument.activeElement;else for(;r.shadowRoot;)r=r.shadowRoot.activeElement;if(s(i=r,"input,[contenteditable]")||s(i,"select,[contenteditable]")||s(i,"textarea,[contenteditable]")||s(i,"button,[contenteditable]"))return}var o=0,a=0;switch(n.which){case 37:o=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:a=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:o=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:a=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:a=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:a=t.containerHeight;break;case 34:a=-t.containerHeight;break;case 36:a=t.contentHeight;break;case 35:a=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==o||t.settings.suppressScrollY&&0!==a||(e.scrollTop-=a,e.scrollLeft+=o,w(t),function(n,i){var r=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===r&&i>0||r>=t.contentHeight-t.containerHeight&&i<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(o,a)&&n.preventDefault())}})},wheel:function(t){var e=t.element;function n(n){var r=function(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}(n),o=r[0],a=r[1];if(!function(t,n,r){if(!b.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var o=t;o&&o!==e;){if(o.classList.contains(l.element.consuming))return!0;var a=i(o);if([a.overflow,a.overflowX,a.overflowY].join("").match(/(scroll|auto)/)){var s=o.scrollHeight-o.clientHeight;if(s>0&&!(0===o.scrollTop&&r>0||o.scrollTop===s&&r<0))return!0;var c=o.scrollLeft-o.clientWidth;if(c>0&&!(0===o.scrollLeft&&n<0||o.scrollLeft===c&&n>0))return!0}o=o.parentNode}return!1}(n.target,o,a)){var s=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(a?e.scrollTop-=a*t.settings.wheelSpeed:e.scrollTop+=o*t.settings.wheelSpeed,s=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(o?e.scrollLeft+=o*t.settings.wheelSpeed:e.scrollLeft-=a*t.settings.wheelSpeed,s=!0):(e.scrollTop-=a*t.settings.wheelSpeed,e.scrollLeft+=o*t.settings.wheelSpeed),w(t),(s=s||function(n,i){var r=0===e.scrollTop,o=e.scrollTop+e.offsetHeight===e.scrollHeight,a=0===e.scrollLeft,s=e.scrollLeft+e.offsetWidth===e.offsetWidth;return!(Math.abs(i)>Math.abs(n)?r||o:a||s)||!t.settings.wheelPropagation}(o,a))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)},touch:function(t){if(b.supportsTouch||b.supportsIePointer){var e=t.element,n={},r=0,o={},a=null;b.supportsTouch?(t.event.bind(e,"touchstart",h),t.event.bind(e,"touchmove",d),t.event.bind(e,"touchend",p)):b.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",h),t.event.bind(e,"pointermove",d),t.event.bind(e,"pointerup",p)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",h),t.event.bind(e,"MSPointerMove",d),t.event.bind(e,"MSPointerUp",p)))}function s(n,i){e.scrollTop-=i,e.scrollLeft-=n,w(t)}function c(t){return t.targetTouches?t.targetTouches[0]:t}function u(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function h(t){if(u(t)){var e=c(t);n.pageX=e.pageX,n.pageY=e.pageY,r=(new Date).getTime(),null!==a&&clearInterval(a)}}function d(a){if(u(a)){var h=c(a),d={pageX:h.pageX,pageY:h.pageY},p=d.pageX-n.pageX,f=d.pageY-n.pageY;if(function(t,n,r){if(!e.contains(t))return!1;for(var o=t;o&&o!==e;){if(o.classList.contains(l.element.consuming))return!0;var a=i(o);if([a.overflow,a.overflowX,a.overflowY].join("").match(/(scroll|auto)/)){var s=o.scrollHeight-o.clientHeight;if(s>0&&!(0===o.scrollTop&&r>0||o.scrollTop===s&&r<0))return!0;var c=o.scrollLeft-o.clientWidth;if(c>0&&!(0===o.scrollLeft&&n<0||o.scrollLeft===c&&n>0))return!0}o=o.parentNode}return!1}(a.target,p,f))return;s(p,f),n=d;var m=(new Date).getTime(),v=m-r;v>0&&(o.x=p/v,o.y=f/v,r=m),function(n,i){var r=e.scrollTop,o=e.scrollLeft,a=Math.abs(n),s=Math.abs(i);if(s>a){if(i<0&&r===t.contentHeight-t.containerHeight||i>0&&0===r)return 0===window.scrollY&&i>0&&b.isChrome}else if(a>s&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!0;return!0}(p,f)&&a.preventDefault()}}function p(){t.settings.swipeEasing&&(clearInterval(a),a=setInterval(function(){t.isInitialized?clearInterval(a):o.x||o.y?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?clearInterval(a):(s(30*o.x,30*o.y),o.x*=.8,o.y*=.8):clearInterval(a)},10))}}},C=function(t,e){var n=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var a in this.element=t,t.classList.add(l.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1},e)n.settings[a]=e[a];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s,c,u=function(){return t.classList.add(l.state.focus)},h=function(){return t.classList.remove(l.state.focus)};this.isRtl="rtl"===i(t).direction,this.isNegativeScroll=(c=t.scrollLeft,t.scrollLeft=-1,s=t.scrollLeft<0,t.scrollLeft=c,s),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new v,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=o(l.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=o(l.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",u),this.event.bind(this.scrollbarX,"blur",h),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var d=i(this.scrollbarXRail);this.scrollbarXBottom=parseInt(d.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=y(d.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=y(d.borderLeftWidth)+y(d.borderRightWidth),r(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=y(d.marginLeft)+y(d.marginRight),r(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=o(l.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=o(l.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",u),this.event.bind(this.scrollbarY,"blur",h),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var p=i(this.scrollbarYRail);this.scrollbarYRight=parseInt(p.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=y(p.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=i(t);return y(e.width)+y(e.paddingLeft)+y(e.paddingRight)+y(e.borderLeftWidth)+y(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=y(p.borderTopWidth)+y(p.borderBottomWidth),r(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=y(p.marginTop)+y(p.marginBottom),r(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(t){return S[t](n)}),this.lastScrollTop=t.scrollTop,this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(t){return n.onScroll(t)}),w(this)};C.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,r(this.scrollbarXRail,{display:"block"}),r(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=y(i(this.scrollbarXRail).marginLeft)+y(i(this.scrollbarXRail).marginRight),this.railYMarginHeight=y(i(this.scrollbarYRail).marginTop)+y(i(this.scrollbarYRail).marginBottom),r(this.scrollbarXRail,{display:"none"}),r(this.scrollbarYRail,{display:"none"}),w(this),_(this,"top",0,!1,!0),_(this,"left",0,!1,!0),r(this.scrollbarXRail,{display:""}),r(this.scrollbarYRail,{display:""}))},C.prototype.onScroll=function(t){this.isAlive&&(w(this),_(this,"top",this.element.scrollTop-this.lastScrollTop),_(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=this.element.scrollTop,this.lastScrollLeft=this.element.scrollLeft)},C.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),c(this.scrollbarX),c(this.scrollbarY),c(this.scrollbarXRail),c(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},C.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")},e.default=C},t472:function(t,e,n){"use strict";var i=n("BWbm").guessBrowser;t.exports=function(){return!(!i()||!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia)||"undefined"==typeof RTCPeerConnection&&"undefined"==typeof webkitRTCPeerConnection&&"undefined"==typeof mozRTCPeerConnection)}},tK72:function(t,e){t.exports=function(){function t(t,e,n,i,r,o){this.message=t,this.expected=e,this.found=n,this.offset=i,this.line=r,this.column=o,this.name="SyntaxError"}return function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(t,Error),{SyntaxError:t,parse:function(e){var n,i=arguments.length>1?arguments[1]:{},r={},o={Contact:118,Name_Addr_Header:155,Record_Route:175,Request_Response:81,SIP_URI:45,Subscription_State:185,Supported:190,Require:181,Via:193,absoluteURI:84,Call_ID:117,Content_Disposition:129,Content_Length:134,Content_Type:135,CSeq:145,displayName:121,Event:148,From:150,host:52,Max_Forwards:153,Min_SE:212,Proxy_Authenticate:156,quoted_string:40,Refer_To:177,Replaces:178,Session_Expires:209,stun_URI:216,To:191,turn_URI:223,uuid:226,WWW_Authenticate:208,challenge:157},a=118,s=["\r\n",{type:"literal",value:"\r\n",description:'"\\r\\n"'},/^[0-9]/,{type:"class",value:"[0-9]",description:"[0-9]"},/^[a-zA-Z]/,{type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},/^[0-9a-fA-F]/,{type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},/^[\0-\xFF]/,{type:"class",value:"[\\0-\\xFF]",description:"[\\0-\\xFF]"},/^["]/,{type:"class",value:'["]',description:'["]'}," ",{type:"literal",value:" ",description:'" "'},"\t",{type:"literal",value:"\t",description:'"\\t"'},/^[a-zA-Z0-9]/,{type:"class",value:"[a-zA-Z0-9]",description:"[a-zA-Z0-9]"},";",{type:"literal",value:";",description:'";"'},"/",{type:"literal",value:"/",description:'"/"'},"?",{type:"literal",value:"?",description:'"?"'},":",{type:"literal",value:":",description:'":"'},"@",{type:"literal",value:"@",description:'"@"'},"&",{type:"literal",value:"&",description:'"&"'},"=",{type:"literal",value:"=",description:'"="'},"+",{type:"literal",value:"+",description:'"+"'},"$",{type:"literal",value:"$",description:'"$"'},",",{type:"literal",value:",",description:'","'},"-",{type:"literal",value:"-",description:'"-"'},"_",{type:"literal",value:"_",description:'"_"'},".",{type:"literal",value:".",description:'"."'},"!",{type:"literal",value:"!",description:'"!"'},"~",{type:"literal",value:"~",description:'"~"'},"*",{type:"literal",value:"*",description:'"*"'},"'",{type:"literal",value:"'",description:'"\'"'},"(",{type:"literal",value:"(",description:'"("'},")",{type:"literal",value:")",description:'")"'},r,"%",{type:"literal",value:"%",description:'"%"'},null,[],function(){return" "},function(){return":"},/^[!-~]/,{type:"class",value:"[!-~]",description:"[!-~]"},/^[\x80-\uFFFF]/,{type:"class",value:"[\\x80-\\uFFFF]",description:"[\\x80-\\uFFFF]"},/^[\x80-\xBF]/,{type:"class",value:"[\\x80-\\xBF]",description:"[\\x80-\\xBF]"},/^[a-f]/,{type:"class",value:"[a-f]",description:"[a-f]"},"`",{type:"literal",value:"`",description:'"`"'},"<",{type:"literal",value:"<",description:'"<"'},">",{type:"literal",value:">",description:'">"'},"\\",{type:"literal",value:"\\",description:'"\\\\"'},"[",{type:"literal",value:"[",description:'"["'},"]",{type:"literal",value:"]",description:'"]"'},"{",{type:"literal",value:"{",description:'"{"'},"}",{type:"literal",value:"}",description:'"}"'},function(){return"*"},function(){return"/"},function(){return"="},function(){return"("},function(){return")"},function(){return">"},function(){return"<"},function(){return","},function(){return";"},function(){return":"},function(){return'"'},/^[!-']/,{type:"class",value:"[!-']",description:"[!-']"},/^[*-[]/,{type:"class",value:"[*-[]",description:"[*-[]"},/^[\]-~]/,{type:"class",value:"[\\]-~]",description:"[\\]-~]"},function(t){return t},/^[#-[]/,{type:"class",value:"[#-[]",description:"[#-[]"},/^[\0-\t]/,{type:"class",value:"[\\0-\\t]",description:"[\\0-\\t]"},/^[\x0B-\f]/,{type:"class",value:"[\\x0B-\\f]",description:"[\\x0B-\\f]"},/^[\x0E-]/,{type:"class",value:"[\\x0E-]",description:"[\\x0E-]"},function(){i.data.uri=new i.SIP.URI(i.data.scheme,i.data.user,i.data.host,i.data.port),delete i.data.scheme,delete i.data.user,delete i.data.host,delete i.data.host_type,delete i.data.port},function(){i.data.uri=new i.SIP.URI(i.data.scheme,i.data.user,i.data.host,i.data.port,i.data.uri_params,i.data.uri_headers),delete i.data.scheme,delete i.data.user,delete i.data.host,delete i.data.host_type,delete i.data.port,delete i.data.uri_params,"SIP_URI"===i.startRule&&(i.data=i.data.uri)},"sips",{type:"literal",value:"sips",description:'"sips"'},"sip",{type:"literal",value:"sip",description:'"sip"'},function(t){i.data.scheme=t},function(){i.data.user=decodeURIComponent(v().slice(0,-1))},function(){i.data.password=v()},function(){return i.data.host=v(),i.data.host},function(){return i.data.host_type="domain",v()},/^[a-zA-Z0-9_\-]/,{type:"class",value:"[a-zA-Z0-9_\\-]",description:"[a-zA-Z0-9_\\-]"},/^[a-zA-Z0-9\-]/,{type:"class",value:"[a-zA-Z0-9\\-]",description:"[a-zA-Z0-9\\-]"},function(){return i.data.host_type="IPv6",v()},"::",{type:"literal",value:"::",description:'"::"'},function(){return i.data.host_type="IPv6",v()},function(){return i.data.host_type="IPv4",v()},"25",{type:"literal",value:"25",description:'"25"'},/^[0-5]/,{type:"class",value:"[0-5]",description:"[0-5]"},"2",{type:"literal",value:"2",description:'"2"'},/^[0-4]/,{type:"class",value:"[0-4]",description:"[0-4]"},"1",{type:"literal",value:"1",description:'"1"'},/^[1-9]/,{type:"class",value:"[1-9]",description:"[1-9]"},function(t){return t=parseInt(t.join("")),i.data.port=t,t},"transport=",{type:"literal",value:"transport=",description:'"transport="'},"udp",{type:"literal",value:"udp",description:'"udp"'},"tcp",{type:"literal",value:"tcp",description:'"tcp"'},"sctp",{type:"literal",value:"sctp",description:'"sctp"'},"tls",{type:"literal",value:"tls",description:'"tls"'},function(t){i.data.uri_params||(i.data.uri_params={}),i.data.uri_params.transport=t.toLowerCase()},"user=",{type:"literal",value:"user=",description:'"user="'},"phone",{type:"literal",value:"phone",description:'"phone"'},"ip",{type:"literal",value:"ip",description:'"ip"'},function(t){i.data.uri_params||(i.data.uri_params={}),i.data.uri_params.user=t.toLowerCase()},"method=",{type:"literal",value:"method=",description:'"method="'},function(t){i.data.uri_params||(i.data.uri_params={}),i.data.uri_params.method=t},"ttl=",{type:"literal",value:"ttl=",description:'"ttl="'},function(t){i.data.params||(i.data.params={}),i.data.params.ttl=t},"maddr=",{type:"literal",value:"maddr=",description:'"maddr="'},function(t){i.data.uri_params||(i.data.uri_params={}),i.data.uri_params.maddr=t},"lr",{type:"literal",value:"lr",description:'"lr"'},function(){i.data.uri_params||(i.data.uri_params={}),i.data.uri_params.lr=void 0},function(t,e){i.data.uri_params||(i.data.uri_params={}),e=null===e?void 0:e[1],i.data.uri_params[t.toLowerCase()]=e&&e.toLowerCase()},function(t,e){t=t.join("").toLowerCase(),e=e.join(""),i.data.uri_headers||(i.data.uri_headers={}),i.data.uri_headers[t]?i.data.uri_headers[t].push(e):i.data.uri_headers[t]=[e]},function(){"Refer_To"===i.startRule&&(i.data.uri=new i.SIP.URI(i.data.scheme,i.data.user,i.data.host,i.data.port,i.data.uri_params,i.data.uri_headers),delete i.data.scheme,delete i.data.user,delete i.data.host,delete i.data.host_type,delete i.data.port,delete i.data.uri_params)},"//",{type:"literal",value:"//",description:'"//"'},function(){i.data.scheme=v()},{type:"literal",value:"SIP",description:'"SIP"'},function(){i.data.sip_version=v()},"INVITE",{type:"literal",value:"INVITE",description:'"INVITE"'},"ACK",{type:"literal",value:"ACK",description:'"ACK"'},"VXACH",{type:"literal",value:"VXACH",description:'"VXACH"'},"OPTIONS",{type:"literal",value:"OPTIONS",description:'"OPTIONS"'},"BYE",{type:"literal",value:"BYE",description:'"BYE"'},"CANCEL",{type:"literal",value:"CANCEL",description:'"CANCEL"'},"REGISTER",{type:"literal",value:"REGISTER",description:'"REGISTER"'},"SUBSCRIBE",{type:"literal",value:"SUBSCRIBE",description:'"SUBSCRIBE"'},"NOTIFY",{type:"literal",value:"NOTIFY",description:'"NOTIFY"'},"REFER",{type:"literal",value:"REFER",description:'"REFER"'},function(){return i.data.method=v(),i.data.method},function(t){i.data.status_code=parseInt(t.join(""))},function(){i.data.reason_phrase=v()},function(){i.data=v()},function(){var t,e;for(e=i.data.multi_header.length,t=0;t<e;t++)if(null===i.data.multi_header[t].parsed){i.data=null;break}null!==i.data?i.data=i.data.multi_header:i.data=-1},function(){var t;i.data.multi_header||(i.data.multi_header=[]);try{t=new i.SIP.NameAddrHeader(i.data.uri,i.data.displayName,i.data.params),delete i.data.uri,delete i.data.displayName,delete i.data.params}catch(e){t=null}i.data.multi_header.push({position:u,offset:g(),parsed:t})},function(t){'"'===(t=v().trim())[0]&&(t=t.substring(1,t.length-1)),i.data.displayName=t},"q",{type:"literal",value:"q",description:'"q"'},function(t){i.data.params||(i.data.params={}),i.data.params.q=t},"expires",{type:"literal",value:"expires",description:'"expires"'},function(t){i.data.params||(i.data.params={}),i.data.params.expires=t},function(t){return parseInt(t.join(""))},"0",{type:"literal",value:"0",description:'"0"'},function(){return parseFloat(v())},function(t,e){i.data.params||(i.data.params={}),e=null===e?void 0:e[1],i.data.params[t.toLowerCase()]=e},"render",{type:"literal",value:"render",description:'"render"'},"session",{type:"literal",value:"session",description:'"session"'},"icon",{type:"literal",value:"icon",description:'"icon"'},"alert",{type:"literal",value:"alert",description:'"alert"'},function(){"Content_Disposition"===i.startRule&&(i.data.type=v().toLowerCase())},"handling",{type:"literal",value:"handling",description:'"handling"'},"optional",{type:"literal",value:"optional",description:'"optional"'},"required",{type:"literal",value:"required",description:'"required"'},function(t){i.data=parseInt(t.join(""))},function(){i.data=v()},"text",{type:"literal",value:"text",description:'"text"'},"image",{type:"literal",value:"image",description:'"image"'},"audio",{type:"literal",value:"audio",description:'"audio"'},"video",{type:"literal",value:"video",description:'"video"'},"application",{type:"literal",value:"application",description:'"application"'},"message",{type:"literal",value:"message",description:'"message"'},"multipart",{type:"literal",value:"multipart",description:'"multipart"'},"x-",{type:"literal",value:"x-",description:'"x-"'},function(t){i.data.value=parseInt(t.join(""))},function(t){i.data=t},function(t){i.data.event=t.toLowerCase()},function(){var t=i.data.tag;i.data=new i.SIP.NameAddrHeader(i.data.uri,i.data.displayName,i.data.params),t&&i.data.setParam("tag",t)},"tag",{type:"literal",value:"tag",description:'"tag"'},function(t){i.data.tag=t},function(t){i.data=parseInt(t.join(""))},function(t){i.data=t},function(){i.data=new i.SIP.NameAddrHeader(i.data.uri,i.data.displayName,i.data.params)},"digest",{type:"literal",value:"Digest",description:'"Digest"'},"realm",{type:"literal",value:"realm",description:'"realm"'},function(t){i.data.realm=t},"domain",{type:"literal",value:"domain",description:'"domain"'},"nonce",{type:"literal",value:"nonce",description:'"nonce"'},function(t){i.data.nonce=t},"opaque",{type:"literal",value:"opaque",description:'"opaque"'},function(t){i.data.opaque=t},"stale",{type:"literal",value:"stale",description:'"stale"'},"true",{type:"literal",value:"true",description:'"true"'},function(){i.data.stale=!0},"false",{type:"literal",value:"false",description:'"false"'},function(){i.data.stale=!1},"algorithm",{type:"literal",value:"algorithm",description:'"algorithm"'},"md5",{type:"literal",value:"MD5",description:'"MD5"'},"md5-sess",{type:"literal",value:"MD5-sess",description:'"MD5-sess"'},function(t){i.data.algorithm=t.toUpperCase()},"qop",{type:"literal",value:"qop",description:'"qop"'},"auth-int",{type:"literal",value:"auth-int",description:'"auth-int"'},"auth",{type:"literal",value:"auth",description:'"auth"'},function(t){i.data.qop||(i.data.qop=[]),i.data.qop.push(t.toLowerCase())},function(t){i.data.value=parseInt(t.join(""))},function(){var t,e;for(e=i.data.multi_header.length,t=0;t<e;t++)if(null===i.data.multi_header[t].parsed){i.data=null;break}null!==i.data?i.data=i.data.multi_header:i.data=-1},function(){var t;i.data.multi_header||(i.data.multi_header=[]);try{t=new i.SIP.NameAddrHeader(i.data.uri,i.data.displayName,i.data.params),delete i.data.uri,delete i.data.displayName,delete i.data.params}catch(e){t=null}i.data.multi_header.push({position:u,offset:g(),parsed:t})},function(){i.data=new i.SIP.NameAddrHeader(i.data.uri,i.data.displayName,i.data.params)},function(){i.data.replaces_from_tag&&i.data.replaces_to_tag||(i.data=-1)},function(){i.data={call_id:i.data}},"from-tag",{type:"literal",value:"from-tag",description:'"from-tag"'},function(t){i.data.replaces_from_tag=t},"to-tag",{type:"literal",value:"to-tag",description:'"to-tag"'},function(t){i.data.replaces_to_tag=t},"early-only",{type:"literal",value:"early-only",description:'"early-only"'},function(){i.data.early_only=!0},function(t){return t},function(t,e){return function(t,e){return[t].concat(e)}(t,e)},function(t){"Require"===i.startRule&&(i.data=t||[])},function(t){i.data.value=parseInt(t.join(""))},"active",{type:"literal",value:"active",description:'"active"'},"pending",{type:"literal",value:"pending",description:'"pending"'},"terminated",{type:"literal",value:"terminated",description:'"terminated"'},function(){i.data.state=v()},"reason",{type:"literal",value:"reason",description:'"reason"'},function(t){void 0!==t&&(i.data.reason=t)},function(t){void 0!==t&&(i.data.expires=t)},"retry_after",{type:"literal",value:"retry_after",description:'"retry_after"'},function(t){void 0!==t&&(i.data.retry_after=t)},"deactivated",{type:"literal",value:"deactivated",description:'"deactivated"'},"probation",{type:"literal",value:"probation",description:'"probation"'},"rejected",{type:"literal",value:"rejected",description:'"rejected"'},"timeout",{type:"literal",value:"timeout",description:'"timeout"'},"giveup",{type:"literal",value:"giveup",description:'"giveup"'},"noresource",{type:"literal",value:"noresource",description:'"noresource"'},"invariant",{type:"literal",value:"invariant",description:'"invariant"'},function(t){"Supported"===i.startRule&&(i.data=t||[])},function(){var t=i.data.tag;i.data=new i.SIP.NameAddrHeader(i.data.uri,i.data.displayName,i.data.params),t&&i.data.setParam("tag",t)},"ttl",{type:"literal",value:"ttl",description:'"ttl"'},function(t){i.data.ttl=t},"maddr",{type:"literal",value:"maddr",description:'"maddr"'},function(t){i.data.maddr=t},"received",{type:"literal",value:"received",description:'"received"'},function(t){i.data.received=t},"branch",{type:"literal",value:"branch",description:'"branch"'},function(t){i.data.branch=t},"rport",{type:"literal",value:"rport",description:'"rport"'},function(){"undefined"!=typeof response_port&&(i.data.rport=response_port.join(""))},function(t){i.data.protocol=t},{type:"literal",value:"UDP",description:'"UDP"'},{type:"literal",value:"TCP",description:'"TCP"'},{type:"literal",value:"TLS",description:'"TLS"'},{type:"literal",value:"SCTP",description:'"SCTP"'},function(t){i.data.transport=t},function(){i.data.host=v()},function(t){i.data.port=parseInt(t.join(""))},function(t){return parseInt(t.join(""))},function(t){"Session_Expires"===i.startRule&&(i.data.deltaSeconds=t)},"refresher",{type:"literal",value:"refresher",description:'"refresher"'},"uas",{type:"literal",value:"uas",description:'"uas"'},"uac",{type:"literal",value:"uac",description:'"uac"'},function(t){"Session_Expires"===i.startRule&&(i.data.refresher=t)},function(t){"Min_SE"===i.startRule&&(i.data=t)},"stuns",{type:"literal",value:"stuns",description:'"stuns"'},"stun",{type:"literal",value:"stun",description:'"stun"'},function(t){i.data.scheme=t},function(t){i.data.host=t},"?transport=",{type:"literal",value:"?transport=",description:'"?transport="'},"turns",{type:"literal",value:"turns",description:'"turns"'},"turn",{type:"literal",value:"turn",description:'"turn"'},function(){i.data.transport=transport},function(){i.data=v()}],c=[w('. ""2 3!'),w('0"""1!3#'),w('0$""1!3%'),w('0&""1!3\''),w("7'*# \"7("),w('0(""1!3)'),w('0*""1!3+'),w('.,""2,3-'),w('..""2.3/'),w('00""1!31'),w('.2""2233* ".4""2435*} ".6""2637*q ".8""2839*e ".:""2:3;*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E'),w('7)*# "7,'),w('.F""2F3G*} ".H""2H3I*q ".J""2J3K*e ".L""2L3M*Y ".N""2N3O*M ".P""2P3Q*A ".R""2R3S*5 ".T""2T3U*) ".V""2V3W'),w('!!.Y""2Y3Z+7$7#+-%7#+#%\'#%$## X$"# X"# X+! (%'),w('!! \\7$,#&7$"+-$7 +#%\'"%$"# X"# X*# " [+@$ \\7$+&$,#&7$""" X+\'%4"6]" %$"# X"# X'),w('7.*# " ['),w('! \\7\'*# "7(,)&7\'*# "7("+A$.8""2839+1%7/+\'%4#6^# %$## X$"# X"# X'),w('!! \\72+&$,#&72""" X+o$ \\! \\7.,#&7."+-$72+#%\'"%$"# X"# X,@&! \\7.,#&7."+-$72+#%\'"%$"# X"# X"+#%\'"%$"# X"# X+! (%'),w('0_""1!3`*# "73'),w('0a""1!3b'),w('0c""1!3d'),w('7!*) "0e""1!3f'),w('! \\7)* ".F""2F3G* ".J""2J3K*} ".L""2L3M*q ".Y""2Y3Z*e ".P""2P3Q*Y ".H""2H3I*M ".@""2@3A*A ".g""2g3h*5 ".R""2R3S*) ".N""2N3O+$,&7)* ".F""2F3G* ".J""2J3K*} ".L""2L3M*q ".Y""2Y3Z*e ".P""2P3Q*Y ".H""2H3I*M ".@""2@3A*A ".g""2g3h*5 ".R""2R3S*) ".N""2N3O""" X+! (%'),w('! \\7)* ".F""2F3G*} ".L""2L3M*q ".Y""2Y3Z*e ".P""2P3Q*Y ".H""2H3I*M ".@""2@3A*A ".g""2g3h*5 ".R""2R3S*) ".N""2N3O+$,&7)* ".F""2F3G*} ".L""2L3M*q ".Y""2Y3Z*e ".P""2P3Q*Y ".H""2H3I*M ".@""2@3A*A ".g""2g3h*5 ".R""2R3S*) ".N""2N3O""" X+! (%'),w('.T""2T3U* ".V""2V3W* ".i""2i3j* ".k""2k3l* ".:""2:3;* ".D""2D3E* ".2""2233* ".8""2839* ".m""2m3n* "7&*} ".4""2435*q ".o""2o3p*e ".q""2q3r*Y ".6""2637*M ".>""2>3?*A ".s""2s3t*5 ".u""2u3v*) "7\'*# "7('),w('! \\7)* ".F""2F3G* ".J""2J3K* ".L""2L3M* ".Y""2Y3Z* ".P""2P3Q* ".H""2H3I* ".@""2@3A* ".g""2g3h* ".R""2R3S* ".N""2N3O* ".T""2T3U* ".V""2V3W* ".i""2i3j* ".k""2k3l* ".8""2839*w ".m""2m3n*k "7&*e ".4""2435*Y ".o""2o3p*M ".q""2q3r*A ".6""2637*5 ".s""2s3t*) ".u""2u3v+$,&7)* ".F""2F3G* ".J""2J3K* ".L""2L3M* ".Y""2Y3Z* ".P""2P3Q* ".H""2H3I* ".@""2@3A* ".g""2g3h* ".R""2R3S* ".N""2N3O* ".T""2T3U* ".V""2V3W* ".i""2i3j* ".k""2k3l* ".8""2839*w ".m""2m3n*k "7&*e ".4""2435*Y ".o""2o3p*M ".q""2q3r*A ".6""2637*5 ".s""2s3t*) ".u""2u3v""" X+! (%'),w('!7/+A$.P""2P3Q+1%7/+\'%4#6w# %$## X$"# X"# X'),w('!7/+A$.4""2435+1%7/+\'%4#6x# %$## X$"# X"# X'),w('!7/+A$.>""2>3?+1%7/+\'%4#6y# %$## X$"# X"# X'),w('!7/+A$.T""2T3U+1%7/+\'%4#6z# %$## X$"# X"# X'),w('!7/+A$.V""2V3W+1%7/+\'%4#6{# %$## X$"# X"# X'),w('!.k""2k3l+1$7/+\'%4"6|" %$"# X"# X'),w('!7/+7$.i""2i3j+\'%4"6}" %$"# X"# X'),w('!7/+A$.D""2D3E+1%7/+\'%4#6~# %$## X$"# X"# X'),w('!7/+A$.2""2233+1%7/+\'%4#6# %$## X$"# X"# X'),w('!7/+A$.8""2839+1%7/+\'%4#6# %$## X$"# X"# X'),w('!7/+1$7&+\'%4"6" %$"# X"# X'),w('!7&+1$7/+\'%4"6" %$"# X"# X'),w('!7=+W$ \\7G*) "7K*# "7F,/&7G*) "7K*# "7F"+-%7>+#%\'#%$## X$"# X"# X'),w('0""1!3*A "0""1!3*5 "0""1!3*) "73*# "7.'),w('!!7/+U$7&+K% \\7J*# "7K,)&7J*# "7K"+-%7&+#%\'$%$$# X$## X$"# X"# X+! (%'),w('!7/+`$7&+V%! \\7J*# "7K,)&7J*# "7K"+! (%+2%7&+(%4$6$!!%$$# X$## X$"# X"# X'),w('7.*G ".L""2L3M*; "0""1!3*/ "0""1!3*# "73'),w('!.m""2m3n+K$0""1!3*5 "0""1!3*) "0""1!3+#%\'"%$"# X"# X'),w('!7N+Q$.8""2839+A%7O*# " [+1%7S+\'%4$6$ %$$# X$## X$"# X"# X'),w('!7N+k$.8""2839+[%7O*# " [+K%7S+A%7_+7%7l*# " [+\'%4&6& %$&# X$%# X$$# X$## X$"# X"# X'),w('!/""1$3*) "/""1#3+\' 4!6!! %'),w('!7P+b$!.8""2839+-$7R+#%\'"%$"# X"# X*# " [+7%.:""2:3;+\'%4#6# %$## X$"# X"# X'),w(' \\7+*) "7-*# "7Q+2$,/&7+*) "7-*# "7Q""" X'),w('.<""2<3=*q ".>""2>3?*e ".@""2@3A*Y ".B""2B3C*M ".D""2D3E*A ".2""2233*5 ".6""2637*) ".4""2435'),w('! \\7+*_ "7-*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E,e&7+*_ "7-*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E"+& 4!6! %'),w('!7T+N$!.8""2839+-$7^+#%\'"%$"# X"# X*# " [+#%\'"%$"# X"# X'),w('!7U*) "7\\*# "7X+& 4!6! %'),w('! \\!7V+3$.J""2J3K+#%\'"%$"# X"# X,>&!7V+3$.J""2J3K+#%\'"%$"# X"# X"+G$7W+=%.J""2J3K*# " [+\'%4#6# %$## X$"# X"# X'),w(' \\0""1!3+,$,)&0""1!3""" X'),w('!0$""1!3%+A$ \\0""1!3,)&0""1!3"+#%\'"%$"# X"# X'),w('!.o""2o3p+A$7Y+7%.q""2q3r+\'%4#6# %$## X$"# X"# X'),w('!!7Z+$.8""2839+%7Z+%.8""2839+%7Z+%.8""2839+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'-%$-# X$,# X$+# X$*# X$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X* "!.""23+$7Z+%.8""2839+%7Z+%.8""2839+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\',%$,# X$+# X$*# X$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X* "!.""23+$7Z+%.8""2839+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'*%$*# X$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X* "!.""23+{$7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'(%$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X* "!.""23+a$7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'&%$&# X$%# X$$# X$## X$"# X"# X* "!.""23+G$7Z+=%.8""2839+-%7[+#%\'$%$$# X$## X$"# X"# X* "!.""23+-$7[+#%\'"%$"# X"# X* "!.""23+-$7Z+#%\'"%$"# X"# X* "!7Z+$.""23+%7Z+%.8""2839+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'+%$+# X$*# X$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X* "!7Z+$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%.""23+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'*%$*# X$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X* "!7Z+$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+q%.""23+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\')%$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X* "!7Z+$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+W%.""23+G%7Z+=%.8""2839+-%7[+#%\'(%$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X* "!7Z+$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+h%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+=%.""23+-%7[+#%\'\'%$\'# X$&# X$%# X$$# X$## X$"# X"# X* "!7Z+$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+h%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+=%.""23+-%7Z+#%\'(%$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X* "!7Z+$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+^%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+3%.""23+#%\'(%$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X+& 4!6! %'),w('!7#+S$7#*# " [+C%7#*# " [+3%7#*# " [+#%\'$%$$# X$## X$"# X"# X'),w('!7Z+=$.8""2839+-%7Z+#%\'#%$## X$"# X"# X*# "7\\'),w('!7]+u$.J""2J3K+e%7]+[%.J""2J3K+K%7]+A%.J""2J3K+1%7]+\'%4\'6\' %$\'# X$&# X$%# X$$# X$## X$"# X"# X'),w('!.""23+3$0""1!3+#%\'"%$"# X"# X* "!.""23+=$0""1!3+-%7!+#%\'#%$## X$"# X"# X*o "!.""23+7$7!+-%7!+#%\'#%$## X$"# X"# X*D "!0""1!3+-$7!+#%\'"%$"# X"# X*# "7!'),w('!!7!*# " [+c$7!*# " [+S%7!*# " [+C%7!*# " [+3%7!*# " [+#%\'%%$%# X$$# X$## X$"# X"# X+\' 4!6!! %'),w(' \\!.2""2233+-$7`+#%\'"%$"# X"# X,>&!.2""2233+-$7`+#%\'"%$"# X"# X"'),w('7a*A "7b*; "7c*5 "7d*/ "7e*) "7f*# "7g'),w('!/""1*3+b$/""1#3*G "/""1#3*; "/""1$3*/ "/""1#3*# "76+(%4"6"! %$"# X"# X'),w('!/""1%3+J$/""1%3*/ "/""1"3*# "76+(%4"6"! %$"# X"# X'),w('!/""1\'3+2$7+(%4"6"! %$"# X"# X'),w('!/""1$3+2$7+(%4"6"! %$"# X"# X'),w('!/""1&3+2$7T+(%4"6"! %$"# X"# X'),w('!/""1"3+R$!.>""2>3?+-$76+#%\'"%$"# X"# X*# " [+\'%4"6" %$"# X"# X'),w('!7h+T$!.>""2>3?+-$7i+#%\'"%$"# X"# X*# " [+)%4"6""! %$"# X"# X'),w('! \\7j+&$,#&7j""" X+! (%'),w('! \\7j+&$,#&7j""" X+! (%'),w('7k*) "7+*# "7-'),w('.o""2o3p*e ".q""2q3r*Y ".4""2435*M ".8""2839*A ".<""2<3=*5 ".@""2@3A*) ".B""2B3C'),w('!.6""2637+u$7m+k% \\!.<""2<3=+-$7m+#%\'"%$"# X"# X,>&!.<""2<3=+-$7m+#%\'"%$"# X"# X"+#%\'#%$## X$"# X"# X'),w('!7n+C$.>""2>3?+3%7o+)%4#6#"" %$## X$"# X"# X'),w(' \\7p*) "7+*# "7-+2$,/&7p*) "7+*# "7-""" X'),w(' \\7p*) "7+*# "7-,/&7p*) "7+*# "7-"'),w('.o""2o3p*e ".q""2q3r*Y ".4""2435*M ".6""2637*A ".8""2839*5 ".@""2@3A*) ".B""2B3C'),w('7*# "7r'),w("!7+K$7'+A%7s+7%7'+-%7+#%'%%$%# X$$# X$## X$\"# X\"# X"),w('7M*# "7t'),w('!7+G$.8""2839+7%7u*# "7x+\'%4#6# %$## X$"# X"# X'),w('!7v*# "7w+N$!.6""2637+-$7+#%\'"%$"# X"# X*# " [+#%\'"%$"# X"# X'),w('!.""23+=$7+3%7w*# " [+#%\'#%$## X$"# X"# X'),w('!.4""2435+-$7{+#%\'"%$"# X"# X'),w('!7z+5$ \\7y,#&7y"+#%\'"%$"# X"# X'),w('7**) "7+*# "7-'),w('7+* "7-* ".2""2233*} ".6""2637*q ".8""2839*e ".:""2:3;*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E'),w('!7|+k$ \\!.4""2435+-$7|+#%\'"%$"# X"# X,>&!.4""2435+-$7|+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),w('! \\7~,#&7~"+k$ \\!.2""2233+-$7}+#%\'"%$"# X"# X,>&!.2""2233+-$7}+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),w(' \\7~,#&7~"'),w('7+*w "7-*q ".8""2839*e ".:""2:3;*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E'),w('!7"+$ \\7"*G "7!*A ".@""2@3A*5 ".F""2F3G*) ".J""2J3K,M&7"*G "7!*A ".@""2@3A*5 ".F""2F3G*) ".J""2J3K"+\'%4"6" %$"# X"# X'),w('7*# "7'),w('!!7O+3$.:""2:3;+#%\'"%$"# X"# X*# " [+-$7S+#%\'"%$"# X"# X*# " ['),w(' \\7+* "7-*} ".B""2B3C*q ".D""2D3E*e ".2""2233*Y ".8""2839*M ".:""2:3;*A ".<""2<3=*5 ".>""2>3?*) ".@""2@3A+$,&7+* "7-*} ".B""2B3C*q ".D""2D3E*e ".2""2233*Y ".8""2839*M ".:""2:3;*A ".<""2<3=*5 ".>""2>3?*) ".@""2@3A""" X'),w(' \\7y,#&7y"'),w('!/""1#3+y$.4""2435+i% \\7!+&$,#&7!""" X+P%.J""2J3K+@% \\7!+&$,#&7!""" X+\'%4%6% %$%# X$$# X$## X$"# X"# X'),w('.""23'),w('.""23'),w('.""23'),w('.""23'),w('.""23'),w('.""23'),w('.""23'),w('.""23'),w('.""23'),w('.""23'),w('!7*S "7*M "7*G "7*A "7*; "7*5 "7*/ "7*) "7*# "76+& 4!6! %'),w("!7+K$7'+A%7+7%7'+-%7+#%'%%$%# X$$# X$## X$\"# X\"# X"),w("!7+' 4!6!! %"),w('!7!+7$7!+-%7!+#%\'#%$## X$"# X"# X'),w('! \\7**A "7+*; "7-*5 "73*/ "74*) "7\'*# "7(,G&7**A "7+*; "7-*5 "73*/ "74*) "7\'*# "7("+& 4!6! %'),w('!7+_$ \\!7A+-$7+#%\'"%$"# X"# X,8&!7A+-$7+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),w('!79+R$!.:""2:3;+-$79+#%\'"%$"# X"# X*# " [+\'%4"6" %$"# X"# X'),w('!7:*j "!7+_$ \\!7A+-$7+#%\'"%$"# X"# X,8&!7A+-$7+#%\'"%$"# X"# X"+#%\'"%$"# X"# X+& 4!6! %'),w('!7L*# "7+c$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+\'%4"6" %$"# X"# X'),w('!7*# " [+A$7@+7%7M+-%7?+#%\'$%$$# X$## X$"# X"# X'),w('!!76+_$ \\!7.+-$76+#%\'"%$"# X"# X,8&!7.+-$76+#%\'"%$"# X"# X"+#%\'"%$"# X"# X*# "7H+\' 4!6!! %'),w('7*) "7*# "7'),w('!/""1!3+<$7<+2%7+(%4#6#! %$## X$"# X"# X'),w('!/""1\'3+<$7<+2%7+(%4#6#! %$## X$"# X"# X'),w('! \\7!+&$,#&7!""" X+\' 4!6!! %'),w('!.""23+x$!.J""2J3K+S$7!*# " [+C%7!*# " [+3%7!*# " [+#%\'$%$$# X$## X$"# X"# X*# " [+\'%4"6" %$"# X"# X'),w('!76+N$!7<+-$7+#%\'"%$"# X"# X*# " [+)%4"6""! %$"# X"# X'),w('76*) "7T*# "7H'),w('!7+_$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),w('!/""1&3*G "/""1\'3*; "/""1$3*/ "/""1%3*# "76+& 4!6! %'),w('7*# "7'),w('!/""1(3+O$7<+E%/""1(3*/ "/""1(3*# "76+#%\'#%$## X$"# X"# X'),w('!76+_$ \\!7A+-$76+#%\'"%$"# X"# X,8&!7A+-$76+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),w('! \\7!+&$,#&7!""" X+\' 4!6!! %'),w("!7+& 4!6! %"),w('!7+s$7;+i%7+_% \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+#%\'$%$$# X$## X$"# X"# X'),w('7*# "7'),w('/""1$3*S "/""1%3*G "/""1%3*; "/""1%3*/ "/""1+3*# "7'),w('/""1\'3*/ "/""1)3*# "7'),w('76*# "7'),w('!/""1"3+-$76+#%\'"%$"# X"# X'),w('7*# "76'),w('!76+7$7<+-%7+#%\'#%$## X$"# X"# X'),w('76*# "7H'),w('!7+7$7.+-%7+#%\'#%$## X$"# X"# X'),w('! \\7!+&$,#&7!""" X+\' 4!6!! %'),w("!7+' 4!6!! %"),w('!7+d$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+(%4"6"!!%$"# X"# X'),w('!!77+k$ \\!.J""2J3K+-$77+#%\'"%$"# X"# X,>&!.J""2J3K+-$77+#%\'"%$"# X"# X"+#%\'"%$"# X"# X+! (%'),w('!7L*# "7+c$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+\'%4"6" %$"# X"# X'),w('7*# "7'),w('!/""1#3+<$7<+2%76+(%4#6#! %$## X$"# X"# X'),w('! \\7!+&$,#&7!""" X+\' 4!6!! %'),w("!7+' 4!6!! %"),w('! \\7,#&7"+$7@+w%7M+m%7?+c% \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+\'%4%6% %$%# X$$# X$## X$"# X"# X'),w("7"),w('!/""1&3+s$7.+i%7+_% \\!7A+-$7+#%\'"%$"# X"# X,8&!7A+-$7+#%\'"%$"# X"# X"+#%\'$%$$# X$## X$"# X"# X*# "7'),w('!76+s$7.+i%7+_% \\!7A+-$7+#%\'"%$"# X"# X,8&!7A+-$7+#%\'"%$"# X"# X"+#%\'$%$$# X$## X$"# X"# X'),w('!76+=$7<+3%76*# "7H+#%\'#%$## X$"# X"# X'),w('7*G "7*A "7*; "7*5 "7*/ "7*) "7*# "7'),w('!/""1%3+7$7<+-%7+#%\'#%$## X$"# X"# X'),w("!7I+' 4!6!! %"),w('!/""1&3+$7<+%7D+%7+% \\! \\7\'+&$,#&7\'""" X+-$7+#%\'"%$"# X"# X,G&! \\7\'+&$,#&7\'""" X+-$7+#%\'"%$"# X"# X"+-%7E+#%\'&%$&# X$%# X$$# X$## X$"# X"# X'),w('7t*# "7w'),w('!/""1%3+7$7<+-%7+#%\'#%$## X$"# X"# X'),w("!7I+' 4!6!! %"),w('!/""1&3+<$7<+2%7I+(%4#6#! %$## X$"# X"# X'),w('!/""1%3+_$7<+U%!/""1$3+& 4!6! %*4 "!/""1%3+& 4!6! %+#%\'#%$## X$"# X"# X'),w('!/""1)3+T$7<+J%/""1#3*/ "/""1(3*# "76+(%4#6#! %$## X$"# X"# X'),w('!/""1#3+$7<+%7D+%!7+k$ \\!.D""2D3E+-$7+#%\'"%$"# X"# X,>&!.D""2D3E+-$7+#%\'"%$"# X"# X"+#%\'"%$"# X"# X+-%7E+#%\'%%$%# X$$# X$## X$"# X"# X'),w('!/""1(3*/ "/""1$3*# "76+\' 4!6!! %'),w('!76+_$ \\!7A+-$76+#%\'"%$"# X"# X,8&!7A+-$76+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),w('!7+K$7.+A%7+7%7.+-%7+#%\'%%$%# X$$# X$## X$"# X"# X'),w('! \\7!+&$,#&7!""" X+\' 4!6!! %'),w('!7+c$ \\!7A+-$7+#%\'"%$"# X"# X,8&!7A+-$7+#%\'"%$"# X"# X"+\'%4"6" %$"# X"# X'),w('!7+c$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+\'%4"6" %$"# X"# X'),w('!7L*T "7*N "!7@*# " [+=$7t+3%7?*# " [+#%\'#%$## X$"# X"# X+c$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+\'%4"6" %$"# X"# X'),w('!7+c$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+\'%4"6" %$"# X"# X'),w("!7+& 4!6! %"),w('!/""1(3+<$7<+2%76+(%4#6#! %$## X$"# X"# X*j "!/""1&3+<$7<+2%76+(%4#6#! %$## X$"# X"# X*: "!/""1*3+& 4!6! %*# "7'),w('!!76+o$ \\!7A+2$76+(%4"6"! %$"# X"# X,=&!7A+2$76+(%4"6"! %$"# X"# X"+)%4"6""! %$"# X"# X*# " [+\' 4!6!! %'),w('!7+_$ \\!7A+-$7+#%\'"%$"# X"# X,8&!7A+-$7+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),w('!7+_$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),w('! \\7!+&$,#&7!""" X+\' 4!6!! %'),w('!7+_$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),w('!/""1&3*; "/""1\'3*/ "/""1*3*# "76+& 4!6! %'),w('!/""1&3+<$7<+2%7+(%4#6#! %$## X$"# X"# X* "!/""1\'3+<$7<+2%7+(%4#6#! %$## X$"# X"# X*S "!/""1+3+<$7<+2%7+(%4#6#! %$## X$"# X"# X*# "7'),w('/""1+3*k "/""1)3*_ "/""1(3*S "/""1\'3*G "/""1&3*; "/""1*3*/ "/""1)3*# "76'),w('71*# " ['),w('!!76+o$ \\!7A+2$76+(%4"6"! %$"# X"# X,=&!7A+2$76+(%4"6"! %$"# X"# X"+)%4"6""! %$"# X"# X*# " [+\' 4!6!! %'),w('!7L*# "7+c$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+\'%4"6" %$"# X"# X'),w('7*# "7'),w('!7+_$ \\!7A+-$7+#%\'"%$"# X"# X,8&!7A+-$7+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),w('!7+s$7.+i%7+_% \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+#%\'$%$$# X$## X$"# X"# X'),w('7*; "7*5 "7*/ "7*) "7*# "7'),w('!/""1#3+<$7<+2%7+(%4#6#! %$## X$"# X"# X'),w('!/""1%3+<$7<+2%7T+(%4#6#! %$## X$"# X"# X'),w('!/""1(3+B$7<+8%7\\*# "7Y+(%4#6#! %$## X$"# X"# X'),w('!/""1&3+<$7<+2%76+(%4#6#! %$## X$"# X"# X'),w('!/""1%3+T$!7<+5$ \\7!,#&7!"+#%\'"%$"# X"# X*# " [+\'%4"6" %$"# X"# X'),w('!7+K$7;+A%76+7%7;+-%7+#%\'%%$%# X$$# X$## X$"# X"# X'),w('!/""1#3*# "76+\' 4!6!! %'),w('!/""1#3*G "/""1#3*; "/""1#3*/ "/""1$3*# "76+\' 4!6!! %'),w('!7+H$!7C+-$7+#%\'"%$"# X"# X*# " [+#%\'"%$"# X"# X'),w('!7U*) "7\\*# "7X+& 4!6! %'),w('!!7!*# " [+c$7!*# " [+S%7!*# " [+C%7!*# " [+3%7!*# " [+#%\'%%$%# X$$# X$## X$"# X"# X+\' 4!6!! %'),w('!!7!+C$7!*# " [+3%7!*# " [+#%\'#%$## X$"# X"# X+\' 4!6!! %'),w("7"),w('!7+d$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+(%4"6"!!%$"# X"# X'),w('7*# "7'),w('!.""23+N$7<+D%.""23*) ".""23+(%4#6#! %$## X$"# X"# X'),w('!7+d$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+(%4"6"!!%$"# X"# X'),w('!76+7$70+-%7+#%\'#%$## X$"# X"# X'),w(' \\72*) "74*# "7.,/&72*) "74*# "7."'),w(' \\7%,#&7%"'),w('!7+=$.8""2839+-%7+#%\'#%$## X$"# X"# X'),w('!/""1%3*) "/""1$3+\' 4!6!! %'),w('!7+N$!.8""2839+-$7^+#%\'"%$"# X"# X*# " [+#%\'"%$"# X"# X'),w('!7\\*) "7X*# "7+\' 4!6!! %'),w('! \\7*) "7-*# "7,/&7*) "7-*# "7"+! (%'),w('7"*S "7!*M ".F""2F3G*A ".J""2J3K*5 ".H""2H3I*) ".N""2N3O'),w('.L""2L3M* ".B""2B3C* ".<""2<3=*} ".R""2R3S*q ".T""2T3U*e ".V""2V3W*Y ".P""2P3Q*M ".@""2@3A*A ".D""2D3E*5 ".2""2233*) ".>""2>3?'),w('!7+h$.8""2839+X%7+N%!.""23+-$7+#%\'"%$"# X"# X*# " [+#%\'$%$$# X$## X$"# X"# X'),w('!/""1%3*) "/""1$3+\' 4!6!! %'),w('!7+Q$/""1#3*7 "/""1#3*+ " \\7+,#&7+"+\'%4"6" %$"# X"# X'),w('!7+$.F""2F3G+%7+u%.F""2F3G+e%7+[%.F""2F3G+K%7+A%.F""2F3G+1%7+\'%4)6) %$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X'),w('!7#+A$7#+7%7#+-%7#+#%\'$%$$# X$## X$"# X"# X'),w('!7+-$7+#%\'"%$"# X"# X'),w('!7+7$7+-%7+#%\'#%$## X$"# X"# X')],u=0,l=0,h=0,d={line:1,column:1,seenCR:!1},p=0,f=[],m=0;if("startRule"in i){if(!(i.startRule in o))throw new Error("Can't start parsing from rule \""+i.startRule+'".');a=o[i.startRule]}function v(){return e.substring(l,u)}function g(){return l}function _(t){return h!==t&&(h>t&&(h=0,d={line:1,column:1,seenCR:!1}),function(t,n,i){var r,o;for(r=n;r<i;r++)"\n"===(o=e.charAt(r))?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(d,h,t),h=t),d}function y(t){u<p||(u>p&&(p=u,f=[]),f.push(t))}function b(n,i,r){var o=_(r),a=r<e.length?e.charAt(r):null;return null!==i&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(i),new t(null!==n?n:function(t,e){var n,i=new Array(t.length);for(n=0;n<t.length;n++)i[n]=t[n].description;return"Expected "+(t.length>1?i.slice(0,-1).join(", ")+" or "+i[t.length-1]:i[0])+" but "+(e?'"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}(e)+'"':"end of input")+" found."}(i,a),i,a,r,o.line,o.column)}function w(t){var e,n=new Array(t.length);for(e=0;e<t.length;e++)n[e]=t.charCodeAt(e)-32;return n}if(i.data={},(n=function t(n){for(var i,o,a,h=c[n],d=0,p=[],f=h.length,v=[],g=[];;){for(;d<f;)switch(h[d]){case 0:g.push((a=s[h[d+1]],"[object Array]"===Object.prototype.toString.apply(a)?[]:a)),d+=2;break;case 1:g.push(u),d++;break;case 2:g.pop(),d++;break;case 3:u=g.pop(),d++;break;case 4:g.length-=h[d+1],d+=2;break;case 5:g.splice(-2,1),d++;break;case 6:g[g.length-2].push(g.pop()),d++;break;case 7:g.push(g.splice(g.length-h[d+1],h[d+1])),d+=2;break;case 8:g.pop(),g.push(e.substring(g[g.length-1],u)),d++;break;case 9:v.push(f),p.push(d+3+h[d+1]+h[d+2]),g[g.length-1]?(f=d+3+h[d+1],d+=3):(f=d+3+h[d+1]+h[d+2],d+=3+h[d+1]);break;case 10:v.push(f),p.push(d+3+h[d+1]+h[d+2]),g[g.length-1]===r?(f=d+3+h[d+1],d+=3):(f=d+3+h[d+1]+h[d+2],d+=3+h[d+1]);break;case 11:v.push(f),p.push(d+3+h[d+1]+h[d+2]),g[g.length-1]!==r?(f=d+3+h[d+1],d+=3):(f=d+3+h[d+1]+h[d+2],d+=3+h[d+1]);break;case 12:g[g.length-1]!==r?(v.push(f),p.push(d),f=d+2+h[d+1],d+=2):d+=2+h[d+1];break;case 13:v.push(f),p.push(d+3+h[d+1]+h[d+2]),e.length>u?(f=d+3+h[d+1],d+=3):(f=d+3+h[d+1]+h[d+2],d+=3+h[d+1]);break;case 14:v.push(f),p.push(d+4+h[d+2]+h[d+3]),e.substr(u,s[h[d+1]].length)===s[h[d+1]]?(f=d+4+h[d+2],d+=4):(f=d+4+h[d+2]+h[d+3],d+=4+h[d+2]);break;case 15:v.push(f),p.push(d+4+h[d+2]+h[d+3]),e.substr(u,s[h[d+1]].length).toLowerCase()===s[h[d+1]]?(f=d+4+h[d+2],d+=4):(f=d+4+h[d+2]+h[d+3],d+=4+h[d+2]);break;case 16:v.push(f),p.push(d+4+h[d+2]+h[d+3]),s[h[d+1]].test(e.charAt(u))?(f=d+4+h[d+2],d+=4):(f=d+4+h[d+2]+h[d+3],d+=4+h[d+2]);break;case 17:g.push(e.substr(u,h[d+1])),u+=h[d+1],d+=2;break;case 18:g.push(s[h[d+1]]),u+=s[h[d+1]].length,d+=2;break;case 19:g.push(r),0===m&&y(s[h[d+1]]),d+=2;break;case 20:l=g[g.length-1-h[d+1]],d+=2;break;case 21:l=u,d++;break;case 22:for(i=h.slice(d+4,d+4+h[d+3]),o=0;o<h[d+3];o++)i[o]=g[g.length-1-i[o]];g.splice(g.length-h[d+2],h[d+2],s[h[d+1]].apply(null,i)),d+=4+h[d+3];break;case 23:g.push(t(h[d+1])),d+=2;break;case 24:m++,d++;break;case 25:m--,d++;break;default:throw new Error("Invalid opcode: "+h[d]+".")}if(!(v.length>0))break;f=v.pop(),d=p.pop()}return g[0]}(a))!==r&&u===e.length)return n;throw n!==r&&u<e.length&&y({type:"end",description:"end of input"}),b(null,f,p)}}}()},tPbP:function(t,e,n){"use strict";(function(e){var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("+qE3").EventEmitter,o=n("ghd6").getUserAgent,a=5,s=50,c=1e3,u=e.window||e,l=u.WebSocket?u.WebSocket:n("vaDk"),h=n("ghd6"),d=function(t){function e(t,n,i,r,c,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var d=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return u=Object.assign({gateway:f(r,c)+"/v1/VideoEvents",maxReconnectAttempts:a,reconnectIntervalMs:s,userAgent:o(),WebSocket:l},u),Object.defineProperties(d,{_connectTimestamp:{value:0,writable:!0},_eventQueue:{value:[]},_readyToConnect:{value:h.defer()},_reconnectAttemptsLeft:{value:u.maxReconnectAttempts,writable:!0},_ws:{value:null,writable:!0},_WebSocket:{value:u.WebSocket}}),d._readyToConnect.promise.then(function(e){var r=e.roomSid,o=e.participantSid,a=d;d.on("disconnected",function e(s){if(a._session=null,s&&a._reconnectAttemptsLeft>0)return a.emit("reconnecting"),void function(t,e,n,i,r,o,a){var s=Date.now()-t._connectTimestamp,c=a.reconnectIntervalMs-s;if(c>0)return void setTimeout(function(){p(t,e,n,i,r,o,a)},c);p(t,e,n,i,r,o,a)}(a,t,n,i,r,o,u);a.removeListener("disconnected",e)}),p(d,t,n,i,r,o,u)}).catch(function(){}),d}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"connect",value:function(t,e){this._readyToConnect.resolve({roomSid:t,participantSid:e})}},{key:"_publish",value:function(t){t.session=this._session,this._ws.send(JSON.stringify(t))}},{key:"disconnect",value:function(){if(null===this._ws||this._ws.readyState===this._WebSocket.CLOSING||this._ws.readyState===this._WebSocket.CLOSED)return!1;try{this._ws.close()}catch(t){}return this.emit("disconnected"),!0}},{key:"publish",value:function(t,e,n){return(null===this._ws||this._ws.readyState!==this._WebSocket.CLOSING&&this._ws.readyState!==this._WebSocket.CLOSED)&&(("string"==typeof this._session?this._publish.bind(this):this._eventQueue.push.bind(this._eventQueue))({group:t,name:e,payload:n,timestamp:Date.now(),type:"event",version:1}),!0)}}]),e}();function p(t,e,n,i,r,o,a){t._connectTimestamp=Date.now(),t._reconnectAttemptsLeft--,t._ws=new a.WebSocket(a.gateway);var s=t._ws;s.addEventListener("close",function(e){e.code!==c?t.emit("disconnected",new Error("WebSocket Error "+e.code+": "+e.reason)):t.emit("disconnected")}),s.addEventListener("message",function(e){!function(t,e,n){switch(e.type){case"connected":t._session=e.session,t._reconnectAttemptsLeft=n.maxReconnectAttempts,t._eventQueue.splice(0).forEach(t._publish,t),t.emit("connected");break;case"error":t._ws.close(),t.emit("disconnected",new Error(e.message))}}(t,JSON.parse(e.data),a)}),s.addEventListener("open",function(){var t={type:"connect",token:e,version:1};t.publisher={name:n,sdkVersion:i,userAgent:a.userAgent,participantSid:o,roomSid:r},s.send(JSON.stringify(t))})}function f(t,e){return"prod"===t?"wss://sdkgw."+e+".twilio.com":"wss://sdkgw."+t+"-"+e+".twilio.com"}t.exports=d}).call(this,n("yLpj"))},tjbx:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("+qE3").EventEmitter,o=n("ghd6").buildLogLevels,a=n("xwWy").DEFAULT_LOG_LEVEL,s=n("S3Hu"),c=0,u=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));i=Object.assign({logLevel:a},i);var u=o(i.logLevel);return Object.defineProperties(r,{_instanceId:{value:c++},_log:{value:i.log||new s("default",r,u)},trackName:{value:t},trackSid:{value:n}}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"toString",value:function(){return"[TrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),e}();t.exports=u},tjlA:function(t,e,n){"use strict";(function(t){
  /*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   */
  var i=n("H7XF"),r=n("kVK+"),o=n("IzUq");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return u(this,t,e,n)}function u(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=d(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(e,n),r=(t=s(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?s(t,0):d(t,e);if("Buffer"===e.type&&o(e.data))return d(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(l(e),t=s(t,e<0?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function f(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(t).length;default:if(i)return X(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function v(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:g(t,e,n,i,r);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,i,r){var o,a=1,s=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var l=-1;for(o=n;o<s;o++)if(u(t,o)===u(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var h=!0,d=0;d<c;d++)if(u(t,o+d)!==u(e,d)){h=!1;break}if(h)return o}return-1}function _(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function y(t,e,n,i){return F(X(e,t.length-n),t,n,i)}function b(t,e,n,i){return F(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function w(t,e,n,i){return b(t,e,n,i)}function T(t,e,n,i){return F(B(e),t,n,i)}function k(t,e,n,i){return F(function(t,e){for(var n,i,r,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function S(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,a,s,c,u=t[r],l=null,h=u>239?4:u>223?3:u>191?2:1;if(r+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(o=t[r+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l),r+=h}return function(t){var e=t.length;if(e<=E)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=E));return n}(i)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,i){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof i?s(t,e).fill(n,i):s(t,e).fill(n):s(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=c.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return P(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,i,r){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),u=this.slice(i,r),l=t.slice(e,n),h=0;h<s;++h)if(u[h]!==l[h]){o=u[h],a=l[h];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},c.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return y(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return T(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function P(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function O(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function x(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=U(t[o]);return r}function R(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function A(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,i,r,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function I(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function M(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function $(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,i,o){return o||$(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function j(t,e,n,i,o){return o||$(t,0,n,8),r.write(t,e,n,i,52,8),n+8}c.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var r=e-t;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},c.prototype.readUInt8=function(t,e){return e||A(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||A(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||A(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||A(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||A(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||A(t,4,this.length),r.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||A(t,4,this.length),r.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||A(t,8,this.length),r.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||A(t,8,this.length),r.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);D(this,t,e,n,r-1,-r)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);D(this,t,e,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=c.isBuffer(t)?t:X(new c(t,i).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function X(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function F(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n("yLpj"))},tzRi:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"match",value:function(t){return t.track.id}},{key:"update",value:function(){}}]),t}();t.exports=r},uBG5:function(t,e,n){"use strict";var i=n("Jhn5"),r=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n.kind));return Object.defineProperties(i,{readyState:{enumerable:!0,get:function(){return n.readyState}},track:{enumerable:!0,value:n}}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),e}();t.exports=r},"uFp+":function(t,e,n){"use strict";t.exports=function(t){var e;(e=function(e,n){this.logger=n.getLogger("sip.requestsender"),this.ua=n,this.applicant=e,this.method=e.request.method,this.request=e.request,this.credentials=null,this.challenged=!1,this.staled=!1,n.status!==t.UA.C.STATUS_USER_CLOSED||this.method===t.C.BYE&&this.method===t.C.ACK||this.onTransportError()}).prototype={send:function(){switch(this.method){case"INVITE":this.clientTransaction=new t.Transactions.InviteClientTransaction(this,this.request,this.ua.transport);break;case"ACK":this.clientTransaction=new t.Transactions.AckClientTransaction(this,this.request,this.ua.transport);break;default:this.clientTransaction=new t.Transactions.NonInviteClientTransaction(this,this.request,this.ua.transport)}return this.clientTransaction.send(),this.clientTransaction},onRequestTimeout:function(){this.applicant.onRequestTimeout()},onTransportError:function(){this.applicant.onTransportError()},receiveResponse:function(e){var n,i,r,o=e.status_code;if(401===o||407===o){if(401===e.status_code?(i=e.parseHeader("www-authenticate"),r="authorization"):(i=e.parseHeader("proxy-authenticate"),r="proxy-authorization"),!i)return this.logger.warn(e.status_code+" with wrong or missing challenge, cannot authenticate"),void this.applicant.receiveResponse(e);if(!this.challenged||!this.staled&&!0===i.stale){if(this.credentials||(this.credentials=this.ua.configuration.authenticationFactory(this.ua)),!this.credentials.authenticate(this.request,i))return void this.applicant.receiveResponse(e);this.challenged=!0,i.stale&&(this.staled=!0),e.method===t.C.REGISTER?n=this.applicant.cseq+=1:this.request.dialog?n=this.request.dialog.local_seqnum+=1:(n=this.request.cseq+1,this.request.cseq=n),this.request.setHeader("cseq",n+" "+this.method),this.request.setHeader(r,this.credentials.toString()),this.send()}else this.applicant.receiveResponse(e)}else this.applicant.receiveResponse(e)}},t.RequestSender=e}},uqca:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("mv6w"),o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperties(this,{_filter:{value:new r({getKey:function(t){return t.ufrag},isLessThanOrEqualTo:function(t,e){return t.revision<=e.revision}})},_ufrag:{writable:!0,value:null},ufrag:{enumerable:!0,get:function(){return this._ufrag}}})}return i(t,[{key:"setUfrag",value:function(t){this._ufrag=t;var e=this._filter.toMap().get(t);return e?e.candidates:[]}},{key:"update",value:function(t){t.candidates=t.candidates||[];var e=this._filter.toMap().get(t.ufrag),n=e?e.candidates:[];return this._filter.update(t)&&this._ufrag===t.ufrag?t.candidates.slice(n.length):[]}}]),t}();t.exports=o},uxdj:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var o=n("aQcx")(n("9FmL")),a=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),i(e,[{key:"toString",value:function(){return"[LocalVideoTrack #"+this._instanceId+": "+this.id+"]"}},{key:"_end",value:function(){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_end",this).apply(this,arguments)}},{key:"disable",value:function(){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disable",this).apply(this,arguments)}},{key:"enable",value:function(){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enable",this).apply(this,arguments)}},{key:"stop",value:function(){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).apply(this,arguments)}}]),e}();t.exports=a},"v+J8":function(t,e,n){"use strict";t.exports=function(t,e){return{USER_AGENT:t+"/"+e,SIP:"sip",SIPS:"sips",causes:{CONNECTION_ERROR:"Connection Error",REQUEST_TIMEOUT:"Request Timeout",SIP_FAILURE_CODE:"SIP Failure Code",INTERNAL_ERROR:"Internal Error",BUSY:"Busy",REJECTED:"Rejected",REDIRECTED:"Redirected",UNAVAILABLE:"Unavailable",NOT_FOUND:"Not Found",ADDRESS_INCOMPLETE:"Address Incomplete",INCOMPATIBLE_SDP:"Incompatible SDP",AUTHENTICATION_ERROR:"Authentication Error",DIALOG_ERROR:"Dialog Error",WEBRTC_NOT_SUPPORTED:"WebRTC Not Supported",WEBRTC_ERROR:"WebRTC Error",CANCELED:"Canceled",NO_ANSWER:"No Answer",EXPIRES:"Expires",NO_ACK:"No ACK",NO_PRACK:"No PRACK",USER_DENIED_MEDIA_ACCESS:"User Denied Media Access",BAD_MEDIA_DESCRIPTION:"Bad Media Description",RTP_TIMEOUT:"RTP Timeout"},supported:{UNSUPPORTED:"none",SUPPORTED:"supported",REQUIRED:"required"},SIP_ERROR_CAUSES:{REDIRECTED:[300,301,302,305,380],BUSY:[486,600],REJECTED:[403,603],NOT_FOUND:[404,604],UNAVAILABLE:[480,410,408,430],ADDRESS_INCOMPLETE:[484],INCOMPATIBLE_SDP:[488,606],AUTHENTICATION_ERROR:[401,407]},ACK:"ACK",BYE:"BYE",CANCEL:"CANCEL",INFO:"INFO",INVITE:"INVITE",MESSAGE:"MESSAGE",NOTIFY:"NOTIFY",OPTIONS:"OPTIONS",REGISTER:"REGISTER",UPDATE:"UPDATE",SUBSCRIBE:"SUBSCRIBE",REFER:"REFER",PRACK:"PRACK",REASON_PHRASE:{100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"},OPTION_TAGS:{"100rel":!0,199:!0,answermode:!0,"early-session":!0,eventlist:!0,explicitsub:!0,"from-change":!0,"geolocation-http":!0,"geolocation-sip":!0,gin:!0,gruu:!0,histinfo:!0,ice:!0,join:!0,"multiple-refer":!0,norefersub:!0,nosub:!0,outbound:!0,path:!0,policy:!0,precondition:!0,pref:!0,privacy:!0,"recipient-list-invite":!0,"recipient-list-message":!0,"recipient-list-subscribe":!0,replaces:!0,"resource-priority":!0,"sdp-anat":!0,"sec-agree":!0,tdialog:!0,timer:!0,uui:!0}}}},v10a:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("EVdn"),a=function(){function t(t){this.$el=o(t),this._init()}return t.prototype._pushEvent=function(t){window.dataLayer.push(t)},t}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._init=function(){this.data={pageType:this.$el.data("gtm-data").page_type,environnement:this.$el.data("gtm-data").env,pageCategory:this.$el.data("gtm-data").page_category,langue:this.$el.data("gtm-data").lang,userId:this.$el.data("gtm-data").user_id||""},o("[data-prixConsultation]").length&&(this.data.prixConsultation=o("[data-prixConsultation]").attr("data-prixConsultation")),this.data.userId&&(this.data.userId=this.$el.data("gtm-data").user_id,this.data.clientType=this.$el.data("gtm-data").client_type,this.data.clientCategory=this.$el.data("gtm-data").client_category),this.$el.data("gtm-data").error_code&&(this.data.errorCode=this.$el.data("gtm-data").error_code),this._pushEvent(this.data)},e}(a),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._init=function(){var t=this;this.$el.on("click",function(){var e=t.$el.data("analytics");t._pushEvent(e)})},e}(a),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._init=function(){var t=this.$el.data("analytics");this._pushEvent(t)},e}(a);o(document).on("hc:ready",function(t,e){if(t.preventDefault(),void 0!==window.dataLayer){var n=o(e||document);n.find("head").each(function(t,e){return new s(e)}),n.find("a[data-analytics]").each(function(t,e){return new c(e)}),n.find("span[data-analytics]").each(function(t,e){return new u(e)})}})},vaDk:function(t,e){t.exports=WebSocket},vons:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn");i(window).on("load hashchange",function(){var t=new RegExp("filter\\[(.*)\\]\\[(.*)\\]\\[(.*)\\]").exec(window.location.hash);if(null!==t){var e=i('[url-filterable="'+t[1]+'"]');1===e.length&&(i("body, html").animate({scrollTop:e.position().top-20},100),e.find("."+t[2]).val(t[3]).trigger("change"))}})},wAda:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("xwWy"),o=n("Kg6A"),a=n("QB7E"),s=n("HHTs"),c=n("8j3H"),u=n("rJRK"),l=n("ghd6"),h=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=l.makeClientSIPURI(),a="debug"===(n=Object.assign({createCancelableRoomSignalingPromise:o,registrarServer:r.REGISTRAR_SERVER,UA:c.UA},n)).logLevel,s=t.startsWith("wss://"),h=new(0,n.UA)({autostart:!1,log:{builtinEnabled:a},extraSupported:["room-signaling","timer"],hackAllowUnregisteredOptionTags:!0,keepAliveInterval:30,mediaHandlerFactory:u.defaultFactory,register:!1,registrarServer:n.registrarServer,traceSip:a,uri:i,wsServers:t,hackWssInTransport:s}),d=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Object.defineProperties(d,{_createCancelableRoomSignalingPromise:{value:n.createCancelableRoomSignalingPromise},_options:{value:n},_ua:{value:h}}),d}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s),i(e,[{key:"_close",value:function(t){return this.transition("closing",t),this._ua.stop(),this._ua.transport.disconnect(),this.transition("closed",t),Promise.resolve(this)}},{key:"_open",value:function(t){var e=this,n=this._ua;return this.transition("opening",t),l.promiseFromEvents(function(){n.start()},n,"connected","disconnected").then(function(){return e.transition("open",t),e},function(){throw e.transition("closed",t),new Error("Open failed")})}},{key:"_connect",value:function(t,e,n,i,r,o){o=Object.assign({},this._options,o);var a=this._ua;return this._createCancelableRoomSignalingPromise.bind(null,e,a,t,n,i,r,o)}},{key:"createLocalParticipantSignaling",value:function(t,e){return new a(t,e)}}]),e}();t.exports=h},wl3V:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("+qE3").EventEmitter,o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Object.defineProperties(t,{_isEnabled:{value:null,writable:!0},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}}}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"disable",value:function(){return this.enable(!1)}},{key:"enable",value:function(t){return t="boolean"!=typeof t||t,this.isEnabled!==t&&(this._isEnabled=t,this.emit("updated")),this}}]),e}();t.exports=o},wxsB:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var o=n("B32u"),a=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),i(e,[{key:"_start",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_start",this).call(this),this._dummyEl&&this._detachElement(this._dummyEl)}},{key:"attach",value:function(){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).apply(this,arguments)}},{key:"detach",value:function(){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"detach",this).apply(this,arguments)}}]),e}();t.exports=a},xDJS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EVdn"),r=function(){function t(t,e,n){var r=this;this.$controls={audio:i(t).find(".control-bar .audio"),video:i(t).find(".control-bar .video"),panel:i(t).find(".control-bar .show-panel"),leave:i(t).find(".control-bar .leave"),fullscreen:i(t).find(".control-bar .fullscreen")},this.$local=i(t).find(".local"),this.$remote=i(t).find(".remote"),this._room=e,0===e.participants.size&&i(document).trigger("hc:room:firstCome"),i(document).trigger("hc:appointment:join",[n.name,n.waitingTime]),this._registerEvents(),this._attachParticipant(this._room.localParticipant,!0),Array.from(this._room.participants.values()).forEach(function(t){return r._attachParticipant(t)})}return Object.defineProperty(t.prototype,"id",{get:function(){return this._room.sid},enumerable:!0,configurable:!0}),t.prototype.disconnect=function(){this._room.disconnect()},t.prototype._attachParticipant=function(t,e){var n=this;void 0===e&&(e=!1),t.tracks.forEach(function(t){return n._attachTrack(t,e)}),t.on("trackSubscribed",function(t){return n._attachTrack(t)}),t.on("trackUnsubscribed",function(t){return n._detachTrack(t)})},t.prototype._detachParticipant=function(t){var e=this;t.tracks.forEach(function(t){return e._detachTrack(t)})},t.prototype._attachTrack=function(t,e){void 0===e&&(e=!1);var n=e?this.$local:this.$remote;"video"!==t.kind&&!1!==e||n.append(t.attach()),"video"===t.kind&&n.removeClass("disabled")},t.prototype._detachTrack=function(t){/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?t._attachments.forEach(function(e){"video"===t.kind&&e.closest(".video-wrapper").classList.add("disabled"),window.setTimeout(function(){return e.remove()},0)}):t.detach().forEach(function(e){"video"===t.kind&&e.closest(".video-wrapper").classList.add("disabled"),window.setTimeout(function(){return e.remove()},0)})},t.prototype._switchVideo=function(){var t=this;this.$controls.video.toggleClass("disabled"),this._room.localParticipant.videoTracks.forEach(function(e){t.$controls.video.hasClass("disabled")?(e.disable(),t.$local.addClass("disabled")):(e.enable(),t.$local.removeClass("disabled"))})},t.prototype._switchAudio=function(){var t=this;this.$controls.audio.toggleClass("disabled"),this._room.localParticipant.audioTracks.forEach(function(e){t.$controls.audio.hasClass("disabled")?e.disable():e.enable()})},t.prototype._registerEvents=function(){var t=this;this._room.on("participantConnected",function(e){t._attachParticipant(e)}),this._room.on("participantDisconnected",function(e){t._detachParticipant(e)}),this._room.on("disconnected",function(){t._detachParticipant(t._room.localParticipant),t._room.participants.forEach(function(e){return t._detachParticipant(e)})}),this._room.on("trackDisabled",function(e){"video"===e.kind&&t.$remote.addClass("disabled")}),this._room.on("trackEnabled",function(e){"video"===e.kind&&t.$remote.removeClass("disabled")}),this.$controls.audio.on("click",function(e){e.preventDefault(),!1===i(e.target).prop("disabled")&&t._switchAudio()}),this.$controls.video.on("click",function(e){e.preventDefault(),t._switchVideo()}),this.$controls.panel.on("click",function(t){t.preventDefault(),i(document).trigger("hc:room:panel:switch")}),this.$controls.fullscreen.on("click",function(t){t.preventDefault(),i(document).trigger("hc:room:fullscreen:switch")}),this.$controls.leave.on("click",function(t){t.preventDefault(),i(document).trigger("hc:appointment:requestEnd")})},t}();e.Room=r},xVU0:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("WHMX"),o=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.sid,t.name,t.kind,t.enabled))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"update",value:function(t){return this.enable(t.enabled),this}}]),e}();t.exports=o},xwWy:function(t,e,n){"use strict";t.exports.DEFAULT_ENVIRONMENT="prod",t.exports.DEFAULT_REALM="us1",t.exports.DEFAULT_LOG_LEVEL="warn",t.exports.REGISTRAR_SERVER="endpoint.twilio.com",t.exports.WS_SERVER=function(t,e){switch(t){case"prod":switch(e){case"us1":return"wss://endpoint.twilio.com";default:return"wss://endpoint."+e+".twilio.com"}default:return"wss://endpoint."+t+"-"+e+".twilio.com"}},t.exports.ECS_SERVER=function(t,e){switch(t){case"prod":return"https://ecs."+e+".twilio.com";default:return"https://ecs."+t+"-"+e+".twilio.com"}},t.exports.ECS_TIMEOUT=60,t.exports.PUBLISH_MAX_ATTEMPTS=5,t.exports.PUBLISH_BACKOFF_JITTER=10,t.exports.PUBLISH_BACKOFF_MS=20,t.exports.ICE_SERVERS_TIMEOUT_MS=3e3,t.exports.ICE_SERVERS_DEFAULT_TTL=3600,t.exports.DEFAULT_ICE_SERVERS=function(t){switch(t){case"prod":return[{urls:"stun:global.stun.twilio.com:3478?transport=udp"}];default:return[{urls:"stun:global.stun."+t+".twilio.com:3478?transport=udp"}]}},t.exports.headers={X_TWILIO_ACCESSTOKEN:"X-Twilio-AccessToken"},t.exports.typeErrors={INVALID_TYPE:function(t,e){return new TypeError(t+" must be "+(["a","e","i","o","u"].includes(e.toLowerCase()[0])?"an":"a")+" "+e)},INVALID_VALUE:function(t,e){return new RangeError(t+" must be one of ",e.join(", "))},REQUIRED_ARGUMENT:function(t){return new TypeError(t+" must be specified")}},t.exports.DEFAULT_NQ_LEVEL_LOCAL=1,t.exports.DEFAULT_NQ_LEVEL_REMOTE=0,t.exports.MAX_NQ_LEVEL=3},yByE:function(t,e,n){"use strict";t.exports=function(t,e){var i,r;return(i={}).MediaHandler=n("4HcG")(t),i.MediaStreamManager=n("yWQS")(t,e),i.isSupported=function(){return void 0!==r?r:(i.MediaStream=e.MediaStream,i.getUserMedia=e.getUserMedia,i.RTCPeerConnection=e.RTCPeerConnection,i.RTCSessionDescription=e.RTCSessionDescription,i.RTCPeerConnection&&i.RTCSessionDescription?(i.getUserMedia&&(i.getUserMedia=t.Utils.promisify(e,"getUserMedia")),r=!0):r=!1,r)},i}},yHhL:function(t,e,n){"use strict";t.exports=function(t){var e;function n(t,e){var n=e,i=0,r=0;if(t.substring(n,n+2).match(/(^\r\n)/))return-2;for(;0===i;){if(-1===(r=t.indexOf("\r\n",n)))return r;!t.substring(r+2,r+4).match(/(^\r\n)/)&&t.charAt(r+2).match(/(^\s+)/)?n=r+2:i=r}return i}function i(e,n,i,r){var o,a,s,c,u=n.indexOf(":",i),l=n.substring(i,u).trim(),h=n.substring(u+1,r).trim();switch(l.toLowerCase()){case"via":case"v":e.addHeader("via",h),1===e.getHeaders("via").length?(c=e.parseHeader("Via"))&&(e.via=c,e.via_branch=c.branch):c=0;break;case"from":case"f":e.setHeader("from",h),(c=e.parseHeader("from"))&&(e.from=c,e.from_tag=c.getParam("tag"));break;case"to":case"t":e.setHeader("to",h),(c=e.parseHeader("to"))&&(e.to=c,e.to_tag=c.getParam("tag"));break;case"record-route":if(-1===(c=t.Grammar.parse(h,"Record_Route"))){c=void 0;break}for(s=c.length,a=0;a<s;a++)o=c[a],e.addHeader("record-route",h.substring(o.position,o.offset)),e.headers["Record-Route"][e.getHeaders("record-route").length-1].parsed=o.parsed;break;case"call-id":case"i":e.setHeader("call-id",h),(c=e.parseHeader("call-id"))&&(e.call_id=h);break;case"contact":case"m":if(-1===(c=t.Grammar.parse(h,"Contact"))){c=void 0;break}for(s=c.length,a=0;a<s;a++)o=c[a],e.addHeader("contact",h.substring(o.position,o.offset)),e.headers.Contact[e.getHeaders("contact").length-1].parsed=o.parsed;break;case"content-length":case"l":e.setHeader("content-length",h),c=e.parseHeader("content-length");break;case"content-type":case"c":e.setHeader("content-type",h),c=e.parseHeader("content-type");break;case"cseq":e.setHeader("cseq",h),(c=e.parseHeader("cseq"))&&(e.cseq=c.value),e instanceof t.IncomingResponse&&(e.method=c.method);break;case"max-forwards":e.setHeader("max-forwards",h),c=e.parseHeader("max-forwards");break;case"www-authenticate":e.setHeader("www-authenticate",h),c=e.parseHeader("www-authenticate");break;case"proxy-authenticate":e.setHeader("proxy-authenticate",h),c=e.parseHeader("proxy-authenticate");break;case"refer-to":case"r":e.setHeader("refer-to",h),(c=e.parseHeader("refer-to"))&&(e.refer_to=c);break;default:e.setHeader(l,h),c=0}return void 0!==c||{error:'error parsing header "'+l+'"'}}(e={}).parseMessage=function(e,r){var o,a,s,c,u,l=0,h=e.indexOf("\r\n"),d=r.getLogger("sip.parser");if(-1!==h){if(a=e.substring(0,h),-1!==(u=t.Grammar.parse(a,"Request_Response"))){for(u.status_code?((o=new t.IncomingResponse(r)).status_code=u.status_code,o.reason_phrase=u.reason_phrase):((o=new t.IncomingRequest(r)).method=u.method,o.ruri=u.uri),o.data=e,l=h+2;;){if(-2===(h=n(e,l))){c=l+2;break}if(-1===h)return void d.error("malformed message");if(!0!==(u=i(o,e,l,h)))return void d.error(u.error);l=h+2}return o.hasHeader("content-length")?(s=o.getHeader("content-length"),o.body=e.substr(c,s)):o.body=e.substring(c),o}d.warn('error parsing first line of SIP message: "'+a+'"')}else d.warn("no CRLF found, not a SIP message, discarded")},t.Parser=e}},yLpj:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},yTCf:function(t,e,n){"use strict";var i=n("i99/"),r=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return Object.defineProperties(i,{audioLevel:{value:"number"==typeof n.audioOutputLevel?n.audioOutputLevel:null,enumerable:!0},jitter:{value:"number"==typeof n.jitter?n.jitter:null,enumerable:!0}}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),e}();t.exports=r},yTRr:function(t,e,n){"use strict";t.exports=function(t){t.Subscription=function(e,n,i,r){if(r=Object.create(r||Object.prototype),this.extraHeaders=r.extraHeaders=(r.extraHeaders||[]).slice(),this.id=null,this.state="init",!i)throw new TypeError("Event necessary to create a subscription.");this.event=i,"number"!=typeof r.expires?(e.logger.warn("expires must be a number. Using default of 3600."),this.expires=3600):this.expires=r.expires,r.extraHeaders.push("Event: "+this.event),r.extraHeaders.push("Expires: "+this.expires),r.body&&(this.body=r.body),this.contact=e.contact.toString(),r.extraHeaders.push("Contact: "+this.contact),r.extraHeaders.push("Allow: "+t.UA.C.ALLOWED_METHODS.toString()),t.Utils.augment(this,t.ClientContext,[e,t.C.SUBSCRIBE,n,r]),this.logger=e.getLogger("sip.subscription"),this.dialog=null,this.timers={N:null,sub_duration:null},this.errorCodes=[404,405,410,416,480,481,482,483,484,485,489,501,604]},t.Subscription.prototype={subscribe:function(){return"active"===this.state?(this.refresh(),this):"notify_wait"===this.state?this:(t.Timers.clearTimeout(this.timers.sub_duration),t.Timers.clearTimeout(this.timers.N),this.timers.N=t.Timers.setTimeout(this.timer_fire.bind(this),t.Timers.TIMER_N),this.send(),this.state="notify_wait",this)},refresh:function(){"terminated"!==this.state&&"pending"!==this.state&&"notify_wait"!==this.state&&this.dialog.sendRequest(this,t.C.SUBSCRIBE,{extraHeaders:this.extraHeaders,body:this.body})},receiveResponse:function(e){var n,i=t.Utils.getReasonPhrase(e.status_code);"notify_wait"===this.state&&e.status_code>=300||"notify_wait"!==this.state&&-1!==this.errorCodes.indexOf(e.status_code)?this.failed(e,null):/^2[0-9]{2}$/.test(e.status_code)&&(n=e.getHeader("Expires"),t.Timers.clearTimeout(this.timers.N),this.createConfirmedDialog(e,"UAC")&&(this.id=this.dialog.id.toString(),this.ua.subscriptions[this.id]=this,this.emit("accepted",e,i)),n&&n<=this.expires?(this.expires=n,this.timers.sub_duration=t.Timers.setTimeout(this.refresh.bind(this),900*n)):n?(this.logger.warn("Expires header in a 200-class response to SUBSCRIBE with a higher value than the one in the request"),this.failed(e,t.C.INVALID_EXPIRES_HEADER)):(this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE"),this.failed(e,t.C.EXPIRES_HEADER_MISSING)))},unsubscribe:function(){var e=[];this.state="terminated",e.push("Event: "+this.event),e.push("Expires: 0"),e.push("Contact: "+this.contact),e.push("Allow: "+t.UA.C.ALLOWED_METHODS.toString()),this.receiveResponse=function(){},this.dialog.sendRequest(this,this.method,{extraHeaders:e,body:this.body}),t.Timers.clearTimeout(this.timers.sub_duration),t.Timers.clearTimeout(this.timers.N),this.timers.N=t.Timers.setTimeout(this.timer_fire.bind(this),t.Timers.TIMER_N)},timer_fire:function(){"terminated"===this.state?(this.terminateDialog(),t.Timers.clearTimeout(this.timers.N),t.Timers.clearTimeout(this.timers.sub_duration),delete this.ua.subscriptions[this.id]):"pending"===this.state||"notify_wait"===this.state?this.close():this.refresh()},close:function(){"notify_wait"!==this.state&&"terminated"!==this.state&&this.unsubscribe()},createConfirmedDialog:function(e,n){var i;return this.terminateDialog(),!(i=new t.Dialog(this,e,n)).error&&(this.dialog=i,!0)},terminateDialog:function(){this.dialog&&(delete this.ua.subscriptions[this.id],this.dialog.terminate(),delete this.dialog)},receiveRequest:function(e){var n,i=this;function r(){n.expires&&(t.Timers.clearTimeout(i.timers.sub_duration),n.expires=Math.min(i.expires,Math.max(n.expires,0)),i.timers.sub_duration=t.Timers.setTimeout(i.refresh.bind(i),900*n.expires))}if(this.matchEvent(e))if(n=e.parseHeader("Subscription-State"),e.reply(200,t.C.REASON_200),t.Timers.clearTimeout(this.timers.N),this.emit("notify",{request:e}),"terminated"!==this.state)switch(n.state){case"active":this.state="active",r();break;case"pending":"notify_wait"===this.state&&r(),this.state="pending";break;case"terminated":if(t.Timers.clearTimeout(this.timers.sub_duration),n.reason)switch(this.logger.log("terminating subscription with reason "+n.reason),n.reason){case"deactivated":case"timeout":return void this.subscribe();case"probation":case"giveup":return void(n.params&&n.params["retry-after"]?this.timers.sub_duration=t.Timers.setTimeout(i.subscribe.bind(i),n.params["retry-after"]):this.subscribe())}this.close()}else"terminated"===n.state&&(this.terminateDialog(),t.Timers.clearTimeout(this.timers.N),t.Timers.clearTimeout(this.timers.sub_duration),delete this.ua.subscriptions[this.id]);else e.reply(489)},failed:function(t,e){return this.close(),this.emit("failed",t,e),this},onDialogError:function(e){this.failed(e,t.C.causes.DIALOG_ERROR)},matchEvent:function(t){var e;return t.hasHeader("Event")?t.hasHeader("Subscription-State")?(e=t.parseHeader("event").event,this.event===e||(this.logger.warn("event match failed"),t.reply(481,"Event Match Failed"),!1)):(this.logger.warn("missing Subscription-State header"),!1):(this.logger.warn("missing Event header"),!1)}}}},yWQS:function(t,e,n){"use strict";t.exports=function(t,e){var n=function(e,n){if(!t.WebRTC.isSupported())throw new t.Exceptions.NotSupportedError("Media not supported");this.mediaHint=n||{constraints:{audio:!0,video:!0}},this.acquisitions={}};return n.streamId=function(t){return t.getAudioTracks().concat(t.getVideoTracks()).map(function(t){return t.id}).join("")},n.render=function(n,i){if(!i)return!1;if(Array.isArray(i)&&!i.length)throw new TypeError("elements must not be empty");i=[].concat(i),[].concat(n).forEach(function(n,i,r){var o,a=n[r%n.length];"function"==typeof a&&(a=a()),(e.attachMediaStream||function(t,e){t.srcObject=e})(a,i),(o=a).ensurePlayingIntervalId=t.Timers.setInterval(function(){o.paused&&o.srcObject?o.play():t.Timers.clearInterval(o.ensurePlayingIntervalId)},100)}.bind(null,i))},n.prototype=Object.create(t.EventEmitter.prototype,{acquire:{writable:!0,value:function(e){e=Object.keys(e||{}).length?e:this.mediaHint;var i=function(e,i){return(i=[].concat(i)).forEach(function(t){var i=n.streamId(t);this.acquisitions[i]=!!e},this),t.Utils.Promise.resolve(i)}.bind(this);if(e.stream)return i(!0,e.stream);var r=e.constraints||this.mediaHint&&this.mediaHint.constraints||{audio:!0,video:!0},o=t.Utils.defer();return t.Timers.setTimeout(function(){this.emit("userMediaRequest",r);var e=function(t,e){var n=Array.prototype.slice.call(arguments,2),i=[t].concat(n);return this.emit.apply(this,i),e.apply(null,n)}.bind(this);r.audio||r.video?o.resolve(t.WebRTC.getUserMedia(r).then(e.bind(this,"userMedia",i.bind(null,!1)),e.bind(this,"userMediaFailed",function(t){throw t}))):o.resolve([])}.bind(this),0),o.promise}},release:{writable:!0,value:function(t){(t=[].concat(t)).forEach(function(t){var e=n.streamId(t);!1===this.acquisitions[e]&&t.getTracks().forEach(function(t){t.stop()}),delete this.acquisitions[e]},this)}}}),n}},yeub:function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},ypnn:function(t,e){t.exports=function(t,e,n){var i=t.byteLength;if(e=e||0,n=n||i,t.slice)return t.slice(e,n);if(e<0&&(e+=i),n<0&&(n+=i),n>i&&(n=i),e>=i||e>=n||0===i)return new ArrayBuffer(0);for(var r=new Uint8Array(t),o=new Uint8Array(n-e),a=e,s=0;a<n;a++,s++)o[s]=r[a];return o.buffer}},z1nD:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n("NCuz"),o=n("QH9v"),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new(0,(t=Object.assign({DataTrackSender:o,maxPacketLifeTime:null,maxRetransmits:null,ordered:!0},t)).DataTrackSender)(t.maxPacketLifeTime,t.maxRetransmits,t.ordered),i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.id,"data",t));return Object.defineProperties(i,{_trackSender:{value:n},maxPacketLifeTime:{enumerable:!0,value:t.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:t.maxRetransmits},ordered:{enumerable:!0,value:t.ordered},reliable:{enumerable:!0,value:null===t.maxPacketLifeTime&&null===t.maxRetransmits}}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"send",value:function(t){this._trackSender.send(t)}}]),e}();t.exports=a},zJ60:function(t,e,n){(function(e){var i=n("Uxeu"),r=n("NOtv")("socket.io-client:url");t.exports=function(t,n){var o=t;n=n||e.location,null==t&&(t=n.protocol+"//"+n.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(r("protocol-less url %s",t),t=void 0!==n?n.protocol+"//"+t:"https://"+t),r("parse %s",t),o=i(t));o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443"));o.path=o.path||"/";var a=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+a+":"+o.port,o.href=o.protocol+"://"+a+(n&&n.port===o.port?"":":"+o.port),o}}).call(this,n("yLpj"))},zMFY:function(t,e){function n(){}t.exports=function(t,e,i){var r=!1;return i=i||n,o.count=t,0===t?e():o;function o(t,n){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(r=!0,e(t),e=i):0!==o.count||r||e(null,n)}}},zYCr:function(t,e,n){"use strict";var i=n("0iCT"),r=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return Object.defineProperties(i,{bytesSent:{value:"number"==typeof n.bytesSent?n.bytesSent:null,enumerable:!0},packetsSent:{value:"number"==typeof n.packetsSent?n.packetsSent:null,enumerable:!0},roundTripTime:{value:"number"==typeof n.roundTripTime?n.roundTripTime:null,enumerable:!0}}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),e}();t.exports=r}});/**
 * Created by fdariel on 2021/03/16.
 */
